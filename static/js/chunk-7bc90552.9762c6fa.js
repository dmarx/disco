(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bc90552"],{"0d74":function(e,t,n){},"10b3":function(e,t,n){"use strict";n("9e48")},"1ea6":function(e,t,n){"use strict";n("ca93")},"32e4":function(e,t,n){"use strict";n("4f03")},"3e8f":function(e,t){},4741:function(e,t,n){},"4f03":function(e,t,n){},"784b":function(e,t,n){"use strict";n("4741")},7929:function(e,t,n){"use strict";(function(e,o){n.d(t,"a",(function(){return Lu})),n.d(t,"b",(function(){return Js})),n.d(t,"c",(function(){return cu}));var r=n("7a23"),l=Object.defineProperty,i=Object.defineProperties,a=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&d(e,n,t[n]);if(c)for(var n of c(t))u.call(t,n)&&d(e,n,t[n]);return e},p=(e,t)=>i(e,a(t)),h=(e,t)=>{var n={};for(var o in e)s.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&c)for(var o of c(e))t.indexOf(o)<0&&u.call(e,o)&&(n[o]=e[o]);return n};function g(e,t){let n,o,l;const i=Object(r["ref"])(!0);return Object(r["watch"])(e,()=>{i.value=!0,l()},{flush:"sync"}),Object(r["customRef"])((e,r)=>(o=e,l=r,{get(){return i.value&&(n=t(),i.value=!1),o(),n},set(){}}))}function m(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach(e=>e(t))}}}function b(e){return!!Object(r["getCurrentScope"])()&&(Object(r["onScopeDispose"])(e),!0)}function v(e,t,{enumerable:n=!1,unwrap:o=!0}={}){for(const[l,i]of Object.entries(t))"value"!==l&&(Object(r["isRef"])(i)&&o?Object.defineProperty(e,l,{get(){return i.value},set(e){i.value=e},enumerable:n}):Object.defineProperty(e,l,{value:i,enumerable:n}));return e}const y="undefined"!=typeof window,O=e=>"string"==typeof e,j=()=>{};function w(e,t){function n(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return n}const k=e=>e();function x(e,t={}){let n,o;return l=>{const i=Object(r["unref"])(e),a=Object(r["unref"])(t.maxWait);if(n&&clearTimeout(n),i<=0||void 0!==a&&a<=0)return o&&(clearTimeout(o),o=null),l();a&&!o&&(o=setTimeout(()=>{n&&clearTimeout(n),o=null,l()},a)),n=setTimeout(()=>{o&&clearTimeout(o),o=null,l()},i)}}function N(e=k){const t=Object(r["ref"])(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:t,pause:n,resume:o,eventFilter:(...n)=>{t.value&&e(...n)}}}function _(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function E(e,t={}){let n,o,l=e;const i=Object(r["customRef"])((e,t)=>(n=e,o=t,{get(){return a()},set(e){c(e)}}));function a(e=!0){return e&&n(),l}function c(e,n=!0){var r,i;if(e===l)return;const a=l;!1!==(null==(r=t.onBeforeChange)?void 0:r.call(t,e,a))&&(l=e,null==(i=t.onChanged)||i.call(t,e,a),n&&o())}return v(i,{get:a,set:c,untrackedGet:()=>a(!1),silentSet:e=>c(e,!1),peek:()=>a(!1),lay:e=>c(e,!1)},{enumerable:!0})}const S=E;function B(e,t=!0){Object(r["getCurrentInstance"])()?Object(r["onMounted"])(e):t?e():Object(r["nextTick"])(e)}function C(e){let t=!1;function n(n,{flush:o="sync",deep:l=!1,timeout:i,throwOnTimeout:a}={}){let c=null;const s=[new Promise(i=>{c=Object(r["watch"])(e,e=>{n(e)===!t&&(null==c||c(),i())},{flush:o,deep:l,immediate:!0})})];return i&&s.push(_(i,a).finally(()=>{null==c||c()})),Promise.race(s)}function o(e,t){return n(t=>t===Object(r["unref"])(e),t)}function l(e){return n(e=>Boolean(e),e)}function i(e){return o(null,e)}function a(e){return o(void 0,e)}function c(e){return n(Number.isNaN,e)}function s(e,t){return n(t=>{const n=Array.from(t);return n.includes(e)||n.includes(Object(r["unref"])(e))},t)}function u(e){return d(1,e)}function d(e=1,t){let o=-1;return n(()=>(o+=1,o>=e),t)}return Array.isArray(Object(r["unref"])(e))?{toMatch:n,toContains:s,changed:u,changedTimes:d,get not(){return t=!t,this}}:{toMatch:n,toBe:o,toBeTruthy:l,toBeNull:i,toBeNaN:c,toBeUndefined:a,changed:u,changedTimes:d,get not(){return t=!t,this}}}var V=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,T=(e,t)=>{var n={};for(var o in e)P.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&V)for(var o of V(e))t.indexOf(o)<0&&M.call(e,o)&&(n[o]=e[o]);return n};function D(e,t,n={}){const o=n,{eventFilter:l=k}=o,i=T(o,["eventFilter"]);return Object(r["watch"])(e,w(l,t),i)}var z=Object.defineProperty,$=Object.defineProperties,I=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&X(e,n,t[n]);if(A)for(var n of A(t))Y.call(t,n)&&X(e,n,t[n]);return e},H=(e,t)=>$(e,I(t)),F=(e,t)=>{var n={};for(var o in e)L.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&A)for(var o of A(e))t.indexOf(o)<0&&Y.call(e,o)&&(n[o]=e[o]);return n};function U(e,t,n={}){const o=n,{debounce:r=0}=o,l=F(o,["debounce"]);return D(e,t,H(R({},l),{eventFilter:x(r)}))}var Z=Object.defineProperty,G=Object.defineProperties,W=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))K.call(t,n)&&J(e,n,t[n]);if(q)for(var n of q(t))Q.call(t,n)&&J(e,n,t[n]);return e},te=(e,t)=>G(e,W(t)),ne=(e,t)=>{var n={};for(var o in e)K.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&q)for(var o of q(e))t.indexOf(o)<0&&Q.call(e,o)&&(n[o]=e[o]);return n};function oe(e,t,n={}){const o=n,{eventFilter:r}=o,l=ne(o,["eventFilter"]),{eventFilter:i,pause:a,resume:c,isActive:s}=N(r);return{stop:D(e,t,te(ee({},l),{eventFilter:i})),pause:a,resume:c,isActive:s}}function re(e){var t;const n=Object(r["unref"])(e);return null!=(t=null==n?void 0:n.$el)?t:n}const le=y?window:void 0;function ie(...e){let t,n,o,l;if(O(e[0])?([n,o,l]=e,t=le):[t,n,o,l]=e,!t)return j;let i=j;const a=Object(r["watch"])(()=>re(t),e=>{i(),e&&(e.addEventListener(n,o,l),i=()=>{e.removeEventListener(n,o,l),i=j})},{immediate:!0,flush:"post"}),c=()=>{a(),i()};return b(c),c}var ae=Object.defineProperty,ce=Object.defineProperties,se=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>{for(var n in t||(t={}))de.call(t,n)&&pe(e,n,t[n]);if(ue)for(var n of ue(t))fe.call(t,n)&&pe(e,n,t[n]);return e},ge=(e,t)=>ce(e,se(t));const me=e=>"function"==typeof e?e:"string"==typeof e?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function be(e,t,n={}){const{target:o=le,eventName:r="keydown",passive:l=!1}=n,i=me(e);return ie(o,r,e=>{i(e)&&t(e)},l)}function ve(e,t,n={}){return be(e,t,ge(he({},n),{eventName:"keydown"}))}function ye(e,t,n={}){return be(e,t,ge(he({},n),{eventName:"keypress"}))}function Oe(e,t,n={}){return be(e,t,ge(he({},n),{eventName:"keyup"}))}function je(e,t=null){const n=Object(r["getCurrentInstance"])();let o=()=>{};const l=Object(r["customRef"])((r,l)=>(o=l,{get(){var o,l;return r(),null!=(l=null==(o=null==n?void 0:n.proxy)?void 0:o.$refs[e])?l:t},set(){}}));return B(o),Object(r["onUpdated"])(o),l}const we="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},ke="__vueuse_ssr_handlers__";we[ke]=we[ke]||{},we[ke];var xe,Ne,_e=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,Be=(e,t)=>{var n={};for(var o in e)Ee.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&_e)for(var o of _e(e))t.indexOf(o)<0&&Se.call(e,o)&&(n[o]=e[o]);return n};function Ce(e,t,n={}){const o=n,{window:l=le}=o,i=Be(o,["window"]);let a;const c=l&&"ResizeObserver"in l,s=()=>{a&&(a.disconnect(),a=void 0)},u=Object(r["watch"])(()=>re(e),e=>{s(),c&&l&&e&&(a=new ResizeObserver(t),a.observe(e,i))},{immediate:!0,flush:"post"}),d=()=>{s(),u()};return b(d),{isSupported:c,stop:d}}function Ve(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:l=!0}=t,i=Object(r["ref"])(0),a=Object(r["ref"])(0),c=Object(r["ref"])(0),s=Object(r["ref"])(0),u=Object(r["ref"])(0),d=Object(r["ref"])(0),f=Object(r["ref"])(0),p=Object(r["ref"])(0);function h(){const t=re(e);if(!t)return void(n&&(i.value=0,a.value=0,c.value=0,s.value=0,u.value=0,d.value=0,f.value=0,p.value=0));const o=t.getBoundingClientRect();i.value=o.height,a.value=o.bottom,c.value=o.left,s.value=o.right,u.value=o.top,d.value=o.width,f.value=o.x,p.value=o.y}return Ce(e,h),Object(r["watch"])(()=>re(e),e=>!e&&h()),l&&ie("scroll",h,{passive:!0}),o&&ie("resize",h,{passive:!0}),{height:i,bottom:a,left:c,right:s,top:u,width:d,x:f,y:p,update:h}}function Pe(e,t,n,o={}){var l;const{passive:i=!1,eventName:a,deep:c=!1}=o,s=Object(r["getCurrentInstance"])(),u=n||(null==s?void 0:s.emit)||(null==(l=null==s?void 0:s.$emit)?void 0:l.bind(s));let d=a;if(t||(t="modelValue"),d=a||d||"update:"+t,i){const n=Object(r["ref"])(e[t]);return Object(r["watch"])(()=>e[t],e=>n.value=e),Object(r["watch"])(n,n=>{(n!==e[t]||c)&&u(d,n)},{deep:c}),n}return Object(r["computed"])({get(){return e[t]},set(e){u(d,e)}})}function Me(e,t,n={}){const o={};for(const r in e)o[r]=Pe(e,r,t,n);return o}y&&(null==window?void 0:window.navigator)&&(null==(xe=null==window?void 0:window.navigator)?void 0:xe.platform)&&/iP(ad|hone|od)/.test(null==(Ne=null==window?void 0:window.navigator)?void 0:Ne.platform);var Te={value:()=>{}};function De(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new ze(o)}function ze(e){this._=e}function $e(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",o=e.indexOf(".");if(o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Ie(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function Ae(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Te,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}ze.prototype=De.prototype={constructor:ze,on:function(e,t){var n,o=this._,r=$e(e+"",o),l=-1,i=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<i;)if(n=(e=r[l]).type)o[n]=Ae(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Ae(o[n],e.name,null);return this}for(;++l<i;)if((n=(e=r[l]).type)&&(n=Ie(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ze(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),l=0;l<n;++l)r[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],l=0,n=o.length;l<n;++l)o[l].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,l=o.length;r<l;++r)o[r].value.apply(t,n)}};var Le="http://www.w3.org/1999/xhtml",Ye={svg:"http://www.w3.org/2000/svg",xhtml:Le,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xe(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ye.hasOwnProperty(t)?{space:Ye[t],local:e}:e}function Re(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Le&&t.documentElement.namespaceURI===Le?t.createElement(e):t.createElementNS(n,e)}}function He(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fe(e){var t=Xe(e);return(t.local?He:Re)(t)}function Ue(){}function Ze(e){return null==e?Ue:function(){return this.querySelector(e)}}function Ge(e){"function"!=typeof e&&(e=Ze(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var l,i,a=t[r],c=a.length,s=o[r]=new Array(c),u=0;u<c;++u)(l=a[u])&&(i=e.call(l,l.__data__,u,a))&&("__data__"in l&&(i.__data__=l.__data__),s[u]=i);return new $n(o,this._parents)}function We(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function qe(){return[]}function Ke(e){return null==e?qe:function(){return this.querySelectorAll(e)}}function Qe(e){return function(){return We(e.apply(this,arguments))}}function Je(e){e="function"==typeof e?Qe(e):Ke(e);for(var t=this._groups,n=t.length,o=[],r=[],l=0;l<n;++l)for(var i,a=t[l],c=a.length,s=0;s<c;++s)(i=a[s])&&(o.push(e.call(i,i.__data__,s,a)),r.push(i));return new $n(o,r)}function et(e){return function(){return this.matches(e)}}function tt(e){return function(t){return t.matches(e)}}var nt=Array.prototype.find;function ot(e){return function(){return nt.call(this.children,e)}}function rt(){return this.firstElementChild}function lt(e){return this.select(null==e?rt:ot("function"==typeof e?e:tt(e)))}var it=Array.prototype.filter;function at(){return Array.from(this.children)}function ct(e){return function(){return it.call(this.children,e)}}function st(e){return this.selectAll(null==e?at:ct("function"==typeof e?e:tt(e)))}function ut(e){"function"!=typeof e&&(e=et(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var l,i=t[r],a=i.length,c=o[r]=[],s=0;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i)&&c.push(l);return new $n(o,this._parents)}function dt(e){return new Array(e.length)}function ft(){return new $n(this._enter||this._groups.map(dt),this._parents)}function pt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ht(e){return function(){return e}}function gt(e,t,n,o,r,l){for(var i,a=0,c=t.length,s=l.length;a<s;++a)(i=t[a])?(i.__data__=l[a],o[a]=i):n[a]=new pt(e,l[a]);for(;a<c;++a)(i=t[a])&&(r[a]=i)}function mt(e,t,n,o,r,l,i){var a,c,s,u=new Map,d=t.length,f=l.length,p=new Array(d);for(a=0;a<d;++a)(c=t[a])&&(p[a]=s=i.call(c,c.__data__,a,t)+"",u.has(s)?r[a]=c:u.set(s,c));for(a=0;a<f;++a)s=i.call(e,l[a],a,l)+"",(c=u.get(s))?(o[a]=c,c.__data__=l[a],u.delete(s)):n[a]=new pt(e,l[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(p[a])===c&&(r[a]=c)}function bt(e){return e.__data__}function vt(e,t){if(!arguments.length)return Array.from(this,bt);var n=t?mt:gt,o=this._parents,r=this._groups;"function"!=typeof e&&(e=ht(e));for(var l=r.length,i=new Array(l),a=new Array(l),c=new Array(l),s=0;s<l;++s){var u=o[s],d=r[s],f=d.length,p=yt(e.call(u,u&&u.__data__,s,o)),h=p.length,g=a[s]=new Array(h),m=i[s]=new Array(h),b=c[s]=new Array(f);n(u,d,g,m,b,p,t);for(var v,y,O=0,j=0;O<h;++O)if(v=g[O]){for(O>=j&&(j=O+1);!(y=m[j])&&++j<h;);v._next=y||null}}return i=new $n(i,o),i._enter=a,i._exit=c,i}function yt(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ot(){return new $n(this._exit||this._groups.map(dt),this._parents)}function jt(e,t,n){var o=this.enter(),r=this,l=this.exit();return"function"==typeof e?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),null!=t&&(r=t(r),r&&(r=r.selection())),null==n?l.remove():n(l),o&&r?o.merge(r).order():r}function wt(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,l=o.length,i=Math.min(r,l),a=new Array(r),c=0;c<i;++c)for(var s,u=n[c],d=o[c],f=u.length,p=a[c]=new Array(f),h=0;h<f;++h)(s=u[h]||d[h])&&(p[h]=s);for(;c<r;++c)a[c]=n[c];return new $n(a,this._parents)}function kt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],l=r.length-1,i=r[l];--l>=0;)(o=r[l])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this}function xt(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Nt);for(var n=this._groups,o=n.length,r=new Array(o),l=0;l<o;++l){for(var i,a=n[l],c=a.length,s=r[l]=new Array(c),u=0;u<c;++u)(i=a[u])&&(s[u]=i);s.sort(t)}return new $n(r,this._parents).order()}function Nt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _t(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Et(){return Array.from(this)}function St(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,l=o.length;r<l;++r){var i=o[r];if(i)return i}return null}function Bt(){let e=0;for(const t of this)++e;return e}function Ct(){return!this.node()}function Vt(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,l=t[n],i=0,a=l.length;i<a;++i)(r=l[i])&&e.call(r,r.__data__,i,l);return this}function Pt(e){return function(){this.removeAttribute(e)}}function Mt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tt(e,t){return function(){this.setAttribute(e,t)}}function Dt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function $t(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function It(e,t){var n=Xe(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Mt:Pt:"function"==typeof t?n.local?$t:zt:n.local?Dt:Tt)(n,t))}function At(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lt(e){return function(){this.style.removeProperty(e)}}function Yt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xt(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Rt(e,t,n){return arguments.length>1?this.each((null==t?Lt:"function"==typeof t?Xt:Yt)(e,t,null==n?"":n)):Ht(this.node(),e)}function Ht(e,t){return e.style.getPropertyValue(t)||At(e).getComputedStyle(e,null).getPropertyValue(t)}function Ft(e){return function(){delete this[e]}}function Ut(e,t){return function(){this[e]=t}}function Zt(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Gt(e,t){return arguments.length>1?this.each((null==t?Ft:"function"==typeof t?Zt:Ut)(e,t)):this.node()[e]}function Wt(e){return e.trim().split(/^|\s+/)}function qt(e){return e.classList||new Kt(e)}function Kt(e){this._node=e,this._names=Wt(e.getAttribute("class")||"")}function Qt(e,t){for(var n=qt(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Jt(e,t){for(var n=qt(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function en(e){return function(){Qt(this,e)}}function tn(e){return function(){Jt(this,e)}}function nn(e,t){return function(){(t.apply(this,arguments)?Qt:Jt)(this,e)}}function on(e,t){var n=Wt(e+"");if(arguments.length<2){for(var o=qt(this.node()),r=-1,l=n.length;++r<l;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?nn:t?en:tn)(n,t))}function rn(){this.textContent=""}function ln(e){return function(){this.textContent=e}}function an(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function cn(e){return arguments.length?this.each(null==e?rn:("function"==typeof e?an:ln)(e)):this.node().textContent}function sn(){this.innerHTML=""}function un(e){return function(){this.innerHTML=e}}function dn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function fn(e){return arguments.length?this.each(null==e?sn:("function"==typeof e?dn:un)(e)):this.node().innerHTML}function pn(){this.nextSibling&&this.parentNode.appendChild(this)}function hn(){return this.each(pn)}function gn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mn(){return this.each(gn)}function bn(e){var t="function"==typeof e?e:Fe(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function vn(){return null}function yn(e,t){var n="function"==typeof e?e:Fe(e),o=null==t?vn:"function"==typeof t?t:Ze(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))}function On(){var e=this.parentNode;e&&e.removeChild(this)}function jn(){return this.each(On)}function wn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xn(e){return this.select(e?kn:wn)}function Nn(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _n(e){return function(t){e.call(this,t,this.__data__)}}function En(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Sn(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,l=t.length;o<l;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Bn(e,t,n){return function(){var o,r=this.__on,l=_n(t);if(r)for(var i=0,a=r.length;i<a;++i)if((o=r[i]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),void(o.value=t);this.addEventListener(e.type,l,n),o={type:e.type,name:e.name,value:t,listener:l,options:n},r?r.push(o):this.__on=[o]}}function Cn(e,t,n){var o,r,l=En(e+""),i=l.length;if(!(arguments.length<2)){for(a=t?Bn:Sn,o=0;o<i;++o)this.each(a(l[o],t,n));return this}var a=this.node().__on;if(a)for(var c,s=0,u=a.length;s<u;++s)for(o=0,c=a[s];o<i;++o)if((r=l[o]).type===c.type&&r.name===c.name)return c.value}function Vn(e,t,n){var o=At(e),r=o.CustomEvent;"function"==typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Pn(e,t){return function(){return Vn(this,e,t)}}function Mn(e,t){return function(){return Vn(this,e,t.apply(this,arguments))}}function Tn(e,t){return this.each(("function"==typeof t?Mn:Pn)(e,t))}function*Dn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],l=0,i=r.length;l<i;++l)(o=r[l])&&(yield o)}pt.prototype={constructor:pt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Kt.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var zn=[null];function $n(e,t){this._groups=e,this._parents=t}function In(){return new $n([[document.documentElement]],zn)}function An(){return this}function Ln(e){return"string"==typeof e?new $n([[document.querySelector(e)]],[document.documentElement]):new $n([[e]],zn)}function Yn(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xn(e,t){if(e=Yn(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}$n.prototype=In.prototype={constructor:$n,select:Ge,selectAll:Je,selectChild:lt,selectChildren:st,filter:ut,data:vt,enter:ft,exit:Ot,join:jt,merge:wt,selection:An,order:kt,sort:xt,call:_t,nodes:Et,node:St,size:Bt,empty:Ct,each:Vt,attr:It,style:Rt,property:Gt,classed:on,text:cn,html:fn,raise:hn,lower:mn,append:bn,insert:yn,remove:jn,clone:xn,datum:Nn,on:Cn,dispatch:Tn,[Symbol.iterator]:Dn};const Rn={capture:!0,passive:!1};function Hn(e){e.preventDefault(),e.stopImmediatePropagation()}function Fn(e){var t=e.document.documentElement,n=Ln(e).on("dragstart.drag",Hn,Rn);"onselectstart"in t?n.on("selectstart.drag",Hn,Rn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Un(e,t){var n=e.document.documentElement,o=Ln(e).on("dragstart.drag",null);t&&(o.on("click.drag",Hn,Rn),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Zn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gn(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Wn(){}var qn=.7,Kn=1/qn,Qn="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",to=/^#([0-9a-f]{3,8})$/,no=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),oo=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),ro=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Jn}\\)$`),lo=new RegExp(`^rgba\\(${eo},${eo},${eo},${Jn}\\)$`),io=new RegExp(`^hsl\\(${Jn},${eo},${eo}\\)$`),ao=new RegExp(`^hsla\\(${Jn},${eo},${eo},${Jn}\\)$`),co={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function so(){return this.rgb().formatHex()}function uo(){return this.rgb().formatHex8()}function fo(){return Eo(this).formatHsl()}function po(){return this.rgb().formatRgb()}function ho(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=to.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?go(t):3===n?new yo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?mo(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?mo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=no.exec(e))?new yo(t[1],t[2],t[3],1):(t=oo.exec(e))?new yo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ro.exec(e))?mo(t[1],t[2],t[3],t[4]):(t=lo.exec(e))?mo(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=io.exec(e))?_o(t[1],t[2]/100,t[3]/100,1):(t=ao.exec(e))?_o(t[1],t[2]/100,t[3]/100,t[4]):co.hasOwnProperty(e)?go(co[e]):"transparent"===e?new yo(NaN,NaN,NaN,0):null}function go(e){return new yo(e>>16&255,e>>8&255,255&e,1)}function mo(e,t,n,o){return o<=0&&(e=t=n=NaN),new yo(e,t,n,o)}function bo(e){return e instanceof Wn||(e=ho(e)),e?(e=e.rgb(),new yo(e.r,e.g,e.b,e.opacity)):new yo}function vo(e,t,n,o){return 1===arguments.length?bo(e):new yo(e,t,n,null==o?1:o)}function yo(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function Oo(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function jo(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No(255*(isNaN(this.opacity)?1:this.opacity))}`}function wo(){const e=ko(this.opacity);return`${1===e?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${1===e?")":`, ${e})`}`}function ko(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function No(e){return e=xo(e),(e<16?"0":"")+e.toString(16)}function _o(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bo(e,t,n,o)}function Eo(e){if(e instanceof Bo)return new Bo(e.h,e.s,e.l,e.opacity);if(e instanceof Wn||(e=ho(e)),!e)return new Bo;if(e instanceof Bo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),l=Math.max(t,n,o),i=NaN,a=l-r,c=(l+r)/2;return a?(i=t===l?(n-o)/a+6*(n<o):n===l?(o-t)/a+2:(t-n)/a+4,a/=c<.5?l+r:2-l-r,i*=60):a=c>0&&c<1?0:i,new Bo(i,a,c,e.opacity)}function So(e,t,n,o){return 1===arguments.length?Eo(e):new Bo(e,t,n,null==o?1:o)}function Bo(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Co(e){return e=(e||0)%360,e<0?e+360:e}function Vo(e){return Math.max(0,Math.min(1,e||0))}function Po(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Zn(Wn,ho,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:so,formatHex:so,formatHex8:uo,formatHsl:fo,formatRgb:po,toString:po}),Zn(yo,vo,Gn(Wn,{brighter(e){return e=null==e?Kn:Math.pow(Kn,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?qn:Math.pow(qn,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yo(xo(this.r),xo(this.g),xo(this.b),ko(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oo,formatHex:Oo,formatHex8:jo,formatRgb:wo,toString:wo})),Zn(Bo,So,Gn(Wn,{brighter(e){return e=null==e?Kn:Math.pow(Kn,e),new Bo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qn:Math.pow(qn,e),new Bo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new yo(Po(e>=240?e-240:e+120,r,o),Po(e,r,o),Po(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Bo(Co(this.h),Vo(this.s),Vo(this.l),ko(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ko(this.opacity);return`${1===e?"hsl(":"hsla("}${Co(this.h)}, ${100*Vo(this.s)}%, ${100*Vo(this.l)}%${1===e?")":`, ${e})`}`}}));var Mo=e=>()=>e;function To(e,t){return function(n){return e+n*t}}function Do(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function zo(e){return 1==(e=+e)?$o:function(t,n){return n-t?Do(t,n,e):Mo(isNaN(t)?n:t)}}function $o(e,t){var n=t-e;return n?To(e,n):Mo(isNaN(e)?t:e)}var Io=function e(t){var n=zo(t);function o(e,t){var o=n((e=vo(e)).r,(t=vo(t)).r),r=n(e.g,t.g),l=n(e.b,t.b),i=$o(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=l(t),e.opacity=i(t),e+""}}return o.gamma=e,o}(1);function Ao(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Lo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yo=new RegExp(Lo.source,"g");function Xo(e){return function(){return e}}function Ro(e){return function(t){return e(t)+""}}function Ho(e,t){var n,o,r,l=Lo.lastIndex=Yo.lastIndex=0,i=-1,a=[],c=[];for(e+="",t+="";(n=Lo.exec(e))&&(o=Yo.exec(t));)(r=o.index)>l&&(r=t.slice(l,r),a[i]?a[i]+=r:a[++i]=r),(n=n[0])===(o=o[0])?a[i]?a[i]+=o:a[++i]=o:(a[++i]=null,c.push({i:i,x:Ao(n,o)})),l=Yo.lastIndex;return l<t.length&&(r=t.slice(l),a[i]?a[i]+=r:a[++i]=r),a.length<2?c[0]?Ro(c[0].x):Xo(t):(t=c.length,function(e){for(var n,o=0;o<t;++o)a[(n=c[o]).i]=n.x(e);return a.join("")})}var Fo,Uo=180/Math.PI,Zo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Go(e,t,n,o,r,l){var i,a,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,c/=a),e*o<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:r,translateY:l,rotate:Math.atan2(t,e)*Uo,skewX:Math.atan(c)*Uo,scaleX:i,scaleY:a}}function Wo(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zo:Go(t.a,t.b,t.c,t.d,t.e,t.f)}function qo(e){return null!=e&&(Fo||(Fo=document.createElementNS("http://www.w3.org/2000/svg","g")),Fo.setAttribute("transform",e),e=Fo.transform.baseVal.consolidate())?(e=e.matrix,Go(e.a,e.b,e.c,e.d,e.e,e.f)):Zo}function Ko(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}function l(e,o,r,l,i,a){if(e!==r||o!==l){var c=i.push("translate(",null,t,null,n);a.push({i:c-4,x:Ao(e,r)},{i:c-2,x:Ao(o,l)})}else(r||l)&&i.push("translate("+r+t+l+n)}function i(e,t,n,l){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),l.push({i:n.push(r(n)+"rotate(",null,o)-2,x:Ao(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}function a(e,t,n,l){e!==t?l.push({i:n.push(r(n)+"skewX(",null,o)-2,x:Ao(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}function c(e,t,n,o,l,i){if(e!==n||t!==o){var a=l.push(r(l)+"scale(",null,",",null,")");i.push({i:a-4,x:Ao(e,n)},{i:a-2,x:Ao(t,o)})}else(1!==n||1!==o)&&l.push(r(l)+"scale("+n+","+o+")")}return function(t,n){var o=[],r=[];return t=e(t),n=e(n),l(t.translateX,t.translateY,n.translateX,n.translateY,o,r),i(t.rotate,n.rotate,o,r),a(t.skewX,n.skewX,o,r),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,o,r),t=n=null,function(e){for(var t,n=-1,l=r.length;++n<l;)o[(t=r[n]).i]=t.x(e);return o.join("")}}}var Qo=Ko(Wo,"px, ","px)","deg)"),Jo=Ko(qo,", ",")",")"),er=1e-12;function tr(e){return((e=Math.exp(e))+1/e)/2}function nr(e){return((e=Math.exp(e))-1/e)/2}function or(e){return((e=Math.exp(2*e))-1)/(e+1)}var rr,lr,ir=function e(t,n,o){function r(e,r){var l,i,a=e[0],c=e[1],s=e[2],u=r[0],d=r[1],f=r[2],p=u-a,h=d-c,g=p*p+h*h;if(g<er)i=Math.log(f/s)/t,l=function(e){return[a+e*p,c+e*h,s*Math.exp(t*e*i)]};else{var m=Math.sqrt(g),b=(f*f-s*s+o*g)/(2*s*n*m),v=(f*f-s*s-o*g)/(2*f*n*m),y=Math.log(Math.sqrt(b*b+1)-b),O=Math.log(Math.sqrt(v*v+1)-v);i=(O-y)/t,l=function(e){var o=e*i,r=tr(y),l=s/(n*m)*(r*or(t*o+y)-nr(y));return[a+l*p,c+l*h,s*r/tr(t*o+y)]}}return l.duration=1e3*i*t/Math.SQRT2,l}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n,r=o*o;return e(n,o,r)},r}(Math.SQRT2,2,4),ar=0,cr=0,sr=0,ur=1e3,dr=0,fr=0,pr=0,hr="object"==typeof performance&&performance.now?performance:Date,gr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mr(){return fr||(gr(br),fr=hr.now()+pr)}function br(){fr=0}function vr(){this._call=this._time=this._next=null}function yr(e,t,n){var o=new vr;return o.restart(e,t,n),o}function Or(){mr(),++ar;for(var e,t=rr;t;)(e=fr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ar}function jr(){fr=(dr=hr.now())+pr,ar=cr=0;try{Or()}finally{ar=0,kr(),fr=0}}function wr(){var e=hr.now(),t=e-dr;t>ur&&(pr-=t,dr=e)}function kr(){for(var e,t,n=rr,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:rr=t);lr=e,xr(o)}function xr(e){if(!ar){cr&&(cr=clearTimeout(cr));var t=e-fr;t>24?(e<1/0&&(cr=setTimeout(jr,e-hr.now()-pr)),sr&&(sr=clearInterval(sr))):(sr||(dr=hr.now(),sr=setInterval(wr,ur)),ar=1,gr(jr))}}function Nr(e,t,n){var o=new vr;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}vr.prototype=yr.prototype={constructor:vr,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?mr():+n)+(null==t?0:+t),!this._next&&lr!==this&&(lr?lr._next=this:rr=this,lr=this),this._call=e,this._time=n,xr()},stop:function(){this._call&&(this._call=null,this._time=1/0,xr())}};var _r=De("start","end","cancel","interrupt"),Er=[],Sr=0,Br=1,Cr=2,Vr=3,Pr=4,Mr=5,Tr=6;function Dr(e,t,n,o,r,l){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};Ar(e,n,{name:t,index:o,group:r,on:_r,tween:Er,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Sr})}function zr(e,t){var n=Ir(e,t);if(n.state>Sr)throw new Error("too late; already scheduled");return n}function $r(e,t){var n=Ir(e,t);if(n.state>Vr)throw new Error("too late; already running");return n}function Ir(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ar(e,t,n){var o,r=e.__transition;function l(e){n.state=Br,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(l){var s,u,d,f;if(n.state!==Br)return c();for(s in r)if(f=r[s],f.name===n.name){if(f.state===Vr)return Nr(i);f.state===Pr?(f.state=Tr,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[s]):+s<t&&(f.state=Tr,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[s])}if(Nr((function(){n.state===Vr&&(n.state=Pr,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=Cr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cr){for(n.state=Vr,o=new Array(d=n.tween.length),s=0,u=-1;s<d;++s)(f=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=f);o.length=u+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=Mr,1),l=-1,i=o.length;++l<i;)o[l].call(e,r);n.state===Mr&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var o in n.state=Tr,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=yr(l,0,n.time)}function Lr(e,t){var n,o,r,l=e.__transition,i=!0;if(l){for(r in t=null==t?null:t+"",l)(n=l[r]).name===t?(o=n.state>Cr&&n.state<Mr,n.state=Tr,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete l[r]):i=!1;i&&delete e.__transition}}function Yr(e){return this.each((function(){Lr(this,e)}))}function Xr(e,t){var n,o;return function(){var r=$r(this,e),l=r.tween;if(l!==n){o=n=l;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function Rr(e,t,n){var o,r;if("function"!=typeof n)throw new Error;return function(){var l=$r(this,e),i=l.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},c=0,s=r.length;c<s;++c)if(r[c].name===t){r[c]=a;break}c===s&&r.push(a)}l.tween=r}}function Hr(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=Ir(this.node(),n).tween,l=0,i=r.length;l<i;++l)if((o=r[l]).name===e)return o.value;return null}return this.each((null==t?Xr:Rr)(n,e,t))}function Fr(e,t,n){var o=e._id;return e.each((function(){var e=$r(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Ir(e,o).value[t]}}function Ur(e,t){var n;return("number"==typeof t?Ao:t instanceof ho?Io:(n=ho(t))?(t=n,Io):Ho)(e,t)}function Zr(e){return function(){this.removeAttribute(e)}}function Gr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wr(e,t,n){var o,r,l=n+"";return function(){var i=this.getAttribute(e);return i===l?null:i===o?r:r=t(o=i,n)}}function qr(e,t,n){var o,r,l=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===l?null:i===o?r:r=t(o=i,n)}}function Kr(e,t,n){var o,r,l;return function(){var i,a,c=n(this);return null==c?void this.removeAttribute(e):(i=this.getAttribute(e),a=c+"",i===a?null:i===o&&a===r?l:(r=a,l=t(o=i,c)))}}function Qr(e,t,n){var o,r,l;return function(){var i,a,c=n(this);return null==c?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=c+"",i===a?null:i===o&&a===r?l:(r=a,l=t(o=i,c)))}}function Jr(e,t){var n=Xe(e),o="transform"===n?Jo:Ur;return this.attrTween(e,"function"==typeof t?(n.local?Qr:Kr)(n,o,Fr(this,"attr."+e,t)):null==t?(n.local?Gr:Zr)(n):(n.local?qr:Wr)(n,o,t))}function el(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nl(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&tl(e,r)),n}return r._value=t,r}function ol(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&el(e,r)),n}return r._value=t,r}function rl(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var o=Xe(e);return this.tween(n,(o.local?nl:ol)(o,t))}function ll(e,t){return function(){zr(this,e).delay=+t.apply(this,arguments)}}function il(e,t){return t=+t,function(){zr(this,e).delay=t}}function al(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ll:il)(t,e)):Ir(this.node(),t).delay}function cl(e,t){return function(){$r(this,e).duration=+t.apply(this,arguments)}}function sl(e,t){return t=+t,function(){$r(this,e).duration=t}}function ul(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?cl:sl)(t,e)):Ir(this.node(),t).duration}function dl(e,t){if("function"!=typeof t)throw new Error;return function(){$r(this,e).ease=t}}function fl(e){var t=this._id;return arguments.length?this.each(dl(t,e)):Ir(this.node(),t).ease}function pl(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;$r(this,e).ease=n}}function hl(e){if("function"!=typeof e)throw new Error;return this.each(pl(this._id,e))}function gl(e){"function"!=typeof e&&(e=et(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var l,i=t[r],a=i.length,c=o[r]=[],s=0;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i)&&c.push(l);return new Hl(o,this._parents,this._name,this._id)}function ml(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,l=Math.min(o,r),i=new Array(o),a=0;a<l;++a)for(var c,s=t[a],u=n[a],d=s.length,f=i[a]=new Array(d),p=0;p<d;++p)(c=s[p]||u[p])&&(f[p]=c);for(;a<o;++a)i[a]=t[a];return new Hl(i,this._parents,this._name,this._id)}function bl(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function vl(e,t,n){var o,r,l=bl(t)?zr:$r;return function(){var i=l(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function yl(e,t){var n=this._id;return arguments.length<2?Ir(this.node(),n).on.on(e):this.each(vl(n,e,t))}function Ol(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function jl(){return this.on("end.remove",Ol(this._id))}function wl(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ze(e));for(var o=this._groups,r=o.length,l=new Array(r),i=0;i<r;++i)for(var a,c,s=o[i],u=s.length,d=l[i]=new Array(u),f=0;f<u;++f)(a=s[f])&&(c=e.call(a,a.__data__,f,s))&&("__data__"in a&&(c.__data__=a.__data__),d[f]=c,Dr(d[f],t,n,f,d,Ir(a,n)));return new Hl(l,this._parents,t,n)}function kl(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ke(e));for(var o=this._groups,r=o.length,l=[],i=[],a=0;a<r;++a)for(var c,s=o[a],u=s.length,d=0;d<u;++d)if(c=s[d]){for(var f,p=e.call(c,c.__data__,d,s),h=Ir(c,n),g=0,m=p.length;g<m;++g)(f=p[g])&&Dr(f,t,n,g,p,h);l.push(p),i.push(c)}return new Hl(l,i,t,n)}var xl=In.prototype.constructor;function Nl(){return new xl(this._groups,this._parents)}function _l(e,t){var n,o,r;return function(){var l=Ht(this,e),i=(this.style.removeProperty(e),Ht(this,e));return l===i?null:l===n&&i===o?r:r=t(n=l,o=i)}}function El(e){return function(){this.style.removeProperty(e)}}function Sl(e,t,n){var o,r,l=n+"";return function(){var i=Ht(this,e);return i===l?null:i===o?r:r=t(o=i,n)}}function Bl(e,t,n){var o,r,l;return function(){var i=Ht(this,e),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(e),c=a=Ht(this,e)),i===c?null:i===o&&c===r?l:(r=c,l=t(o=i,a))}}function Cl(e,t){var n,o,r,l,i="style."+t,a="end."+i;return function(){var c=$r(this,e),s=c.on,u=null==c.value[i]?l||(l=El(t)):void 0;(s!==n||r!==u)&&(o=(n=s).copy()).on(a,r=u),c.on=o}}function Vl(e,t,n){var o="transform"===(e+="")?Qo:Ur;return null==t?this.styleTween(e,_l(e,o)).on("end.style."+e,El(e)):"function"==typeof t?this.styleTween(e,Bl(e,o,Fr(this,"style."+e,t))).each(Cl(this._id,e)):this.styleTween(e,Sl(e,o,t),n).on("end.style."+e,null)}function Pl(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Ml(e,t,n){var o,r;function l(){var l=t.apply(this,arguments);return l!==r&&(o=(r=l)&&Pl(e,l,n)),o}return l._value=t,l}function Tl(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw new Error;return this.tween(o,Ml(e,t,null==n?"":n))}function Dl(e){return function(){this.textContent=e}}function zl(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function $l(e){return this.tween("text","function"==typeof e?zl(Fr(this,"text",e)):Dl(null==e?"":e+""))}function Il(e){return function(t){this.textContent=e.call(this,t)}}function Al(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Il(o)),t}return o._value=e,o}function Ll(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Al(e))}function Yl(){for(var e=this._name,t=this._id,n=Fl(),o=this._groups,r=o.length,l=0;l<r;++l)for(var i,a=o[l],c=a.length,s=0;s<c;++s)if(i=a[s]){var u=Ir(i,t);Dr(i,e,n,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Hl(o,this._parents,e,n)}function Xl(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(l,i){var a={value:i},c={value:function(){0==--r&&l()}};n.each((function(){var n=$r(this,o),r=n.on;r!==e&&(t=(e=r).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),n.on=t})),0===r&&l()}))}var Rl=0;function Hl(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Fl(){return++Rl}var Ul=In.prototype;function Zl(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Hl.prototype={constructor:Hl,select:wl,selectAll:kl,selectChild:Ul.selectChild,selectChildren:Ul.selectChildren,filter:gl,merge:ml,selection:Nl,transition:Yl,call:Ul.call,nodes:Ul.nodes,node:Ul.node,size:Ul.size,empty:Ul.empty,each:Ul.each,on:yl,attr:Jr,attrTween:rl,style:Vl,styleTween:Tl,text:$l,textTween:Ll,remove:jl,tween:Hr,delay:al,duration:ul,ease:fl,easeVarying:hl,end:Xl,[Symbol.iterator]:Ul[Symbol.iterator]};var Gl={time:null,delay:0,duration:250,ease:Zl};function Wl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ql(e){var t,n;e instanceof Hl?(t=e._id,e=e._name):(t=Fl(),(n=Gl).time=mr(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,l=0;l<r;++l)for(var i,a=o[l],c=a.length,s=0;s<c;++s)(i=a[s])&&Dr(i,e,t,s,a,n||Wl(i,t));return new Hl(o,this._parents,e,t)}In.prototype.interrupt=Yr,In.prototype.transition=ql;var Kl=e=>()=>e;function Ql(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Jl(e,t,n){this.k=e,this.x=t,this.y=n}Jl.prototype={constructor:Jl,scale:function(e){return 1===e?this:new Jl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Jl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ei,ti,ni,oi,ri,li,ii=new Jl(1,0,0);function ai(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function si(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function ui(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function di(){return this.__zoom||ii}function fi(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pi(){return navigator.maxTouchPoints||"ontouchstart"in this}function hi(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],l=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>l?(l+i)/2:Math.min(0,l)||Math.max(0,i))}function gi(){var e,t,n,o=si,r=ui,l=hi,i=fi,a=pi,c=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,d=ir,f=De("start","zoom","end"),p=500,h=150,g=0,m=10;function b(e){e.property("__zoom",di).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",_).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return t=Math.max(c[0],Math.min(c[1],t)),t===e.k?e:new Jl(t,e.x,e.y)}function y(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new Jl(e.k,o,r)}function O(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function j(e,t,n,o){e.on("start.zoom",(function(){w(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,l=arguments,i=w(e,l).event(o),a=r.apply(e,l),c=null==n?O(a):"function"==typeof n?n.apply(e,l):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,f="function"==typeof t?t.apply(e,l):t,p=d(u.invert(c).concat(s/u.k),f.invert(c).concat(s/f.k));return function(e){if(1===e)e=f;else{var t=p(e),n=s/t[2];e=new Jl(n,c[0]-t[0]*n,c[1]-t[1]*n)}i.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function x(e,...t){if(o.apply(this,arguments)){var n=w(this,t).event(e),r=this.__zoom,a=Math.max(c[0],Math.min(c[1],r.k*Math.pow(2,i.apply(this,arguments)))),u=Xn(e);if(n.wheel)(n.mouse[0][0]!==u[0]||n.mouse[0][1]!==u[1])&&(n.mouse[1]=r.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[u,r.invert(u)],Lr(this),n.start()}ci(e),n.wheel=setTimeout(d,h),n.zoom("mouse",l(y(v(r,a),n.mouse[0],n.mouse[1]),n.extent,s))}function d(){n.wheel=null,n.end()}}function N(e,...t){if(!n&&o.apply(this,arguments)){var r=e.currentTarget,i=w(this,t,!0).event(e),a=Ln(e.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),c=Xn(e,r),u=e.clientX,d=e.clientY;Fn(e.view),ai(e),i.mouse=[c,this.__zoom.invert(c)],Lr(this),i.start()}function f(e){if(ci(e),!i.moved){var t=e.clientX-u,n=e.clientY-d;i.moved=t*t+n*n>g}i.event(e).zoom("mouse",l(y(i.that.__zoom,i.mouse[0]=Xn(e,r),i.mouse[1]),i.extent,s))}function p(e){a.on("mousemove.zoom mouseup.zoom",null),Un(e.view,i.moved),ci(e),i.event(e).end()}}function _(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,i=Xn(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(i),c=n.k*(e.shiftKey?.5:2),d=l(y(v(n,c),i,a),r.apply(this,t),s);ci(e),u>0?Ln(this).transition().duration(u).call(j,d,i,e):Ln(this).call(b.transform,d,i,e)}}function E(n,...r){if(o.apply(this,arguments)){var l,i,a,c,s=n.touches,u=s.length,d=w(this,r,n.changedTouches.length===u).event(n);for(ai(n),i=0;i<u;++i)a=s[i],c=Xn(a,this),c=[c,this.__zoom.invert(c),a.identifier],d.touch0?!d.touch1&&d.touch0[2]!==c[2]&&(d.touch1=c,d.taps=0):(d.touch0=c,l=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),l&&(d.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),p)),Lr(this),d.start())}}function S(e,...t){if(this.__zooming){var n,o,r,i,a=w(this,t).event(e),c=e.changedTouches,u=c.length;for(ci(e),n=0;n<u;++n)o=c[n],r=Xn(o,this),a.touch0&&a.touch0[2]===o.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===o.identifier&&(a.touch1[0]=r);if(o=a.that.__zoom,a.touch1){var d=a.touch0[0],f=a.touch0[1],p=a.touch1[0],h=a.touch1[1],g=(g=p[0]-d[0])*g+(g=p[1]-d[1])*g,m=(m=h[0]-f[0])*m+(m=h[1]-f[1])*m;o=v(o,Math.sqrt(g/m)),r=[(d[0]+p[0])/2,(d[1]+p[1])/2],i=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",l(y(o,r,i),a.extent,s))}}function B(e,...o){if(this.__zooming){var r,l,i=w(this,o).event(e),a=e.changedTouches,c=a.length;for(ai(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),r=0;r<c;++r)l=a[r],i.touch0&&i.touch0[2]===l.identifier?delete i.touch0:i.touch1&&i.touch1[2]===l.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps&&(l=Xn(l,this),Math.hypot(t[0]-l[0],t[1]-l[1])<m)){var s=Ln(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return b.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",di),e!==r?j(e,t,n,o):r.interrupt().each((function(){w(this,arguments).event(o).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},b.scaleBy=function(e,t,n,o){b.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n,o)},b.scaleTo=function(e,t,n,o){b.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,i=null==n?O(e):"function"==typeof n?n.apply(this,arguments):n,a=o.invert(i),c="function"==typeof t?t.apply(this,arguments):t;return l(y(v(o,c),i,a),e,s)}),n,o)},b.translateBy=function(e,t,n,o){b.transform(e,(function(){return l(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)}),null,o)},b.translateTo=function(e,t,n,o,i){b.transform(e,(function(){var e=r.apply(this,arguments),i=this.__zoom,a=null==o?O(e):"function"==typeof o?o.apply(this,arguments):o;return l(ii.translate(a[0],a[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,s)}),o,i)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ln(this.that).datum();f.call(e,this.that,new Ql(e,{sourceEvent:this.sourceEvent,target:b,type:e,transform:this.that.__zoom,dispatch:f}),t)}},b.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:Kl(+e),b):i},b.filter=function(e){return arguments.length?(o="function"==typeof e?e:Kl(!!e),b):o},b.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Kl(!!e),b):a},b.extent=function(e){return arguments.length?(r="function"==typeof e?e:Kl([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),b):r},b.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],b):[c[0],c[1]]},b.translateExtent=function(e){return arguments.length?(s[0][0]=+e[0][0],s[1][0]=+e[1][0],s[0][1]=+e[0][1],s[1][1]=+e[1][1],b):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},b.constrain=function(e){return arguments.length?(l=e,b):l},b.duration=function(e){return arguments.length?(u=+e,b):u},b.interpolate=function(e){return arguments.length?(d=e,b):d},b.on=function(){var e=f.on.apply(f,arguments);return e===f?b:e},b.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,b):Math.sqrt(g)},b.tapDistance=function(e){return arguments.length?(m=+e,b):m},b}(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ei||(ei={})),function(e){e.Lines="lines",e.Dots="dots"}(ti||(ti={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(ni||(ni={})),function(e){e.Strict="strict",e.Loose="loose"}(oi||(oi={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ri||(ri={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(li||(li={}));const mi=Symbol("vueFlow"),bi=Symbol("nodeId"),vi=Symbol("slots"),yi=()=>({edgesChange:m(),nodesChange:m(),nodeDoubleClick:m(),nodeClick:m(),nodeMouseEnter:m(),nodeMouseMove:m(),nodeMouseLeave:m(),nodeContextMenu:m(),nodeDragStart:m(),nodeDrag:m(),nodeDragStop:m(),miniMapNodeClick:m(),miniMapNodeDoubleClick:m(),connect:m(),connectStart:m(),connectStop:m(),connectEnd:m(),paneReady:m(),move:m(),moveStart:m(),moveEnd:m(),selectionDragStart:m(),selectionDrag:m(),selectionDragStop:m(),selectionContextMenu:m(),paneScroll:m(),paneClick:m(),paneContextMenu:m(),edgeContextMenu:m(),edgeMouseEnter:m(),edgeMouseMove:m(),edgeMouseLeave:m(),edgeDoubleClick:m(),edgeClick:m(),edgeUpdateStart:m(),edgeUpdate:m(),edgeUpdateEnd:m()}),Oi=(e,t)=>{for(const[n,o]of Object.entries(t))o.on(t=>{e(n,t)})};var ji=(e,t)=>Oi(e,t);const wi=["data-handleid","data-nodeid","data-handlepos"],ki={name:"Handle"};var xi;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xi||(xi={}));const Ni=Object(r["defineComponent"])(p(f({},ki),{props:{id:null,type:{default:"source"},position:{default:"top"},isValidConnection:null,connectable:{type:Boolean,default:!0}},setup(e){const t=e,{id:n,hooks:o,connectionStartHandle:l,connectionMode:i}=Js(),a=Object(r["inject"])(bi,""),c=Object(r["computed"])(()=>{var e;return null!=(e=t.id)?e:i.value===oi.Strict?null:`${a}__handle-${t.position}`}),{onMouseDown:s,onClick:u}=nu(),d=e=>s(e,c.value,a,"target"===t.type,t.isValidConnection,void 0),f=e=>{var n;return u(e,null!=(n=c.value)?n:null,a,t.type,t.isValidConnection)},p=Object(r["computed"])(()=>{var e,n,o;return["vue-flow__handle","vue-flow__handle-"+t.position,"vue-flow__handle-"+c.value,"nodrag",{source:"target"!==t.type,target:"target"===t.type,connectable:t.connectable,connecting:(null==(e=l.value)?void 0:e.nodeId)===a&&(null==(n=l.value)?void 0:n.handleId)===c.value&&(null==(o=l.value)?void 0:o.type)===t.type}]});return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{"data-handleid":Object(r["unref"])(c),"data-nodeid":Object(r["unref"])(a),"data-handlepos":t.position,class:Object(r["normalizeClass"])(Object(r["unref"])(p)),onMousedown:d,onClick:f},[Object(r["renderSlot"])(e.$slots,"default",Object(r["mergeProps"])({nodeId:Object(r["unref"])(a)},t))],42,wi))}})),_i=["innerHTML"],Ei={name:"DefaultNode"};var Si;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Si||(Si={}));const Bi=Object(r["defineComponent"])(p(f({},Ei),{props:{id:null,type:null,data:null,selected:{type:Boolean},connectable:{type:Boolean,default:!1},computedPosition:null,position:null,dimensions:null,label:null,isValidTargetPos:null,isValidSourcePos:null,parentNode:null,dragging:{type:Boolean},zIndex:null,targetPosition:{default:"top"},sourcePosition:{default:"bottom"},dragHandle:null,nodeElement:null},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(Ni,{type:"target",position:t.targetPosition,"is-connectable":t.connectable,"is-valid-connection":t.isValidTargetPos},null,8,["position","is-connectable","is-valid-connection"]),"string"!=typeof t.label&&t.label?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t.label),{key:0})):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:1,innerHTML:t.label},null,8,_i)),Object(r["createVNode"])(Ni,{type:"source",position:t.sourcePosition,"is-connectable":t.connectable,"is-valid-connection":t.isValidSourcePos},null,8,["position","is-connectable","is-valid-connection"])],64))}})),Ci=["innerHTML"],Vi={name:"InputNode"};var Pi;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pi||(Pi={}));const Mi=Object(r["defineComponent"])(p(f({},Vi),{props:{id:null,type:null,data:null,selected:{type:Boolean},connectable:{type:Boolean,default:!1},computedPosition:null,position:null,dimensions:null,label:null,isValidTargetPos:null,isValidSourcePos:null,parentNode:null,dragging:{type:Boolean},zIndex:null,targetPosition:null,sourcePosition:{default:"bottom"},dragHandle:null,nodeElement:null},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,["string"!=typeof t.label&&t.label?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t.label),{key:0})):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:1,innerHTML:t.label},null,8,Ci)),Object(r["createVNode"])(Ni,{type:"source",position:t.sourcePosition,connectable:t.connectable,"is-valid-connection":t.isValidSourcePos},null,8,["position","connectable","is-valid-connection"])],64))}})),Ti=["innerHTML"],Di={name:"OutputNode"};var zi;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(zi||(zi={}));const $i=Object(r["defineComponent"])(p(f({},Di),{props:{id:null,type:null,data:null,selected:{type:Boolean},connectable:{type:Boolean,default:!1},computedPosition:null,position:null,dimensions:null,label:null,isValidTargetPos:null,isValidSourcePos:null,parentNode:null,dragging:{type:Boolean},zIndex:null,targetPosition:{default:"top"},sourcePosition:null,dragHandle:null,nodeElement:null},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,["string"!=typeof t.label&&t.label?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t.label),Object(r["normalizeProps"])(Object(r["mergeProps"])({key:0},t.label)),null,16)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:1,innerHTML:t.label},null,8,Ti)),Object(r["createVNode"])(Ni,{type:"source",position:t.targetPosition,"is-connectable":t.connectable,"is-valid-connection":t.isValidTargetPos},null,8,["position","is-connectable","is-valid-connection"])],64))}}));function Ii(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Ai({pos:e,x1:t,y1:n,x2:o,y2:r,c:l}){let i,a;switch(e){case ei.Left:i=t-Ii(t-o,l),a=n;break;case ei.Right:i=t+Ii(o-t,l),a=n;break;case ei.Top:i=t,a=n-Ii(n-r,l);break;case ei.Bottom:i=t,a=n+Ii(r-n,l);break}return[i,a]}function Li({sourceX:e,sourceY:t,sourcePosition:n=ei.Bottom,targetX:o,targetY:r,targetPosition:l=ei.Top,curvature:i=.25}){const[a,c]=Ai({pos:n,x1:e,y1:t,x2:o,y2:r,c:i}),[s,u]=Ai({pos:l,x1:o,y1:r,x2:e,y2:t,c:i});return`M${e},${t} C${a},${c} ${s},${u} ${o},${r}`}function Yi({sourceX:e,sourceY:t,sourcePosition:n=ei.Bottom,targetX:o,targetY:r,targetPosition:l=ei.Top,curvature:i=.25}){const[a,c]=Ai({pos:n,x1:e,y1:t,x2:o,y2:r,c:i}),[s,u]=Ai({pos:l,x1:o,y1:r,x2:e,y2:t,c:i}),d=.125*e+.375*a+.375*s+.125*o,f=.125*t+.375*c+.375*u+.125*r,p=Math.abs(d-e),h=Math.abs(f-t);return[d,f,p,h]}function Xi({pos:e,x1:t,y1:n,x2:o,y2:r}){let l,i;switch(e){case ei.Left:case ei.Right:l=.5*(t+o),i=n;break;case ei.Top:case ei.Bottom:l=t,i=.5*(n+r);break}return[l,i]}function Ri({sourceX:e,sourceY:t,sourcePosition:n=ei.Bottom,targetX:o,targetY:r,targetPosition:l=ei.Top}){const[i,a]=Xi({pos:n,x1:e,y1:t,x2:o,y2:r}),[c,s]=Xi({pos:l,x1:o,y1:r,x2:e,y2:t});return`M${e},${t} C${i},${a} ${c},${s} ${o},${r}`}function Hi({sourceX:e,sourceY:t,sourcePosition:n=ei.Bottom,targetX:o,targetY:r,targetPosition:l=ei.Top}){const[i,a]=Xi({pos:n,x1:e,y1:t,x2:o,y2:r}),[c,s]=Xi({pos:l,x1:o,y1:r,x2:e,y2:t}),u=.125*e+.375*i+.375*c+.125*o,d=.125*t+.375*a+.375*s+.125*r,f=Math.abs(u-e),p=Math.abs(d-t);return[u,d,f,p]}const Fi=[ei.Left,ei.Right],Ui=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r=ei.Bottom,targetPosition:l=ei.Top})=>{const i=Fi.includes(r),a=Fi.includes(l);if(i&&!a||a&&!i){const r=i?Math.abs(n-e):0,l=e>n?e-r:e+r,a=i?0:Math.abs(o-t),c=t<o?t+a:t-a;return[l,c,r,a]}const c=Math.abs(n-e)/2,s=n<e?n+c:n-c,u=Math.abs(o-t)/2,d=o<t?o+u:o-u;return[s,d,c,u]},Zi=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e+n},${t}`,Gi=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t-n}`,Wi=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e-n},${t}`,qi=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t-n}`,Ki=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t+n}`,Qi=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e+n},${t}`,Ji=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e-n},${t}`,ea=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t+n}`;function ta({sourceX:e,sourceY:t,sourcePosition:n=ei.Bottom,targetX:o,targetY:r,targetPosition:l=ei.Top,borderRadius:i=5,centerX:a,centerY:c}){const[s,u,d,f]=Ui({sourceX:e,sourceY:t,targetX:o,targetY:r}),p=Math.min(i,Math.abs(o-e)),h=Math.min(i,Math.abs(r-t)),g=Math.min(p,h,d,f),m=[ei.Left,ei.Right],b="undefined"!=typeof a?a:s,v="undefined"!=typeof c?c:u;let y,O;return e<=o?(y=t<=r?Zi(e,v,g):Qi(e,v,g),O=t<=r?ea(o,v,g):qi(o,v,g)):(y=t<r?Wi(e,v,g):Ji(e,v,g),O=t<r?Ki(o,v,g):Gi(o,v,g)),m.includes(n)&&m.includes(l)?e<=o?(y=t<=r?ea(b,t,g):qi(b,t,g),O=t<=r?Zi(b,r,g):Qi(b,r,g)):(n===ei.Right&&l===ei.Left||n===ei.Left&&l===ei.Right||n===ei.Left&&l===ei.Left)&&(y=t<=r?Ki(b,t,g):Gi(b,t,g),O=t<=r?Wi(b,r,g):Ji(b,r,g)):m.includes(n)&&!m.includes(l)?(y=e<=o?t<=r?ea(o,t,g):qi(o,t,g):t<=r?Ki(o,t,g):Gi(o,t,g),O=""):!m.includes(n)&&m.includes(l)&&(y=e<=o?t<=r?Zi(e,r,g):Qi(e,r,g):t<=r?Wi(e,r,g):Ji(e,r,g),O=""),`M ${e},${t}${y}${O}L ${o},${r}`}const na=["transform"],oa=["width","height","x","y","rx","ry"],ra=["y"],la={name:"EdgeText"},ia=Object(r["defineComponent"])(p(f({},la),{props:{x:null,y:null,label:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=e,n=je("edge-text",null),o=Object(r["ref"])({x:0,y:0,width:0,height:0});Object(r["onMounted"])(()=>{o.value=n.value.getBBox()});const l=Object(r["computed"])(()=>`translate(${t.x-o.value.width/2} ${t.y-o.value.height/2})`);return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("g",{transform:Object(r["unref"])(l),class:Object(r["normalizeClass"])([t.class,"vue-flow__edge-textwrapper"])},[t.labelShowBg?(Object(r["openBlock"])(),Object(r["createElementBlock"])("rect",{key:0,class:"vue-flow__edge-textbg",width:o.value.width+2*t.labelBgPadding[0]+"px",height:o.value.height+2*t.labelBgPadding[1]+"px",x:-t.labelBgPadding[0],y:-t.labelBgPadding[1],style:Object(r["normalizeStyle"])(t.labelBgStyle),rx:t.labelBgBorderRadius,ry:t.labelBgBorderRadius},null,12,oa)):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("text",{ref:"edge-text",class:"vue-flow__edge-text",y:o.value.height/2,dy:"0.3em",style:Object(r["normalizeStyle"])(t.labelStyle)},[Object(r["renderSlot"])(e.$slots,"default",Object(r["normalizeProps"])(Object(r["guardReactiveProps"])(t)),()=>["string"!=typeof t.label&&(t.label,1)?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t.label),{key:0})):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:1},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)],64))])],12,ra)],10,na))}})),aa=["d","marker-end","marker-start"],ca={name:"BaseEdge",inheritAttrs:!1},sa=Object(r["defineComponent"])(p(f({},ca),{props:{centerX:null,centerY:null,path:null,label:null,style:null,labelStyle:null,labelShowBg:{type:Boolean},labelBgStyle:null,labelBgPadding:null,labelBgBorderRadius:null,markerStart:null,markerEnd:null},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("path",{style:Object(r["normalizeStyle"])(t.style),d:t.path,class:"vue-flow__edge-path","marker-end":t.markerEnd,"marker-start":t.markerStart},null,12,aa),t.label?(Object(r["openBlock"])(),Object(r["createBlock"])(ia,{key:0,x:t.centerX,y:t.centerY,label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius},null,8,["x","y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius"])):Object(r["createCommentVNode"])("",!0)],64))}})),ua={name:"BezierEdge"};var da;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(da||(da={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(da||(da={}));const fa=Object(r["defineComponent"])(p(f({},ua),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e,n=Object(r["computed"])(()=>Yi({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.curvature})),o=Object(r["computed"])(()=>t.sourceX&&t.sourceY?Li({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.curvature}):"");return(e,l)=>(Object(r["openBlock"])(),Object(r["createBlock"])(sa,{path:Object(r["unref"])(o),"center-x":Object(r["unref"])(n)[0],"center-y":Object(r["unref"])(n)[1],label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(r["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),pa={name:"SimpleBezierEdge"};var ha;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ha||(ha={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ha||(ha={}));const ga=Object(r["defineComponent"])(p(f({},pa),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e,n=Object(r["computed"])(()=>Hi({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),o=Object(r["computed"])(()=>t.sourceX&&t.sourceY?Ri({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition}):"");return(e,l)=>(Object(r["openBlock"])(),Object(r["createBlock"])(sa,{path:Object(r["unref"])(o),"center-x":Object(r["unref"])(n)[0],"center-y":Object(r["unref"])(n)[1],label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(r["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),ma={name:"SmoothStepEdge",inheritAttrs:!1};var ba;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ba||(ba={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ba||(ba={}));const va=Object(r["defineComponent"])(p(f({},ma),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,borderRadius:null},setup(e){const t=e,n=Object(r["computed"])(()=>Ui({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),o=Object(r["computed"])(()=>t.sourceX&&t.sourceY?ta({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:t.borderRadius}):"");return(e,l)=>(Object(r["openBlock"])(),Object(r["createBlock"])(sa,{path:Object(r["unref"])(o),"center-x":Object(r["unref"])(n)[0],"center-y":Object(r["unref"])(n)[1],label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(r["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),ya={name:"StepEdge",inheritAttrs:!1};var Oa;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Oa||(Oa={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Oa||(Oa={}));const ja=Object(r["defineComponent"])(p(f({},ya),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createBlock"])(va,Object(r["mergeProps"])(t,{"border-radius":0}),null,16))}})),wa={name:"StraightEdge"};var ka;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ka||(ka={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ka||(ka={}));const xa=Object(r["defineComponent"])(p(f({},wa),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e,n=Object(r["computed"])(()=>{const e=Math.abs(t.targetY-t.sourceY)/2;return t.targetY<t.sourceY?t.targetY+e:t.targetY-e}),o=Object(r["computed"])(()=>{const e=Math.abs(t.targetX-t.sourceX)/2;return t.targetX<t.sourceX?t.targetX+e:t.targetX-e}),l=Object(r["computed"])(()=>`M ${t.sourceX},${t.sourceY}L ${t.targetX},${t.targetY}`);return(e,i)=>(Object(r["openBlock"])(),Object(r["createBlock"])(sa,{path:Object(r["unref"])(l),"center-x":Object(r["unref"])(o),"center-y":Object(r["unref"])(n),label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(r["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),Na=["cx","cy","r"],_a={name:"EdgeAnchor"},Ea=Object(r["defineComponent"])(p(f({},_a),{props:{position:{default:ei.Top},centerX:{default:0},centerY:{default:0},radius:{default:10}},setup(e){const t=e,n=(e,t,n)=>n===ei.Left?e-t:n===ei.Right?e+t:e,o=(e,t,n)=>n===ei.Top?e-t:n===ei.Bottom?e+t:e,l=Object(r["computed"])(()=>{const e=n(t.centerX,t.radius,t.position);return isNaN(e)?0:e}),i=Object(r["computed"])(()=>{const e=o(t.centerY,t.radius,t.position);return isNaN(e)?0:e});return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("circle",{class:"vue-flow__edgeupdater",cx:Object(r["unref"])(l),cy:Object(r["unref"])(i),r:t.radius,stroke:"transparent",fill:"transparent"},null,8,Na))}})),Sa={class:"vue-flow__connection"},Ba=["d"],Ca={name:"ConnectionLine"},Va=Object(r["defineComponent"])(p(f({},Ca),{props:{sourceNode:null},setup(e){var t,n,o,l;const i=e,{store:a}=Js(),c=null==(t=Object(r["inject"])(vi))?void 0:t["connection-line"],s=null==c?void 0:c({}),u=a.connectionHandleId&&a.connectionHandleType?null==(n=i.sourceNode.handleBounds[a.connectionHandleType])?void 0:n.find(e=>e.id===a.connectionHandleId):a.connectionHandleType&&(null==(l=i.sourceNode.handleBounds[null!=(o=a.connectionHandleType)?o:"source"])?void 0:l[0]),d=u?u.x+u.width/2:i.sourceNode.dimensions.width/2,f=u?u.y+u.height/2:i.sourceNode.dimensions.height,p=i.sourceNode.computedPosition.x+d,h=i.sourceNode.computedPosition.y+f,g=(null==u?void 0:u.position)===ei.Left||(null==u?void 0:u.position)===ei.Right?ei.Left:ei.Top,m=Object(r["computed"])(()=>(a.connectionPosition.x-a.viewport.x)/a.viewport.zoom),b=Object(r["computed"])(()=>(a.connectionPosition.y-a.viewport.y)/a.viewport.zoom),v=Object(r["computed"])(()=>{let e=`M${p},${h} ${m.value},${b.value}`;switch(a.connectionLineType){case ni.Bezier:e=Li({sourceX:p,sourceY:h,sourcePosition:null==u?void 0:u.position,targetX:m.value,targetY:b.value,targetPosition:g});break;case ni.Step:e=ta({sourceX:p,sourceY:h,sourcePosition:null==u?void 0:u.position,targetX:m.value,targetY:b.value,targetPosition:g,borderRadius:0});break;case ni.SmoothStep:e=ta({sourceX:p,sourceY:h,sourcePosition:null==u?void 0:u.position,targetX:m.value,targetY:b.value,targetPosition:g});break}return e});return(e,t)=>{var n;return Object(r["openBlock"])(),Object(r["createElementBlock"])("g",Sa,[Object(r["unref"])(s)?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(Object(r["unref"])(c)),Object(r["normalizeProps"])(Object(r["mergeProps"])({key:0},{sourceX:p,sourceY:h,sourcePosition:null==(n=Object(r["unref"])(u))?void 0:n.position,targetX:Object(r["unref"])(m),targetY:Object(r["unref"])(b),targetPosition:Object(r["unref"])(g),connectionLineType:Object(r["unref"])(a).connectionLineType,connectionLineStyle:Object(r["unref"])(a).connectionLineStyle,nodes:Object(r["unref"])(a).getNodes,sourceNode:i.sourceNode,sourceHandle:Object(r["unref"])(u)})),null,16)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("path",{key:1,d:Object(r["unref"])(v),class:"vue-flow__connection-path",style:Object(r["normalizeStyle"])(Object(r["unref"])(a).connectionLineStyle||{})},null,12,Ba))])}}}));var Pa=Object.defineProperty,Ma=Object.defineProperties,Ta=Object.getOwnPropertyDescriptors,Da=Object.getOwnPropertySymbols,za=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,Ia=(e,t,n)=>t in e?Pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Aa=(e,t)=>{for(var n in t||(t={}))za.call(t,n)&&Ia(e,n,t[n]);if(Da)for(var n of Da(t))$a.call(t,n)&&Ia(e,n,t[n]);return e},La=(e,t)=>Ma(e,Ta(t));function Ya(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach(e=>e(t))}}}function Xa(e){return!!Object(r["getCurrentScope"])()&&(Object(r["onScopeDispose"])(e),!0)}const Ra="undefined"!=typeof window,Ha=e=>"string"==typeof e,Fa=()=>{};function Ua(e,t){return null==t?Object(r["unref"])(e):Object(r["unref"])(e)[t]}function Za(e,t=!0){Object(r["getCurrentInstance"])()?Object(r["onMounted"])(e):t?e():Object(r["nextTick"])(e)}function Ga(e){Object(r["getCurrentInstance"])()&&Object(r["onUnmounted"])(e)}function Wa(e){var t;const n=Object(r["unref"])(e);return null!=(t=null==n?void 0:n.$el)?t:n}const qa=Ra?window:void 0;function Ka(...e){let t,n,o,l;if(Ha(e[0])?([n,o,l]=e,t=qa):[t,n,o,l]=e,!t)return Fa;let i=Fa;const a=Object(r["watch"])(()=>Object(r["unref"])(t),e=>{i(),e&&(e.addEventListener(n,o,l),i=()=>{e.removeEventListener(n,o,l),i=Fa})},{immediate:!0,flush:"post"}),c=()=>{a(),i()};return Xa(c),c}function Qa(e,t=null){const n=Object(r["getCurrentInstance"])();let o=()=>{};const l=Object(r["customRef"])((r,l)=>(o=l,{get(){var o,l;return r(),null!=(l=null==(o=null==n?void 0:n.proxy)?void 0:o.$refs[e])?l:t},set(){}}));return Object(r["onMounted"])(o),Object(r["onUpdated"])(o),l}var Ja;function ec(e,t){for(let n=0,o=e.length;n<o;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function tc(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function nc(e){return!!("targetTouches"in e&&e.targetTouches&&"changedTouches"in e&&e.changedTouches)}function oc(e){return!isNaN(e)}function rc(e){return parseInt(e,10)}(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ja||(Ja={}));const lc=["Moz","Webkit","O","ms"];function ic(e="transform"){var t,n;if("undefined"==typeof window)return"";const o=null==(n=null==(t=window.document)?void 0:t.documentElement)?void 0:n.style;if(!o||e in o)return"";for(let r=0;r<lc.length;r++)if(ac(e,lc[r])in o)return lc[r];return""}function ac(e,t){return t?`${t}${cc(e)}`:e}function cc(e){let t="",n=!0;for(let o=0;o<e.length;o++)n?(t+=e[o].toUpperCase(),n=!1):"-"===e[o]?n=!0:t+=e[o];return t}var sc=ic();let uc="";function dc(e,t){return uc||(uc=ec(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],t=>tc(e[t]))),!!tc(e[uc])&&e[uc](t)}function fc(e,t,n){let o=e;do{if(dc(o,t))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function pc(e,t,n,o){if(!e)return;const r=Aa({capture:!0},o);e.addEventListener?e.addEventListener(t,n,r):e["on"+t]=n}function hc(e,t,n,o){if(!e)return;const r=Aa({capture:!0},o);e.removeEventListener?e.removeEventListener(t,n,r):e["on"+t]=null}function gc(e){var t;let n=e.clientHeight;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n+=rc(null==o?void 0:o.borderTopWidth),n+=rc(null==o?void 0:o.borderBottomWidth),n}function mc(e){var t;let n=e.clientWidth;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n+=rc(null==o?void 0:o.borderLeftWidth),n+=rc(null==o?void 0:o.borderRightWidth),n}function bc(e,t){return ec(e.targetTouches,e=>t===e.identifier)||ec(e.changedTouches,e=>t===e.identifier)}function vc(e){if(nc(e)){if(e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches[0])return e.changedTouches[0].identifier}}function yc(e){var t;let n=e.clientHeight;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n-=rc(null==o?void 0:o.paddingTop),n-=rc(null==o?void 0:o.paddingBottom),n}function Oc(e){var t;let n=e.clientWidth;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n-=rc(null==o?void 0:o.paddingLeft),n-=rc(null==o?void 0:o.paddingRight),n}function jc(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=(e.clientX+t.scrollLeft-o.left)/n,l=(e.clientY+t.scrollTop-o.top)/n;return{x:r,y:l}}function wc(e,t){const n=xc(e,"px",t);return{[ac("transform",sc)]:n}}function kc(e,t){return xc(e,"",t)}function xc({x:e,y:t},n="px",o){let r=`translate(${Math.round(e)}${n},${Math.round(t)}${n})`;if(o){const e=""+("string"==typeof o.x?o.x:Math.round(o.x)+n),t=""+("string"==typeof o.y?o.y:Math.round(o.y)+n);r=`translate(${e}, ${t})`+r}return r}function Nc(e){if(e){if(!e.getElementById("revue-draggable-style-el")){const t=e.createElement("style");t.type="text/css",t.id="revue-draggable-style-el",t.innerHTML=".revue-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".revue-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)}e.body&&Ec(e.body,"revue-draggable-transparent-selection")}}function _c(e){if(e)try{e.body&&Sc(e.body,"revue-draggable-transparent-selection");const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}catch(t){}}function Ec(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=" "+t)}function Sc(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}function Bc(...e){"undefined"!=typeof o&&{}.DRAGGABLE_DEBUG&&console.log(...e)}function Cc({bounds:e,x:t,y:n,node:o}){if(!e)return[t,n];if(e="string"==typeof e?e:$c(e),"string"==typeof e){const{ownerDocument:t}=o,n=t.defaultView,r="parent"===e?o.parentNode:t.querySelector(e);if(!(n&&r instanceof n.HTMLElement))throw new Error('Bounds selector "'+e+'" could not find an element.');const l=n.getComputedStyle(o),i=n.getComputedStyle(r),a="offsetLeft"in o?o.offsetLeft:0,c="offsetTop"in o?o.offsetTop:0;e={left:-(a-r.offsetLeft)+rc(i.paddingLeft)+rc(l.marginLeft),top:-(c-r.offsetTop)+rc(i.paddingTop)+rc(l.marginTop),right:Oc(r)-mc(o)-a+rc(i.paddingRight)-rc(l.marginRight),bottom:yc(r)-gc(o)-c+rc(i.paddingBottom)-rc(l.marginBottom)}}return oc(e.right)&&(t=Math.min(t,e.right)),oc(e.bottom)&&(n=Math.min(n,e.bottom)),oc(e.left)&&(t=Math.max(t,e.left)),oc(e.top)&&(n=Math.max(n,e.top)),[t,n]}function Vc(e,t,n){const o=Math.round(t/e[0])*e[0],r=Math.round(n/e[1])*e[1];return[o,r]}function Pc(e){return"both"===e||"x"===e}function Mc(e){return"both"===e||"y"===e}function Tc({e:e,touch:t,node:n,offsetContainer:o,scale:r}){const l="number"==typeof t&&nc(e)?bc(e,t):null;if("number"==typeof t&&!l)return null;const i=o||"offsetParent"in n&&n.offsetParent||n.ownerDocument.body;return jc(l||e,i,r)}function Dc({node:e,x:t,y:n,lastX:o,lastY:r}){return isNaN(o)?{node:e,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:e,deltaX:t-o,deltaY:n-r,lastX:o,lastY:r,x:t,y:n}}function zc({x:e,y:t,data:n}){return{node:n.node,x:e+n.deltaX,y:t+n.deltaY,deltaX:n.deltaX,deltaY:n.deltaY,lastX:e,lastY:t}}function $c(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}var Ic=e=>{const t=Object(r["reactive"])(Object.assign({allowAnyClick:!1,cancel:"",handle:"",disabled:!1,enableUserSelectHack:!0,enableTransformFix:!1,offsetParent:void 0,grid:void 0,start:()=>{},move:()=>{},stop:()=>{},mouseDown:()=>{},position:void 0,currentPosition:{x:NaN,y:NaN},positionOffset:void 0,scale:1,axis:"both",defaultClassNameDragging:"revue-draggable-dragging",defaultClassNameDragged:"revue-draggable-dragged",defaultClassName:"revue-draggable",defaultPosition:{x:0,y:0},bounds:!1,dragging:!1,dragged:!1,prevPropsPosition:{x:0,y:0},isElementSVG:!1,update:!0},e));return()=>t};const Ac={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Lc=Ac.mouse;const Yc=(e,t)=>{const n=Object(r["ref"])(),o=tc(t)?t():Ic(t)(),l=Object(r["reactive"])({x:NaN,y:NaN}),i=Ya(),a=Ya(),c=Ya();return Object(r["effectScope"])().run(()=>{Object(r["watch"])(()=>o,e=>{e.position&&!e.dragging&&(l.x=NaN,l.y=NaN)});const t=e=>{var t;const r=Ua(n);if(!o.allowAnyClick&&"button"in e&&0!==e.button)return!1;if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("No ref element found on DragStart!");const{ownerDocument:a}=r;if(o.disabled||!(a.defaultView&&null!==e.target&&e.target instanceof a.defaultView.Node)||o.handle&&!fc(e.target,o.handle,r)||o.cancel&&fc(e.target,o.cancel,r))return;"touchstart"===e.type&&e.preventDefault(),o.touch=vc(e);const c=Tc({e:e,touch:o.touch,node:r,offsetContainer:o.offsetParent,scale:o.scale});if(null==c)return;const{x:d,y:f}=c,p=Dc({node:r,x:d,y:f,lastX:l.x,lastY:l.y});Bc("DraggableCore: handleDragStart: %j",p);const h=null==(t=o.start)?void 0:t.call(o,e,p);if(i.trigger({event:e,data:p}),!1===(h||o.update))return!1;o.enableUserSelectHack&&Nc(a),o.dragging=!0,l.x=d,l.y=f,pc(a,Lc.move,s),pc(a,Lc.stop,u)},s=e=>{var t;const r=Ua(n);if(r){const n=Tc({e:e,touch:o.touch,node:r,offsetContainer:o.offsetParent,scale:o.scale});if(null==n)return;let{x:c,y:s}=n;const d=o.grid;if(d&&Array.isArray(d)){let e=c-l.x,t=s-l.y;if([e,t]=Vc(d,e,t),!e&&!t)return;c=l.x+e,s=l.y+t}const f=Dc({node:r,x:c,y:s,lastX:l.x,lastY:l.y});Bc("DraggableCore: handleDrag: %j",f);const p=null==(t=o.move)?void 0:t.call(o,e,f);if(a.trigger({event:e,data:f}),!1===(p||o.update)){try{u(new MouseEvent("mouseup"))}catch(i){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),u(e)}return}l.x=c,l.y=s}},u=e=>{var t;const r=Ua(n);if(o.dragging&&r){const n=Tc({e:e,touch:o.touch,node:r,offsetContainer:o.offsetParent,scale:o.scale});if(null==n)return;const{x:i,y:a}=n,d=Dc({node:r,x:i,y:a,lastX:l.x,lastY:l.y}),f=null==(t=o.stop)?void 0:t.call(o,e,d);if(c.trigger({event:e,data:d}),!1===(f||o.update))return!1;o.enableUserSelectHack&&_c(r.ownerDocument),Bc("DraggableCore: handleDragStop: %j",d),o.dragging=!1,Bc("DraggableCore: Removing handlers"),hc(r.ownerDocument,Lc.move,s),hc(r.ownerDocument,Lc.stop,u)}},d=e=>{var n;if(Lc=Ac.mouse,null==(n=o.mouseDown)||n.call(o,e),3!=e.which)return t(e)},f=e=>(Lc=Ac.mouse,u(e)),p=e=>(Lc=Ac.touch,t(e)),h=e=>(Lc=Ac.touch,u(e));Za(()=>{n.value=Wa(e),n?(Ka(Ua(n),Ac.touch.start,p,{passive:!1}),Ka(Ua(n),Ac.touch.stop,h),Ka(Ua(n),Ac.mouse.start,d),Ka(Ua(n),Ac.mouse.stop,f)):console.error("You are trying to use <DraggableCore> without passing a valid node reference. Canceling initialization.")})}),La(Aa({},Object(r["toRefs"])(o)),{state:o,onDragStart:i.on,onDrag:a.on,onDragStop:c.on})},Xc=(e,t)=>{const n=Object(r["ref"])(),o=Ic(t),l=o(),i=Ya(),a=Ya(),c=Ya(),s=Ya();return Object(r["effectScope"])().run(()=>{const t=(e,t)=>{var n;Bc("Draggable: onDragStart: %j",t);const o=zc(Aa({data:t},l.currentPosition)),r=null==(n=l.start)?void 0:n.call(l,e,o);if(i.trigger({event:e,data:o}),!1===(r||l.update))return!1;l.dragging=!0,l.dragged=!0},u=(e,t)=>{var n;if(!l.dragging)return!1;Bc("Draggable: onDrag: %j",t);const o=zc(Aa({data:t},l.currentPosition)),r={x:o.x,y:o.y};if(l.bounds){const[e,n]=Cc({bounds:l.bounds,x:r.x,y:r.y,node:t.node});r.x=e,r.y=n,o.x=r.x,o.y=r.y,o.deltaX=r.x-l.currentPosition.x,o.deltaY=r.y-l.currentPosition.y}const i=null==(n=l.move)?void 0:n.call(l,e,o);if(a.trigger({event:e,data:o}),!1===(i||l.update))return!1;l.currentPosition=r,g()},d=(e,t)=>{var n;if(!l.dragging)return!1;const o=zc(Aa({data:t},l.currentPosition)),r=null==(n=l.stop)?void 0:n.call(l,e,o);if(c.trigger({event:e,data:o}),!1===(r||l.update))return!1;Bc("Draggable: onDragStop: %j",t),l.enableTransformFix&&f(),l.dragging=!1},f=()=>{var e,t;const o=Ua(n);if(!o)return;o.style.transform="",o.style.left="",o.style.top="",o.style.position="relative";const{x:r,y:i}=h.value;o.style.left=Math.round(rc(null==(e=l.positionOffset)?void 0:e.x)||0)+Math.round(Number(r))+"px",o.style.top=Math.round(rc(null==(t=l.positionOffset)?void 0:t.y)||0)+Math.round(Number(i))+"px"},p=()=>{const e=Ua(n);!e||(e.style.transform="",e.style.position="",e.style.left="",e.style.top="")},h=Object(r["computed"])(()=>{const e=Boolean(l.position)||l.dragging,t=l.position||l.defaultPosition;return{x:Pc(l.axis)&&Ua(e)?l.currentPosition.x:Ua(t).x,y:Mc(l.axis)&&Ua(e)?l.currentPosition.y:Ua(t).y}}),g=(e=!1)=>{const t=Ua(n);if(t&&(e||l.update&&l.dragging)){l.enableTransformFix&&p();const e=l.positionOffset,o=l.isElementSVG,r=!o&&wc(Ua(h),e)||!1,i=o&&kc(Ua(h),e)||!1;if("string"==typeof i&&t.setAttribute("transform",i),r)for(const n of Object.keys(r))"transform"===n&&(r[n]+=(""+t.style[n]).replace(/translate\((-?\d+?.{0,2},? ?)+\)+/gm,"").trim()),t.style[n]=r[n];const a={el:Ua(n),style:r,transform:i,classes:m.value};s.trigger(a)}},m=Object(r["computed"])(()=>({[l.defaultClassName]:!l.disabled,[l.defaultClassNameDragging]:l.dragging,[l.defaultClassNameDragged]:l.dragged})),b=()=>Object.keys(Ua(m)).forEach(e=>{var t,o;Ua(m)[e]?null==(t=Ua(n))||t.classList.toggle(e,!0):null==(o=Ua(n))||o.classList.toggle(e,!1)});Object(r["watch"])(m,b);const{onDragStart:v,onDrag:y,onDragStop:O}=Yc(e,o);y(({event:e,data:t})=>u(e,t)),v(({event:e,data:n})=>t(e,n)),O(({event:e,data:t})=>d(e,t));const j=(e=!1)=>{const t=l.position;Bc("Draggable: Updated %j",{position:l.currentPosition,prevPropsPosition:l.prevPropsPosition}),t&&(l.currentPosition=t,l.prevPropsPosition=Aa({},t)),l.enableTransformFix?f():g(e)};Ga(()=>{l.dragging=!1}),Za(()=>{var t;if(n.value=Wa(e),!n)return void console.error("You are trying to use <Draggable> without passing a valid target reference.");let o=0,i=0;const a=l.position,c=l.defaultPosition,s=null==(t=Ua(n))?void 0:t.style;a&&"undefined"!=typeof a.x?o=a.x:c&&"undefined"!=typeof c.x?o=c.x:s&&s.top&&(o=rc(s.top)),a&&"undefined"!=typeof a.y?i=a.y:c&&"undefined"!=typeof c.y?i=c.y:s&&s.left&&(i=rc(s.left)),l.currentPosition={x:o,y:i},b(),j(!0),Object(r["watch"])(()=>l.position,e=>{let t=!1;((null==e?void 0:e.x)!==l.currentPosition.x||e.y!==l.currentPosition.y)&&(t=!0),j(t)})})}),La(Aa({},Object(r["toRefs"])(l)),{state:l,onDragStart:i.on,onDrag:a.on,onDragStop:c.on,onTransformed:s.on})};Object(r["defineComponent"])({name:"Draggable",props:{axis:{type:String,default:"both"},bounds:{type:[Object,String,Boolean],default:!1},defaultClassName:{type:String,default:"revue-draggable"},defaultClassNameDragging:{type:String,default:"revue-draggable-dragging"},defaultClassNameDragged:{type:String,default:"revue-draggable-dragged"},defaultPosition:{type:Object,default:()=>({x:0,y:0})},scale:{type:Number,default:1},position:{type:Object,default:void 0},positionOffset:{type:Object,default:void 0},allowAnyClick:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},enableUserSelectHack:{type:Boolean,default:!0},enableTransformFix:{type:[Boolean,Object],default:!1},cancel:{type:String,default:void 0},offsetParent:{type:Object,default:()=>{}},grid:{type:Array,default:void 0},handle:{type:String,default:void 0},update:{type:Boolean,default:!0},start:{type:Function,default:()=>{}},move:{type:Function,default:()=>{}},stop:{type:Function,default:()=>{}},mouseDown:{type:Function,default:()=>{}}},emits:["move","start","stop","transformed"],setup(e,{slots:t,emit:n,attrs:o}){const l=Qa("target",null),{onDrag:i,onDragStart:a,onDragStop:c,onTransformed:s,state:u}=Xc(l,e);return i(e=>n("move",e)),a(e=>n("start",e)),c(e=>n("stop",e)),s(e=>n("transformed",e)),Object(r["watch"])(()=>e,e=>Object.assign(u,e),{deep:!0,flush:"post"}),()=>{if(t.default)return Object(r["h"])(t.default({state:u})[0],Aa({ref:"target"},o),{})}}}),Object(r["defineComponent"])({name:"DraggableCore",props:{scale:{type:Number,default:1},allowAnyClick:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},enableUserSelectHack:{type:Boolean,default:!0},cancel:{type:String,default:void 0},offsetParent:{type:Object,default:void 0},grid:{type:Array,default:void 0},handle:{type:String,default:void 0},onStart:{type:Function,default:()=>{}},onMove:{type:Function,default:()=>{}},onStop:{type:Function,default:()=>{}},onMouseDown:{type:Function,default:()=>{}}},emits:["start","move","stop"],setup(e,{slots:t,emit:n,attrs:o}){const l=Qa("core-target",null),{onDrag:i,onDragStart:a,onDragStop:c,state:s}=Yc(l,e);return i(e=>n("move",e)),a(e=>n("start",e)),c(e=>n("stop",e)),Object(r["watch"])(()=>e,e=>Object.assign(s,e),{deep:!0,flush:"post"}),()=>{if(t.default)return Object(r["h"])(t.default()[0],Aa({ref:"core-target"},o),{})}}});const Rc=e=>"nodeName"in e,Hc=e=>{const t=e.target;return!(!t||!Rc(t))&&(["INPUT","SELECT","TEXTAREA","BUTTON"].includes(t.nodeName)||t.hasAttribute("contentEditable"))},Fc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Uc=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Zc=(e,t)=>({x:Uc(e.x,t[0][0],t[1][0]),y:Uc(e.y,t[0][1],t[1][1])}),Gc=e=>{const t=e.getRootNode(),n=ou();return"getElementFromPoint"in t?t:n.document},Wc=e=>"id"in e&&"source"in e&&"target"in e,qc=e=>Wc(e)&&"sourceNode"in e&&"targetNode"in e,Kc=e=>"id"in e&&!Wc(e),Qc=e=>Kc(e)&&"computedPosition"in e,Jc=(e,t,n)=>{var o;let r=n;return Qc(e)||(r=f({type:null!=(o=e.type)?o:"default",dimensions:{width:0,height:0},handleBounds:{source:[],target:[]},computedPosition:{z:0,x:0,y:0},dragging:!1,draggable:void 0,selectable:void 0,connectable:void 0},n)),p(f(f({},r),e),{id:e.id.toString()})},es=(e,t)=>{var n;return t=qc(e)?t:f({sourceHandle:e.sourceHandle?e.sourceHandle.toString():void 0,targetHandle:e.targetHandle?e.targetHandle.toString():void 0,type:null!=(n=e.type)?n:"default",source:e.source.toString(),target:e.target.toString(),z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,updatable:void 0,selectable:void 0,data:void 0},t),p(f(f({},t),e),{id:e.id.toString()})},ts=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`vueflow__edge-${e}${null!=t?t:""}-${n}${null!=o?o:""}`,ns=(e,t)=>t.some(t=>Wc(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),os=({x:e,y:t},{x:n,y:o,zoom:r},l,[i,a])=>{const c={x:(e-n)/r,y:(t-o)/r};return l?{x:i*Math.round(c.x/i),y:a*Math.round(c.y/a)}:c},rs=e=>t=>os(t,e.viewport,e.snapToGrid,e.snapGrid),ls=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),is=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),as=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),cs=(e,t)=>as(ls(is(e),is(t))),ss=e=>{const t=e.reduce((e,{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0}}={})=>ls(e,is(f(f({},t),n))),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return as(t)},us=(e,t,{x:n,y:o,zoom:r}={x:0,y:0,zoom:1},l=!1)=>{const i=is({x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r});return e.filter(e=>{if(!e||!1===e.selectable)return!1;const{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0},dragging:o=!1}=e,r=is(f(f({},t),n)),a=Math.max(0,Math.min(i.x2,r.x2)-Math.max(i.x,r.x)),c=Math.max(0,Math.min(i.y2,r.y2)-Math.max(i.y,r.y)),s=Math.ceil(a*c),u="undefined"==typeof n.width||"undefined"==typeof n.height||0===n.width||0===n.height||o,d=l&&s>0,p=n.width*n.height;return u||d||s>=p})},ds=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},fs=e=>()=>e.nodes,ps=e=>()=>e.edges,hs=e=>()=>[...e.nodes,...e.edges],gs=e=>()=>JSON.parse(JSON.stringify({nodes:e.nodes,edges:e.edges,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom})),ms=(e,t,n,o,r,l=.1,i={x:0,y:0})=>{var a,c;const s=t/(e.width*(1+l)),u=n/(e.height*(1+l)),d=Math.min(s,u),f=Uc(d,o,r),p=e.x+e.width/2,h=e.y+e.height/2,g=t/2-p*f+(null!=(a=i.x)?a:0),m=n/2-h*f+(null!=(c=i.y)?c:0);return{x:g,y:m,zoom:f}},bs=(e,t)=>({x:t.x+e.x,y:t.y+e.y,z:e.z>t.z?e.z:t.z}),vs=(e,t)=>{if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||vs(n,t))},ys=e=>"undefined"==typeof e?"":"string"==typeof e?e:Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&"),Os=(e,t,n)=>{var o,r,l,i;const a=(null!=(o=null==n?void 0:n.x)?o:0)+t.x,c=(null!=(r=null==n?void 0:n.y)?r:0)+t.y,s=null!=(l=null==n?void 0:n.width)?l:t.width,u=null!=(i=null==n?void 0:n.height)?i:t.height;switch(e){case ei.Top:return{x:a+s/2,y:c};case ei.Right:return{x:a+s,y:c+u/2};case ei.Bottom:return{x:a+s/2,y:c+u};case ei.Left:return{x:a,y:c+u/2}}},js=(e=[],t)=>{if(!e.length)return;let n;return t||1!==e.length?t&&(n=e.find(e=>e.id===t)):n=e[0],n||e[0]},ws=(e,t,n,o,r,l)=>{const i=Os(n,f(f({},e.dimensions),e.computedPosition),t),a=Os(l,f(f({},o.dimensions),o.computedPosition),r);return{sourceX:i.x,sourceY:i.y,targetX:a.x,targetY:a.y}};function ks({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:l,width:i,height:a,viewport:c}){const s={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+l)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const u=is({x:(0-c.x)/c.zoom,y:(0-c.y)/c.zoom,width:i/c.zoom,height:a/c.zoom}),d=Math.max(0,Math.min(u.x2,s.x2)-Math.max(u.x,s.x)),f=Math.max(0,Math.min(u.y2,s.y2)-Math.max(u.y,s.y));return Math.ceil(d*f)>0}const xs=(e,t)=>{let n=-1;const o=e.reduce((e,o)=>{const r=t(o.source),l=t(o.target);if(!r||!l)return e;const i=o.z?o.z:Math.max(r.computedPosition.z||0,l.computedPosition.z||0);return e[i]?e[i].push(o):e[i]=[o],n=i>n?i:n,e},{});return Object.entries(Object.keys(o).length?o:{0:[]}).map(([e,t])=>{const o=+e;return{edges:t,level:o,isMaxLevel:o===n}})},Ns=(e,t,n,o)=>{const r=t.querySelectorAll(e);return r&&r.length?Array.from(r).map(e=>{var t;const r=e.getBoundingClientRect(),l=Fc(e),i=null!=(t=e.getAttribute("data-handleid"))?t:void 0,a=e.getAttribute("data-handlepos");return f({id:i,position:a,x:(r.left-n.left)/o,y:(r.top-n.top)/o},l)}):null},_s=(e,t,n)=>{var o,r;const l=e.getBoundingClientRect();return{source:null!=(o=Ns(".source"+(n?".vue-flow__handle-"+n:""),e,l,t))?o:void 0,target:null!=(r=Ns(".target"+(n?".vue-flow__handle-"+n:""),e,l,t))?r:void 0}};function Es(e,t){const n=e.parentNode?t.find(t=>t.id===e.parentNode):void 0;if(n){const t=e.position.x+e.dimensions.width-n.dimensions.width,o=e.position.y+e.dimensions.height-n.dimensions.height;if(t>0||o>0||e.position.x<0||e.position.y<0){if(n.style=f({},n.style),t>0)if(n.style.width||(n.style.width=n.dimensions.width),"string"==typeof n.style.width){const e=parseInt(n.style.width,10);n.style.width=e+t+"px"}else n.style.width+=t;if(o>0)if(n.style.height||(n.style.height=n.dimensions.height),"string"==typeof n.style.height){const e=parseInt(n.style.height,10);n.style.height=e+o+"px"}else n.style.height+=o;if(e.position.x<0){const t=Math.abs(e.position.x);if(n.position.x=n.position.x-t,"string"==typeof n.style.width){const e=parseInt(n.style.width,10);n.style.width=e+t+"px"}else n.style.width+=t;e.position.x=0}if(e.position.y<0){const t=Math.abs(e.position.y);if(n.position.y=n.position.y-t,"string"==typeof n.style.height){const e=parseInt(n.style.height,10);n.style.height=e+t+"px"}else n.style.height+=t;e.position.y=0}n.dimensions.width="string"==typeof n.style.width?parseInt(n.style.width,10):n.style.width,n.dimensions.height="string"==typeof n.style.height?parseInt(n.style.height,10):n.style.height}}}const Ss=(e,t,n)=>{let o=t.map(e=>e.id);return e.forEach(e=>{"add"===e.type&&(n?n([e.item]):t.push(e.item));const r=o.indexOf(e.id),l=t[r];switch(e.type){case"select":(Qc(l)||qc(l))&&(l.selected=e.selected);break;case"position":Qc(l)&&("undefined"!=typeof e.position&&(l.position=e.position),"undefined"!=typeof e.dragging&&(l.dragging=e.dragging),l.expandParent&&l.parentNode&&Es(l,t));break;case"dimensions":Qc(l)&&("undefined"!=typeof e.dimensions&&(l.dimensions=e.dimensions),l.expandParent&&l.parentNode&&Es(l,t));break;case"remove":t.splice(r,1),o=t.map(e=>e.id);break}}),t},Bs=(e,t)=>({id:e,type:"select",selected:t}),Cs=({node:e,diff:t,dragging:n,nodeExtent:o},r)=>{const l=e.parentNode?r.find(t=>t.id===e.parentNode):void 0,i={id:e.id,type:"position",dragging:!!n};if(t){const n={x:e.position.x+t.x,y:e.position.y+t.y};let r="parent"===e.extent||"undefined"==typeof e.extent?o:e.extent;"parent"===e.extent&&l&&e.dimensions.width&&e.dimensions.height&&(r=l.dimensions.width&&l.dimensions.height?[[0,0],[l.dimensions.width-e.dimensions.width,l.dimensions.height-e.dimensions.height]]:r),i.position=r?Zc(n,r):n}return i},Vs=(e,t,n)=>{const o=e.parentNode?n(e.parentNode):void 0;return!(!e.parentNode||!o)&&(!!t.includes(e.parentNode)||Vs(o,t,n))},Ps=(e,t,n)=>e.reduce((e,o)=>{const r=t.includes(o.id)||!!(Qc(o)&&o.parentNode&&Vs(o,t,n));return!o.selected&&r?e.push(Bs(o.id,!0)):o.selected&&!r&&e.push(Bs(o.id,!1)),e},[]),Ms={name:"NodesSelection"},Ts=Object(r["defineComponent"])(p(f({},Ms),{setup(e){const{store:t}=Js(),n=je("el",null),o=Object(r["computed"])(()=>ss(t.getSelectedNodes)),l=Object(r["computed"])(()=>({width:o.value.width+"px",height:o.value.height+"px",top:o.value.y+"px",left:o.value.x+"px"})),i=Object(r["computed"])(()=>`translate(${t.viewport.x}px,${t.viewport.y}px) scale(${t.viewport.zoom})`);Object(r["watch"])(o,e=>t.selectedNodesBbox=e);const a=e=>t.hooks.selectionContextMenu.trigger({event:e,nodes:t.getSelectedNodes}),{onDragStart:c,onDrag:s,onDragStop:u,scale:d}=Yc(n,{grid:t.snapToGrid?t.snapGrid:void 0,enableUserSelectHack:!1,scale:t.viewport.zoom});return Object(r["onMounted"])(()=>{U(()=>t.viewport.zoom,()=>{d.value=t.viewport.zoom},{debounce:5})}),c(({event:e})=>t.hooks.selectionDragStart.trigger({event:e,nodes:t.getSelectedNodes})),s(({event:e,data:{deltaX:n,deltaY:o}})=>{t.hooks.selectionDrag.trigger({event:e,nodes:t.getSelectedNodes}),t.updateNodePosition({diff:{x:n,y:o},dragging:!0})}),u(({event:e})=>{t.hooks.selectionDragStop.trigger({event:e,nodes:t.getSelectedNodes}),t.getSelectedNodes.forEach(e=>e.dragging=!1)}),(e,o)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(["vue-flow__nodesselection vue-flow__container",Object(r["unref"])(t).noPanClassName]),style:Object(r["normalizeStyle"])({transform:Object(r["unref"])(i)})},[Object(r["createElementVNode"])("div",{ref_key:"el",ref:n,class:"vue-flow__nodesselection-rect",style:Object(r["normalizeStyle"])(Object(r["unref"])(l)),onContextmenu:a},null,36)],6))}})),Ds={name:"SelectionRect"},zs=Object(r["defineComponent"])(p(f({},Ds),{props:{width:null,height:null,x:null,y:null},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"vue-flow__selection",style:Object(r["normalizeStyle"])({width:t.width+"px",height:t.height+"px",transform:`translate(${t.x}px, ${t.y}px)`})},null,4))}}));function $s(e){const t=e.target.closest(".vue-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const Is={ref:"user-selection",class:"vue-flow__selectionpane vue-flow__container"},As={name:"UserSelection"},Ls=Object(r["defineComponent"])(p(f({},As),{setup(e){const{store:t}=Js(),n=je("user-selection",null),o=Object(r["ref"])(0),l=Object(r["ref"])(0),i=()=>({width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1}),a=Object(r["ref"])(i()),c=()=>{a.value=i(),t.userSelectionActive=!1,o.value=0,l.value=0},s=e=>{const n=$s(e);!n||(a.value={width:0,height:0,startX:n.x,startY:n.y,x:n.x,y:n.y,draw:!0},t.userSelectionActive=!0,t.nodesSelectionActive=!1)},u=e=>{if(!t.userSelectionActive||!a.value.draw)return;const n=$s(e);if(!n)return;const r=a.value.startX,i=a.value.startY,c=p(f({},a.value),{x:n.x<r?n.x:a.value.x,y:n.y<i?n.y:a.value.y,width:Math.abs(n.x-r),height:Math.abs(n.y-i)}),s=us(t.getNodes,a.value,t.viewport),u=ds(s,t.getEdges);a.value=c,t.addSelectedNodes(s),t.addSelectedEdges(u),o.value=s.length,l.value=u.length},d=()=>{t.nodesSelectionActive=o.value>0,a.value=i(),t.userSelectionActive=!1},h=()=>{t.nodesSelectionActive=!1,c()};return Object(r["onMounted"])(()=>{ie(n,"mousedown",s),ie(n,"mousemove",u),ie(n,"click",d),ie(n,"mouseup",d),ie(n,"mouseleave",h)}),Object(r["onBeforeUnmount"])(()=>{c()}),(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Is,[a.value.draw?(Object(r["openBlock"])(),Object(r["createBlock"])(zs,{key:0,width:a.value.width,height:a.value.height,x:a.value.x,y:a.value.y},null,8,["width","height","x","y"])):Object(r["createCommentVNode"])("",!0)],512))}})),Ys={input:Mi,default:Bi,output:$i},Xs={default:fa,straight:xa,step:ja,smoothstep:va,simplebezier:ga},Rs=e=>"undefined"!=typeof e,Hs=()=>({nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,instance:null,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:li.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultZoom:1,defaultPosition:[0,0],nodesSelectionActive:!1,userSelectionActive:!1,selectedNodesBbox:{x:0,y:0,width:0,height:0},defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:ni.Bezier,connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN},connectionMode:oi.Loose,connectionStartHandle:null,connectOnClick:!0,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",hooks:yi(),applyDefault:!0,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,vueFlowVersion:"0.4.6"});var Fs=e=>{const t=Hs();return e&&Object.keys(e).forEach(n=>{const o=e[n];Rs(o)&&(t[n]=o)}),t},Us=e=>{const t=Object(r["computed"])(()=>e.nodes.map(e=>e.id)),n=Object(r["computed"])(()=>e.edges.map(e=>e.id)),o=Object(r["computed"])(()=>n=>e.nodes[t.value.indexOf(n)]),l=Object(r["computed"])(()=>t=>e.edges[n.value.indexOf(t)]),i=Object(r["computed"])(()=>{var t;const n=f(f({},Xs),e.edgeTypes),o=Object.keys(n);return null==(t=e.edges)||t.forEach(e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type)),n}),a=Object(r["computed"])(()=>{var t;const n=f(f({},Ys),e.nodeTypes),o=Object.keys(n);return null==(t=e.nodes)||t.forEach(e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type)),n}),c=Object(r["computed"])(()=>{const t=e.nodes.filter(e=>!e.hidden);return e.onlyRenderVisibleElements?t&&us(t,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):null!=t?t:[]}),s=t=>{const n=o.value(t.source),r=o.value(t.target);return n&&r?!t.hidden&&r&&!r.hidden&&n&&!n.hidden&&n.dimensions.width&&n.dimensions.height&&r.dimensions.width&&r.dimensions.height:(console.warn(`[vue-flow]: Orphaned edge ${t.id} will be removed.`),e.edges.splice(e.edges.indexOf(t),1),!0)},u=Object(r["computed"])(()=>e.onlyRenderVisibleElements?e.edges.filter(t=>{const n=o.value(t.source),r=o.value(t.target);return s(t)&&ks({sourcePos:n.computedPosition||{x:0,y:0},targetPos:r.computedPosition||{x:0,y:0},sourceWidth:n.dimensions.width,sourceHeight:n.dimensions.height,targetWidth:r.dimensions.width,targetHeight:r.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(s)),d=Object(r["computed"])(()=>e.nodes.filter(e=>e.selected)),p=Object(r["computed"])(()=>e.edges.filter(e=>e.selected)),h=Object(r["computed"])(()=>{var e,t;return[...null!=(e=d.value)?e:[],...null!=(t=p.value)?t:[]]});return{getNode:o,getEdge:l,getEdgeTypes:i,getNodeTypes:a,getEdges:u,getNodes:c,getSelectedElements:h,getSelectedNodes:d,getSelectedEdges:p}};const Zs=e=>"undefined"!=typeof e,Gs=(e,t)=>{if(!e.source||!e.target)return console.warn("[vueflow]: Can't create edge. An edge needs a source and a target."),!1;let n;return n=Wc(e)?f({},e):p(f({},e),{id:ts(e)}),n=es(n),!ns(n,t)&&n},Ws=(e,t,n,o)=>{if(!t.source||!t.target)return console.warn("[vueflow]: Can't create new edge. An edge needs a source and a target."),!1;if(!n.find(t=>qc(t)&&t.id===e.id))return console.warn(`[vueflow]: The old edge with id=${e.id} does not exist.`),!1;n.splice(n.indexOf(e),1);const r=p(f({},e),{id:ts(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle});return o([r]),r},qs=(e,t,n,o)=>{const r={},l=e.map(e=>{const n=Jc(e,o,p(f({},t(e.id)),{parentNode:e.parentNode}));return e.parentNode&&(r[e.parentNode]=!0),n});return l.forEach(e=>{const o=[...l,...n];if(e.parentNode&&!o.find(t=>t.id===e.parentNode)&&console.warn(`[vueflow]: Parent node ${e.parentNode} not found`),e.parentNode||r[e.id]){r[e.id]&&(e.isParent=!0);const n=e.parentNode?t(e.parentNode):void 0;n&&(n.isParent=!0)}}),l};var Ks=(e,t)=>{const n=({id:n,diff:o={x:0,y:0},dragging:r})=>{new Promise(l=>{const i=[];e.nodes.forEach(l=>{l.selected?l.parentNode&&vs(l,t.getNode.value)||i.push(Cs({node:l,diff:o,nodeExtent:e.nodeExtent,dragging:r},e.nodes)):l.id===n&&i.push(Cs({node:l,diff:o,nodeExtent:e.nodeExtent,dragging:r},e.nodes))}),i.length&&l(i)}).then(t=>{e.hooks.nodesChange.trigger(t)})},o=n=>{const o=n.reduce((n,o)=>{const r=t.getNode.value(o.id);if(r){const t=Fc(o.nodeElement),l=!(!t.width||!t.height||r.dimensions.width===t.width&&r.dimensions.height===t.height&&!o.forceUpdate);r.handleBounds=_s(o.nodeElement,e.viewport.zoom),l&&(r.dimensions=t,n.push({id:r.id,type:"dimensions",dimensions:t}))}return n},[]);o.length&&e.hooks.nodesChange.trigger(o)},r=n=>{const o=n.map(e=>e.id);let r;r=e.multiSelectionActive?o.map(e=>Bs(e,!0)):Ps(e.nodes,o,t.getNode.value),r.length&&e.hooks.nodesChange.trigger(r)},l=n=>{const o=n.map(e=>e.id);let r;r=e.multiSelectionActive?o.map(e=>Bs(e,!0)):Ps(e.edges,o,t.getNode.value),r.length&&e.hooks.edgesChange.trigger(r)},i=e=>{r(e.filter(Qc)),l(e.filter(qc))},a=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([t,e.maxZoom]),e.minZoom=t},c=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([e.minZoom,t]),e.maxZoom=t},s=t=>{var n;null==(n=e.d3Zoom)||n.translateExtent(t),e.translateExtent=t},u=()=>{r([]),l([])},d=t=>{e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t},h=(n,o)=>{if(!e.initialized&&!n.length)return;e.nodes||(e.nodes=[]);const r=n instanceof Function?n(e.nodes):n;e.nodes=qs(r,t.getNode.value,e.nodes,null!=o?o:e.nodeExtent)},g=n=>{if(!e.initialized&&!n.length)return;const o=n instanceof Function?n(e.edges):n;e.edges=o.reduce((n,o)=>{const r=t.getNode.value(o.source),l=t.getNode.value(o.target),i=!r||"undefined"==typeof r,a=!l||"undefined"==typeof l;if(i&&console.warn(`[vueflow]: Couldn't create edge for source id: ${o.source}; edge id: ${o.id}`),a&&console.warn(`[vueflow]: Couldn't create edge for target id: ${o.target}; edge id: ${o.id}`),i||a)return n;const c=t.getEdge.value(o.id);return n.push(p(f({},es(o,f(f({},e.defaultEdgeOptions),c))),{sourceNode:r,targetNode:l})),n},[])},m=(t,n)=>{if(!e.initialized&&!t.length||!t)return;const o=t instanceof Function?t([...e.nodes,...e.edges]):t;h(o.filter(Kc),n),g(o.filter(Wc))},b=(n,o)=>{const r=n instanceof Function?n(e.nodes):n;e.nodes.push(...qs(r,t.getNode.value,e.nodes,null!=o?o:e.nodeExtent))},v=n=>{(n instanceof Function?n(e.edges):n).forEach(n=>{const o=Gs(n,e.edges);if(o){const n=t.getNode.value(o.source),r=t.getNode.value(o.target),l=!n||"undefined"==typeof n,i=!r||"undefined"==typeof r;if(l&&console.warn(`[vueflow]: Couldn't create edge for source id: ${o.source}; edge id: ${o.id}`),i&&console.warn(`[vueflow]: Couldn't create edge for target id: ${o.target}; edge id: ${o.id}`),i||l)return;e.edges.push(p(f(f({},e.defaultEdgeOptions),o),{sourceNode:n,targetNode:r}))}})},y=(t,n)=>Ws(t,n,e.edges,v),O=t=>Ss(t,e.nodes,b),j=t=>Ss(t,e.edges,v),w=t=>{var n,o;const r=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent"],l=t instanceof Function?t(e):t;"undefined"!=typeof l.modelValue&&m(l.modelValue,null!=(n=l.nodeExtent)?n:e.nodeExtent),"undefined"!=typeof l.nodes&&h(l.nodes,null!=(o=l.nodeExtent)?o:e.nodeExtent),"undefined"!=typeof l.edges&&g(l.edges),Object.keys(l).forEach(t=>{const n=l[t];!r.includes(t)&&Zs(n)&&(e[t]=n)}),e.d3Zoom?("undefined"!=typeof l.maxZoom&&c(l.maxZoom),"undefined"!=typeof l.minZoom&&a(l.minZoom),"undefined"!=typeof l.translateExtent&&s(l.translateExtent)):C(()=>e.d3Zoom).not.toBeUndefined().then(()=>{"undefined"!=typeof l.maxZoom&&c(l.maxZoom),"undefined"!=typeof l.minZoom&&a(l.minZoom),"undefined"!=typeof l.translateExtent&&s(l.translateExtent)}),e.initialized||(e.initialized=!0)};return{updateNodePosition:n,updateNodeDimensions:o,setElements:m,setNodes:h,setEdges:g,addNodes:b,addEdges:v,updateEdge:y,applyEdgeChanges:j,applyNodeChanges:O,addSelectedElements:i,addSelectedNodes:r,addSelectedEdges:l,setMinZoom:a,setMaxZoom:c,setTranslateExtent:s,resetSelectedElements:u,setInteractive:d,setState:w,$reset:()=>{w(Fs())}}};class Qs{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return Qs.instance||(Qs.instance=new Qs),Qs.instance}set(e,t){this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){this.flows.delete(e)}create(e,t){const n=Fs(t),o=Object(r["reactive"])(n),l=Us(o),i=Ks(o,l),a={};Object.entries(o.hooks).forEach(([e,t])=>{const n="on"+(e.charAt(0).toUpperCase()+e.slice(1));a[n]=t.on}),i.setState(o),t&&(t.modelValue&&i.setElements(t.modelValue),t.nodes&&i.setNodes(t.nodes),t.edges&&i.setEdges(t.edges));const c=Object(r["reactive"])(f(f(f(f({},a),Object(r["toRefs"])(o)),l),i)),s=p(f(f(f(f({},a),l),i),Object(r["toRefs"])(o)),{id:e,store:c});return this.set(e,s),s}getId(){return"vue-flow-"+this.currentId++}}var Js=e=>{var t;const n=Qs.getInstance(),o=Object(r["getCurrentScope"])(),l=(null==o?void 0:o.vueFlowId)||(null==e?void 0:e.id);let i;if(o){const e=Object(r["inject"])(mi,null);"undefined"!=typeof e&&null!==e&&(i=e)}if(i||l&&(i=n.get(l)),!i||i&&(null==e?void 0:e.id)&&e.id!==i.id){const l=null!=(t=null==e?void 0:e.id)?t:n.getId();i=n.create(l,e),o&&(o.vueFlowId=l,Object(r["onScopeDispose"])(()=>{n.remove(l),i=null}))}else e&&i.setState(e);if(!i)throw new Error("[vueflow]: store instance not found.");return o&&Object(r["provide"])(mi,i),i};const eu=(e,t,n,o,r,l,i,a,c)=>{var s,u;const d=i.elementFromPoint(e.clientX,e.clientY),f=(null==d?void 0:d.classList.contains("target"))||!1,p=(null==d?void 0:d.classList.contains("source"))||!1,h={elementBelow:d,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(d&&(f||p)&&(h.isHoveringHandle=!0,t!==oi.Strict||(n&&p||!n&&f))){const e=null!=(s=d.getAttribute("data-nodeid"))?s:"",t=null!=(u=d.getAttribute("data-handleid"))?u:"",i=n?e:o,f=n?t:r,p=n?o:e,g={source:i,sourceHandle:f,target:p,targetHandle:n?r:t};h.connection=g,h.isValid=l(g,{edges:a,sourceNode:c(i),targetNode:c(p)})||!h.connection.target||!h.connection.source}return h},tu=e=>{null==e||e.classList.remove("vue-flow__handle-valid"),null==e||e.classList.remove("vue-flow__handle-connecting")};var nu=(e=Js().store)=>{let t;return{onMouseDown:(n,o,r,l,i,a,c,s)=>{var u;const d=n.target.closest(".vue-flow"),f=Gc(n.target);if(!f)return;let p=null!=i?i:()=>!0;const h=e.getNode(r);if(h&&!1===("undefined"==typeof h.connectable?e.nodesConnectable:h.connectable))return;i||h&&(p=null!=(u=l?h.isValidSourcePos:h.isValidTargetPos)?u:()=>!0);const g=f.elementFromPoint(n.clientX,n.clientY),m=null==g?void 0:g.classList.contains("target"),b=null==g?void 0:g.classList.contains("source");if(!d||!m&&!b&&!a)return;const v=null!=a?a:m?"target":"source",y=d.getBoundingClientRect();function O(n){e.connectionPosition.x=n.clientX-y.left,e.connectionPosition.y=n.clientY-y.top;const{connection:i,elementBelow:a,isValid:c,isHoveringHandle:s}=eu(n,e.connectionMode,l,r,o,p,f,e.edges,e.getNode);if(!s)return tu(t);i.source!==i.target&&a&&(t=a,a.classList.add("vue-flow__handle-connecting"),a.classList.toggle("vue-flow__handle-valid",c))}function j(n){const{connection:i,isValid:u}=eu(n,e.connectionMode,l,r,o,p,f,e.edges,e.getNode);e.hooks.connectStop.trigger(n);const d=i.source===i.target;u&&!d&&(c?c(i):e.hooks.connect.trigger(i)),e.hooks.connectEnd.trigger(n),a&&(null==s||s()),tu(t),e.setState({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN}}),f.removeEventListener("mousemove",O),f.removeEventListener("mouseup",j)}e.setState({connectionPosition:{x:n.clientX-y.left,y:n.clientY-y.top},connectionNodeId:r,connectionHandleId:o,connectionHandleType:v}),e.hooks.connectStart.trigger({event:n,nodeId:r,handleId:o,handleType:v}),f.addEventListener("mousemove",O),f.addEventListener("mouseup",j)},onClick:(t,n,o,r,l)=>{var i;if(e.connectOnClick)if(e.connectionStartHandle){let n=null!=l?l:()=>!0;const a=e.getNode(o);if(a&&!1===("undefined"==typeof a.connectable?e.nodesConnectable:a.connectable))return;l||a&&(n=null!=(i="target"!==r?a.isValidTargetPos:a.isValidSourcePos)?i:()=>!0);const c=Gc(t.target),{connection:s,isValid:u}=eu(t,e.connectionMode,"target"===e.connectionStartHandle.type,e.connectionStartHandle.nodeId,e.connectionStartHandle.handleId||null,n,c,e.edges,e.getNode),d=s.source===s.target;e.hooks.connectStop.trigger(t),u&&!d&&e.hooks.connect.trigger(s),e.hooks.connectEnd.trigger(t),e.setState({connectionStartHandle:null})}else e.hooks.connectStart.trigger({event:t,nodeId:o,handleId:n,handleType:r}),e.setState({connectionStartHandle:{nodeId:o,type:r,handleId:n}})}}},ou=()=>"undefined"!=typeof window?window:{chrome:!1},ru=(e,t)=>{const n=ou(),o=S(!1,{onBeforeChange(e,t){if(e===t)return!1},onChanged(){t&&"function"==typeof t&&t(o.value)}});return ye(t=>!Hc(t)&&(t.key===e.value||t.keyCode===e.value),e=>{e.preventDefault(),o.value=!0}),ve(t=>!Hc(t)&&(t.key===e.value||t.keyCode===e.value),e=>{e.preventDefault(),o.value=!0}),Oe(t=>!Hc(t)&&(t.key===e.value||t.keyCode===e.value),e=>{e.preventDefault(),o.value=!1}),"undefined"!=typeof n.addEventListener&&ie(n,"blur",()=>{o.value=!1}),t&&"function"==typeof t&&t(o.value),o};const lu=.1,iu=(e,t=0)=>e.transition().duration(t),au=async e=>{const t=ou();return"screen"in t&&(await C(e.dimensions).toMatch(({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0),e.getNodes.length>0&&await C(e.getNodes).toMatch(e=>!!e.filter(({dimensions:{width:e,height:t}})=>!isNaN(e)&&e>0&&!isNaN(t)&&t>0).length)),!0};var cu=(e=Js().store)=>{const t=Object(r["ref"])(!1);e.hooks.paneReady.on(()=>t.value=!0);const n=async(n,o)=>{t.value||await au(e),e.d3Selection&&e.d3Zoom&&e.d3Zoom.scaleTo(iu(e.d3Selection,null==o?void 0:o.duration),n)},o=async(n,o)=>{t.value||await au(e),e.d3Selection&&e.d3Zoom&&e.d3Zoom.scaleTo(iu(e.d3Selection,o),n)},l=async e=>{await o(1.2,null==e?void 0:e.duration)},i=async e=>{await o(1/1.2,null==e?void 0:e.duration)},a=(t,n,o,r)=>{const{x:l,y:i}=Zc({x:-t,y:-n},e.translateExtent),a=ii.translate(-l,-i).scale(o);e.d3Selection&&e.d3Zoom&&e.d3Zoom.transform(iu(e.d3Selection,r),a)};return{zoomIn:l,zoomOut:i,zoomTo:n,setTransform:async(n,o)=>{t.value||await au(e),a(n.x,n.y,n.zoom,null==o?void 0:o.duration)},getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:async(n={padding:lu,includeHiddenNodes:!1,duration:0})=>{var o,r,l;if(t.value||await au(e),!e.getNodes.length)return;let i=[];n.nodes&&(i=e.nodes.filter(e=>{var t;return null==(t=n.nodes)?void 0:t.includes(e.id)})),(!i||!i.length)&&(i=n.includeHiddenNodes?e.nodes:e.getNodes);const c=ss(i),{x:s,y:u,zoom:d}=ms(c,e.dimensions.width,e.dimensions.height,null!=(o=n.minZoom)?o:e.minZoom,null!=(r=n.maxZoom)?r:e.maxZoom,null!=(l=n.padding)?l:lu,n.offset);a(s,u,d,null==n?void 0:n.duration)},setCenter:async(n,o,r)=>{t.value||await au(e);const l="undefined"!=typeof(null==r?void 0:r.zoom)?r.zoom:e.maxZoom,i=e.dimensions.width/2-n*l,c=e.dimensions.height/2-o*l;a(i,c,l,null==r?void 0:r.duration)},fitBounds:async(n,o={padding:lu})=>{t.value||await au(e);const{x:r,y:l,zoom:i}=ms(n,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding);a(r,l,i,null==o?void 0:o.duration)},project:t=>os(t,e.viewport,e.snapToGrid,e.snapGrid)}};const su={name:"SelectionPane",inheritAttrs:!1},uu=Object(r["defineComponent"])(p(f({},su),{setup(e){const{id:t,store:n,deleteKeyCode:o,selectionKeyCode:l,multiSelectionKeyCode:i}=Js(),a=e=>{n.hooks.paneClick.trigger(e),n.nodesSelectionActive=!1,n.resetSelectedElements()},c=e=>n.hooks.paneContextMenu.trigger(e),s=e=>n.hooks.paneScroll.trigger(e);ru(o,e=>{var t;const o=n.getSelectedNodes,r=n.getSelectedEdges;if(e&&(o||r)){const e=null!=(t=o&&ds(o,n.edges))?t:[],l=o.map(e=>({id:e.id,type:"remove"})),i=[...r,...e].map(e=>({id:e.id,type:"remove"}));n.hooks.nodesChange.trigger(l),n.hooks.edgesChange.trigger(i),n.nodesSelectionActive=!1,n.resetSelectedElements()}}),ru(i,e=>{n.multiSelectionActive=e});const u=ru(l,e=>{n.userSelectionActive&&e||(n.userSelectionActive=e&&n.elementsSelectable)});return(e,o)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["unref"])(u)?(Object(r["openBlock"])(),Object(r["createBlock"])(Ls,{key:"user-selection-"+Object(r["unref"])(t)})):Object(r["createCommentVNode"])("",!0),Object(r["unref"])(n).nodesSelectionActive?(Object(r["openBlock"])(),Object(r["createBlock"])(Ts,{key:"nodes-selection-"+Object(r["unref"])(t)})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:"flow-pane-"+Object(r["unref"])(t),class:"vue-flow__pane vue-flow__container",onClick:a,onContextmenu:c,onWheel:s},null,32))],64))}})),du=["data-id"],fu={name:"Node",inheritAttrs:!1},pu=Object(r["defineComponent"])(p(f({},fu),{props:{id:null,node:null,draggable:{type:Boolean},selectable:{type:Boolean},connectable:{type:Boolean},snapGrid:null},setup(e){var t;const n=e,{store:o}=Js(),l=Pe(n,"node");Object(r["provide"])(bi,n.id);const i=Object(r["ref"])(),a=()=>l.value.dragging&&(e=>o.hooks.nodeMouseEnter.trigger({event:e,node:l.value})),c=()=>l.value.dragging&&(e=>o.hooks.nodeMouseMove.trigger({event:e,node:l.value})),s=()=>l.value.dragging&&(e=>o.hooks.nodeMouseLeave.trigger({event:e,node:l.value})),u=()=>e=>o.hooks.nodeContextMenu.trigger({event:e,node:l.value}),d=()=>e=>o.hooks.nodeDoubleClick.trigger({event:e,node:l.value}),h=e=>{n.draggable||(n.selectable&&(o.nodesSelectionActive=!1,l.value.selected||o.addSelectedNodes([l.value])),o.hooks.nodeClick.trigger({event:e,node:l.value}))};Object(r["onMounted"])(()=>{Ce(i,()=>o.updateNodeDimensions([{id:l.value.id,nodeElement:i.value,forceUpdate:!0}])),Object(r["watch"])([()=>l.value.type,()=>l.value.sourcePosition,()=>l.value.targetPosition],()=>Object(r["nextTick"])(()=>o.updateNodeDimensions([{id:l.value.id,nodeElement:i.value}]))),o.updateNodeDimensions([{id:l.value.id,nodeElement:i.value,forceUpdate:!0}])}),Object(r["watch"])([()=>l.value.position,()=>{var e;return null==(e=o.getNode(l.value.parentNode))?void 0:e.computedPosition},()=>l.value.selected,()=>{var e;return null==(e=o.getNode(l.value.parentNode))?void 0:e.selected}],([e,t])=>{const n=p(f({},e),{z:l.value.dragging||l.value.selected?1e3:0});l.value.computedPosition=t?bs(t,n):n,l.value.handleBounds=_s(i.value,v.value)},{deep:!0}),o.updateNodePosition({id:l.value.id,diff:{x:0,y:0}});const g=Object(r["inject"])(vi),m=Object(r["ref"])(null!=(t=l.value.type)?t:"default");Object(r["watch"])(()=>l.value.type,e=>e&&(m.value=e));const b=Object(r["computed"])(()=>{var e;let t=null!=(e=l.value.template)?e:o.getNodeTypes[m.value];const n=Object(r["getCurrentInstance"])();if("string"==typeof t&&n){const e=Object.keys(n.appContext.components);e&&e.includes(m.value)&&(t=Object(r["resolveComponent"])(m.value,!1))}if("string"!=typeof t)return t;const i=null==g?void 0:g["node-"+m.value];return(null==i?void 0:i({}))?i:(console.warn(`[vueflow]: Node type "${l.value.type}" not found and no node-slot detected. Using fallback type "default".`),m.value="default",o.getNodeTypes.default)}),{scale:v,onDrag:y,onDragStart:O,onDragStop:j}=Yc(i,{handle:l.value.dragHandle,disabled:!n.draggable,grid:n.snapGrid,cancel:"."+o.noDragClassName,enableUserSelectHack:!1,scale:o.viewport.zoom});Object(r["onMounted"])(()=>{U(()=>o.viewport.zoom,()=>{v.value=o.viewport.zoom},{debounce:5})}),O(({event:e})=>{o.addSelectedNodes([]),o.hooks.nodeDragStart.trigger({event:e,node:l.value}),o.selectNodesOnDrag&&n.selectable?(o.nodesSelectionActive=!1,l.value.selected||o.addSelectedNodes([l.value])):!o.selectNodesOnDrag&&!l.value.selected&&n.selectable&&(o.nodesSelectionActive=!1,o.addSelectedNodes([]))}),y(({event:e,data:{deltaX:t,deltaY:n}})=>{o.updateNodePosition({id:l.value.id,diff:{x:t,y:n},dragging:!0}),o.hooks.nodeDrag.trigger({event:e,node:l.value})}),j(({event:e,data:{deltaX:t,deltaY:r}})=>{if(!l.value.dragging)return n.selectable&&!o.selectNodesOnDrag&&!l.value.selected&&o.addSelectedNodes([l.value]),void o.hooks.nodeClick.trigger({event:e,node:l.value});o.updateNodePosition({id:l.value.id,diff:{x:t,y:r},dragging:!1}),o.hooks.nodeDragStop.trigger({event:e,node:l.value})});const w=Object(r["computed"])(()=>{const e=l.value.class instanceof Function?l.value.class(l.value):l.value.class;return["vue-flow__node","vue-flow__node-"+m.value,o.noPanClassName,{dragging:l.value.dragging,selected:l.value.selected,selectable:n.selectable},e]}),k=Object(r["computed"])(()=>{const e=(l.value.style instanceof Function?l.value.style(l.value):l.value.style)||{},t=l.value.width instanceof Function?l.value.width(l.value):l.value.width,o=l.value.height instanceof Function?l.value.height(l.value):l.value.height;return t&&(e.width="string"==typeof t?t:t+"px"),o&&(e.height="string"==typeof o?o:o+"px"),f({zIndex:l.value.computedPosition.z,transform:`translate(${l.value.computedPosition.x}px,${l.value.computedPosition.y}px)`,pointerEvents:n.selectable||n.draggable?"all":"none"},e)});return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{ref_key:"nodeElement",ref:i,class:Object(r["normalizeClass"])(Object(r["unref"])(w)),style:Object(r["normalizeStyle"])(Object(r["unref"])(k)),"data-id":Object(r["unref"])(l).id,onMouseenter:a,onMousemove:c,onMouseleave:s,onContextmenu:u,onClick:h,onDblclick:d},[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(Object(r["unref"])(b)),{id:Object(r["unref"])(l).id,type:Object(r["unref"])(l).type,data:Object(r["unref"])(l).data,selected:!!Object(r["unref"])(l).selected,connectable:n.connectable,position:Object(r["unref"])(l).position,"computed-position":Object(r["unref"])(l).computedPosition,dimensions:Object(r["unref"])(l).dimensions,"is-valid-target-pos":Object(r["unref"])(l).isValidTargetPos,"is-valid-source-pos":Object(r["unref"])(l).isValidSourcePos,"parent-node":Object(r["unref"])(l).parentNode,dragging:!!Object(r["unref"])(l).dragging,"z-index":Object(r["unref"])(l).computedPosition.z,"target-position":Object(r["unref"])(l).targetPosition,"source-position":Object(r["unref"])(l).sourcePosition,label:Object(r["unref"])(l).label,"drag-handle":Object(r["unref"])(l).dragHandle,"node-element":i.value},null,8,["id","type","data","selected","connectable","position","computed-position","dimensions","is-valid-target-pos","is-valid-source-pos","parent-node","dragging","z-index","target-position","source-position","label","drag-handle","node-element"]))],46,du))}})),hu={class:"vue-flow__nodes vue-flow__container"},gu={name:"Nodes"},mu=Object(r["defineComponent"])(p(f({},gu),{setup(e){const{store:t}=Js();return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",hu,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(t).getNodes,e=>{var n;return Object(r["openBlock"])(),Object(r["createBlock"])(pu,{id:e.id,key:e.id,node:e,draggable:"undefined"==typeof e.draggable?Object(r["unref"])(t).nodesDraggable:!!e.draggable,selectable:"undefined"==typeof e.selectable?Object(r["unref"])(t).elementsSelectable:!!e.selectable,connectable:"undefined"==typeof e.connectable?Object(r["unref"])(t).nodesConnectable:!!e.connectable,"snap-grid":null!=(n=e.snapGrid)?n:Object(r["unref"])(t).snapToGrid?Object(r["unref"])(t).snapGrid:void 0},null,8,["id","node","draggable","selectable","connectable","snap-grid"])}),128))]))}})),bu={name:"Edge",inheritAttrs:!1},vu=Object(r["defineComponent"])(p(f({},bu),{props:{id:null,edge:null,sourceNode:null,targetNode:null,selectable:{type:Boolean},updatable:{type:Boolean}},setup(e){var t;const n=e,{store:o}=Js(),l=Pe(n,"edge"),i=Object(r["ref"])(!1),{onMouseDown:a}=nu(),c=e=>{const t={event:e,edge:l.value};n.selectable&&(o.nodesSelectionActive=!1,o.addSelectedEdges([l.value])),o.hooks.edgeClick.trigger(t)},s=e=>o.hooks.edgeContextMenu.trigger({event:e,edge:l.value}),u=e=>o.hooks.edgeDoubleClick.trigger({event:e,edge:l.value}),d=e=>o.hooks.edgeMouseEnter.trigger({event:e,edge:l.value}),f=e=>o.hooks.edgeMouseMove.trigger({event:e,edge:l.value}),p=e=>o.hooks.edgeMouseLeave.trigger({event:e,edge:l.value}),h=()=>i.value=!0,g=()=>i.value=!1,m=e=>v(e,!0),b=e=>v(e,!1),v=(e,t)=>{var n;const r=t?l.value.target:l.value.source,i=null!=(n=t?l.value.targetHandle:l.value.sourceHandle)?n:"";o.hooks.edgeUpdateStart.trigger({event:e,edge:l.value}),a(e,i,r,t,void 0,t?"target":"source",e=>o.hooks.edgeUpdate.trigger({edge:l.value,connection:e}),()=>o.hooks.edgeUpdateEnd.trigger({event:e,edge:l.value}))},y=Object(r["computed"])(()=>{if(o.connectionMode===oi.Strict)return n.targetNode.handleBounds.target;const e=n.targetNode.handleBounds.target,t=n.targetNode.handleBounds.source;return null!=e?e:t}),O=Object(r["computed"])(()=>{if(o.connectionMode===oi.Strict)return n.sourceNode.handleBounds.source;const e=n.sourceNode.handleBounds.target,t=n.sourceNode.handleBounds.source;return null!=t?t:e}),j=Object(r["computed"])(()=>js(O.value,l.value.sourceHandle)),w=Object(r["computed"])(()=>js(y.value,l.value.targetHandle)),k=Object(r["computed"])(()=>j.value?j.value.position:ei.Bottom),x=Object(r["computed"])(()=>w.value?w.value.position:ei.Top),N=Object(r["computed"])(()=>o.edgeUpdaterRadius);Object(r["onMounted"])(()=>{Object(r["watch"])([k,x,()=>n.sourceNode.position,()=>n.targetNode.position,()=>n.sourceNode.computedPosition,()=>n.targetNode.computedPosition,()=>n.sourceNode.dimensions,()=>n.targetNode.dimensions],()=>{const{sourceX:e,sourceY:t,targetY:o,targetX:r}=ws(n.sourceNode,j.value,k.value,n.targetNode,w.value,x.value);l.value.sourceX!==e&&(l.value.sourceX=e),l.value.sourceY!==t&&(l.value.sourceY=t),l.value.targetX!==r&&(l.value.targetX=r),l.value.targetY!==o&&(l.value.targetY=o)},{immediate:!0,deep:!0})});const _=Object(r["inject"])(vi),E=Object(r["ref"])(null!=(t=l.value.type)?t:"default");Object(r["watch"])(()=>l.value.type,e=>e&&(E.value=e));const S=Object(r["computed"])(()=>{var e;let t=null!=(e=l.value.template)?e:o.getEdgeTypes[E.value];const n=Object(r["getCurrentInstance"])();if("string"==typeof t&&n){const e=Object.keys(n.appContext.components);e&&e.includes(E.value)&&(t=Object(r["resolveComponent"])(E.value,!1))}if("string"!=typeof t)return t;const i=null==_?void 0:_["edge-"+E.value];return(null==i?void 0:i({}))?i:(console.warn(`[vueflow]: Edge type "${l.value.type}" not found and no edge-slot detected. Using fallback type "default".`),E.value="default",o.getEdgeTypes.default)}),B=Object(r["computed"])(()=>{const e=l.value.class instanceof Function?l.value.class(l.value):l.value.class;return["vue-flow__edge","vue-flow__edge-"+E.value,o.noPanClassName,{selected:l.value.selected,animated:l.value.animated,inactive:!n.selectable,updating:i.value},e]}),C=()=>l.value.style instanceof Function?l.value.style(l.value):l.value.style;return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("g",{class:Object(r["normalizeClass"])(Object(r["unref"])(B)),onClick:c,onDblClick:u,onContextmenu:s,onMouseenter:d,onMousemove:f,onMouseleave:p},[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(Object(r["unref"])(S)),{id:Object(r["unref"])(l).id,"source-node":n.sourceNode,"target-node":n.targetNode,source:Object(r["unref"])(l).source,target:Object(r["unref"])(l).target,updatable:n.updatable,selected:Object(r["unref"])(l).selected,animated:Object(r["unref"])(l).animated,label:Object(r["unref"])(l).label,"label-style":Object(r["unref"])(l).labelStyle,"label-show-bg":Object(r["unref"])(l).labelShowBg,"label-bg-style":Object(r["unref"])(l).labelBgStyle,"label-bg-padding":Object(r["unref"])(l).labelBgPadding,"label-bg-border-radius":Object(r["unref"])(l).labelBgBorderRadius,data:Object(r["unref"])(l).data,style:Object(r["normalizeStyle"])(C()),"marker-start":`url(#${Object(r["unref"])(ys)(Object(r["unref"])(l).markerStart)})`,"marker-end":`url(#${Object(r["unref"])(ys)(Object(r["unref"])(l).markerEnd)})`,"source-position":Object(r["unref"])(k),"target-position":Object(r["unref"])(x),"source-x":Object(r["unref"])(l).sourceX,"source-y":Object(r["unref"])(l).sourceY,"target-x":Object(r["unref"])(l).targetX,"target-y":Object(r["unref"])(l).targetY,"source-handle-id":Object(r["unref"])(l).sourceHandle,"target-handle-id":Object(r["unref"])(l).targetHandle},null,8,["id","source-node","target-node","source","target","updatable","selected","animated","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","data","style","marker-start","marker-end","source-position","target-position","source-x","source-y","target-x","target-y","source-handle-id","target-handle-id"])),n.updatable?(Object(r["openBlock"])(),Object(r["createElementBlock"])("g",{key:0,onMousedown:m,onMouseenter:h,onMouseout:g},[Object(r["createVNode"])(Ea,{position:Object(r["unref"])(k),"center-x":Object(r["unref"])(l).sourceX,"center-y":Object(r["unref"])(l).sourceY,radius:Object(r["unref"])(N)},null,8,["position","center-x","center-y","radius"])],32)):Object(r["createCommentVNode"])("",!0),n.updatable?(Object(r["openBlock"])(),Object(r["createElementBlock"])("g",{key:1,onMousedown:b,onMouseenter:h,onMouseout:g},[Object(r["createVNode"])(Ea,{position:Object(r["unref"])(x),"center-x":Object(r["unref"])(l).targetX,"center-y":Object(r["unref"])(l).targetY,radius:Object(r["unref"])(N)},null,8,["position","center-x","center-y","radius"])],32)):Object(r["createCommentVNode"])("",!0)],34))}})),yu=["id","markerWidth","markerHeight","markerUnits","orient"],Ou=["stroke","stroke-width","fill"],ju=["stroke","stroke-width"],wu={name:"Marker"};var ku;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ku||(ku={}));const xu=Object(r["defineComponent"])(p(f({},wu),{props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto"},strokeWidth:{default:1}},setup(e){const t=e;return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:""+t.width,markerHeight:""+t.height,markerUnits:t.markerUnits,orient:t.orient},["arrowclosed"===t.type?(Object(r["openBlock"])(),Object(r["createElementBlock"])("polyline",{key:0,stroke:t.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":t.strokeWidth,fill:t.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,Ou)):Object(r["createCommentVNode"])("",!0),"arrow"===t.type?(Object(r["openBlock"])(),Object(r["createElementBlock"])("polyline",{key:1,stroke:t.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":t.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,ju)):Object(r["createCommentVNode"])("",!0)],8,yu))}})),Nu={name:"MarkerDefinitions"},_u=Object(r["defineComponent"])(p(f({},Nu),{props:{defaultColor:{default:""}},setup(e){const t=e,{store:n}=Js(),o=Object(r["computed"])(()=>{const e=[];return n.edges.reduce((n,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o){const r=ys(o);e.includes(r)||("object"==typeof o?n.push(p(f({},o),{id:r,color:o.color||t.defaultColor})):n.push({id:r,color:t.defaultColor,type:o}),e.push(r))}}),n.sort((e,t)=>e.id.localeCompare(t.id))),[])});return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("defs",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(o),e=>(Object(r["openBlock"])(),Object(r["createBlock"])(xu,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,"stroke-width":e.strokeWidth,orient:e.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}})),Eu={name:"Edges"},Su=Object(r["defineComponent"])(p(f({},Eu),{setup(e){const{store:t}=Js(),n=g(()=>t.connectionNodeId,()=>!!t.connectionNodeId&&t.getNode(t.connectionNodeId)),o=g(()=>t.connectionNodeId,()=>!!(n.value&&("undefined"==typeof n.value.connectable?t.nodesConnectable:n.value.connectable)&&t.connectionNodeId&&t.connectionHandleType)),l=e=>t.getNode(e),i=Object(r["computed"])(()=>xs(t.getEdges,l));return(e,a)=>(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(i),e=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",{key:e.level,class:"vue-flow__edges vue-flow__container",style:Object(r["normalizeStyle"])("z-index: "+e.level)},[e.isMaxLevel?(Object(r["openBlock"])(),Object(r["createBlock"])(_u,{key:0,"default-color":Object(r["unref"])(t).defaultMarkerColor},null,8,["default-color"])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("g",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.edges,e=>(Object(r["openBlock"])(),Object(r["createBlock"])(vu,{id:e.id,key:e.id,edge:e,"source-node":l(e.source),"target-node":l(e.target),selectable:"undefined"==typeof e.selectable?Object(r["unref"])(t).elementsSelectable:e.selectable,updatable:"undefined"==typeof e.updatable?Object(r["unref"])(t).edgesUpdatable:e.updatable},null,8,["id","edge","source-node","target-node","selectable","updatable"]))),128)),Object(r["unref"])(o)&&Object(r["unref"])(n)?(Object(r["openBlock"])(),Object(r["createBlock"])(Va,{key:0,"source-node":Object(r["unref"])(n)},null,8,["source-node"])):Object(r["createCommentVNode"])("",!0)])],4))),128))}})),Bu={name:"Transform"},Cu=Object(r["defineComponent"])(p(f({},Bu),{setup(e){const{id:t,store:n}=Js(),o=async e=>{const t=ou();return"screen"in t&&await C(e.dimensions).toMatch(({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0),!0},l=Object(r["ref"])(!1);Object(r["onMounted"])(async()=>{const{zoomIn:e,zoomOut:t,zoomTo:r,setTransform:i,getTransform:a,fitView:c,fitBounds:s,setCenter:u}=cu(n),d={fitView:(e={padding:.1})=>c(e),zoomIn:e,zoomOut:t,zoomTo:r,setTransform:i,getTransform:a,setCenter:u,fitBounds:s,project:rs(n),getElements:hs(n),getNodes:fs(n),getEdges:ps(n),toObject:gs(n)};await o(n),l.value=!0,n.instance=d,n.fitViewOnInit&&d.fitView(),n.hooks.paneReady.trigger(d)});const i=Object(r["computed"])(()=>`translate(${n.viewport.x}px,${n.viewport.y}px) scale(${n.viewport.zoom})`);return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:"transformation-pane-"+Object(r["unref"])(t),class:"vue-flow__transformationpane vue-flow__container",style:Object(r["normalizeStyle"])({transform:Object(r["unref"])(i),opacity:l.value?void 0:0})},[(Object(r["openBlock"])(),Object(r["createBlock"])(mu,{key:"node-renderer-"+Object(r["unref"])(t)})),(Object(r["openBlock"])(),Object(r["createBlock"])(Su,{key:"edge-renderer-"+Object(r["unref"])(t)})),Object(r["renderSlot"])(e.$slots,"default")],4))}})),Vu={name:"Viewport"},Pu=Object(r["defineComponent"])(p(f({},Vu),{setup(e){const{id:t,store:n,zoomActivationKeyCode:o,selectionKeyCode:l}=Js(),i=je("viewport",null),a=(e,t)=>e.x!==t.x&&!isNaN(t.x)||e.y!==t.y&&!isNaN(t.y)||e.zoom!==t.k&&!isNaN(t.k),c=e=>({x:e.x,y:e.y,zoom:e.k}),s=(e,t)=>e.target.closest("."+t),u=Uc(n.defaultZoom,n.minZoom,n.maxZoom),d=Object(r["ref"])(p(f({},Zc({x:n.defaultPosition[0],y:n.defaultPosition[1]},n.translateExtent)),{zoom:u})),{width:h,height:g}=Ve(i);return Object(r["watch"])([h,g],([e,t])=>{n.dimensions.width=e,n.dimensions.height=t},{immediate:!0}),Object(r["onMounted"])(()=>{const e=gi().scaleExtent([n.minZoom,n.maxZoom]).translateExtent(n.translateExtent),t=Ln(i.value).call(e),r=t.on("wheel.zoom"),u=ii.translate(d.value.x,d.value.y).scale(d.value.zoom);e.transform(t,u),n.setState({d3Zoom:e,d3Selection:t,d3ZoomHandler:r,viewport:{x:u.x,y:u.y,zoom:u.k}});const f=ru(l,t=>{t?e.on("zoom",null):e.on("zoom",e=>{n.setState({viewport:{x:e.transform.x,y:e.transform.y,zoom:e.transform.k}});const t=c(e.transform);n.hooks.move.trigger({event:e,flowTransform:t})})}),p=ru(o);e.on("start",e=>{const t=c(e.transform);d.value=t,n.hooks.moveStart.trigger({event:e,flowTransform:t})}),e.on("end",e=>{if(a(d.value,e.transform)){const t=c(e.transform);d.value=t,n.hooks.moveEnd.trigger({event:e,flowTransform:t})}}),null==t||t.on("wheel",o=>{if(n.panOnScroll&&!p.value){if(s(o,n.noWheelClassName))return;o.preventDefault(),o.stopImmediatePropagation();const r=(null==t?void 0:t.property("__zoom").k)||1;if(o.ctrlKey&&n.zoomOnPinch){const n=Xn(o),l=-o.deltaY*(1===o.deltaMode?.05:o.deltaMode?1:.002)*10,i=r*Math.pow(2,l);return void(t&&e.scaleTo(t,i,n))}const l=1===o.deltaMode?20:1,i=n.panOnScrollMode===li.Vertical?0:o.deltaX*l,a=n.panOnScrollMode===li.Horizontal?0:o.deltaY*l;t&&n.panOnScrollSpeed&&(null==e||e.translateBy(t,-i/r*n.panOnScrollSpeed,-a/r*n.panOnScrollSpeed))}else{if(!n.zoomOnScroll&&n.preventScrolling||!n.preventScrolling||s(o,n.noWheelClassName))return null;o.preventDefault()}}).on("wheel.zoom",n.panOnScroll||"undefined"==typeof r?null:r),e.filter(e=>{const t=p.value||n.zoomOnScroll,o=n.zoomOnPinch&&e.ctrlKey;return!(!n.panOnDrag&&!t&&!n.panOnScroll&&!n.zoomOnDoubleClick&&!n.zoomOnPinch||f.value||!n.zoomOnDoubleClick&&"dblclick"===e.type||s(e,n.noWheelClassName)&&"wheel"===e.type||s(e,n.noPanClassName)&&"wheel"!==e.type||!n.zoomOnPinch&&e.ctrlKey&&"wheel"===e.type||!(t||n.panOnScroll||o||"wheel"!==e.type)||!(n.panOnDrag||"mousedown"!==e.type&&"touchstart"!==e.type))&&((!e.ctrlKey||"wheel"===e.type)&&!e.button)})}),(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{ref:"viewport",key:"viewport-"+Object(r["unref"])(t),class:"vue-flow__viewport vue-flow__container"},[Object(r["createVNode"])(Cu,null,{default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"default")]),_:3}),(Object(r["openBlock"])(),Object(r["createBlock"])(uu,{key:"selection-pane-"+Object(r["unref"])(t)}))]))}})),Mu=e=>"undefined"!=typeof e;var Tu=(e,t)=>{const n=Object(r["getCurrentScope"])();null==n||n.run(()=>{const o=()=>{n.run(()=>{let n,o;n=oe([e.modelValue,()=>{var t,n;return null==(n=null==(t=e.modelValue)?void 0:t.value)?void 0:n.length}],([l])=>{l&&Array.isArray(l)&&(o&&o.pause(),n&&n.pause(),t.setElements(l),o=oe([()=>t.edges.value.length,()=>t.nodes.value.length],()=>{e.modelValue.value=[...t.nodes.value,...t.edges.value]},{immediate:!0}),Object(r["nextTick"])(()=>{o&&o.resume(),n&&n.resume()}))},{immediate:!(!e.modelValue||!e.modelValue.value),flush:"post"})})},l=()=>{n.run(()=>{let n,o;n=oe([e.nodes,()=>{var t,n;return null==(n=null==(t=e.nodes)?void 0:t.value)?void 0:n.length}],async([l])=>{l&&Array.isArray(l)&&(o&&o.pause(),n&&n.pause(),t.setNodes(l),o=oe(()=>t.nodes.value.length,()=>e.nodes.value=[...t.nodes.value],{immediate:!0}),Object(r["nextTick"])(()=>{o&&o.resume(),n&&n.resume()}))},{immediate:!(!e.nodes||!e.nodes.value),flush:"post"})})},i=()=>{n.run(()=>{let n,o;n=oe([e.edges,()=>{var t,n;return null==(n=null==(t=e.edges)?void 0:t.value)?void 0:n.length}],async([l])=>{l&&Array.isArray(l)&&(o&&o.pause(),n&&n.pause(),t.setEdges(l),o=oe(()=>t.edges.value.length,()=>e.edges.value=[...t.edges.value],{immediate:!0}),Object(r["nextTick"])(()=>{o&&o.resume(),n&&n.resume()}))},{immediate:!(!e.edges||!e.edges.value),flush:"post"})})},a=()=>{n.run(()=>{var n;Object(r["watch"])([()=>e.maxZoom,e.maxZoom],()=>{e.maxZoom&&Mu(e.maxZoom.value)&&t.setMaxZoom(e.maxZoom.value)},{immediate:Mu(null==(n=e.maxZoom)?void 0:n.value)})})},c=()=>{n.run(()=>{var n;Object(r["watch"])([()=>e.minZoom,e.minZoom],()=>{e.minZoom&&Mu(e.minZoom.value)&&t.setMinZoom(e.minZoom.value)},{immediate:Mu(null==(n=e.minZoom)?void 0:n.value)})})},s=()=>{n.run(()=>{var n;Object(r["watch"])([()=>e.applyDefault,e.applyDefault],()=>{e.applyDefault&&Mu(e.applyDefault.value)&&(t.applyDefault.value=e.applyDefault.value)},{immediate:Mu(null==(n=e.applyDefault)?void 0:n.value)}),Object(r["watch"])(t.applyDefault,()=>{t.applyDefault.value&&(t.onNodesChange(t.applyNodeChanges),t.onEdgesChange(t.applyEdgeChanges))},{immediate:!0})})};o(),l(),i(),a(),c(),s();const u=["id","modelValue","edges","nodes","maxZoom","minZoom","applyDefault"];Object.keys(e).forEach(o=>{if(!u.includes(o)){const l=e[o],i=t[o];n.run(()=>{Object(r["watch"])([()=>l,l],()=>{l&&Mu(l.value)&&(i.value=l.value)},{immediate:Mu(null==l?void 0:l.value)})})}})})};const Du={class:"vue-flow"},zu={name:"VueFlow"};var $u,Iu,Au;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($u||($u={})),function(e){e.Strict="strict",e.Loose="loose"}(Iu||(Iu={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(Au||(Au={}));const Lu=Object(r["defineComponent"])(p(f({},zu),{props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:Boolean,default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultZoom:null,defaultPosition:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null},emits:[...Object.keys(yi()),"update:modelValue","update:nodes","update:edges"],setup(e,{emit:t}){const n=Me(e,t),o=Js(),{id:l,hooks:i,getNodeTypes:a,getEdgeTypes:c}=o,s=h(o,["id","hooks","getNodeTypes","getEdgeTypes"]);return Tu(n,f({id:l,hooks:i,getNodeTypes:a,getEdgeTypes:c},s)),ji(t,i.value),Object(r["provide"])(vi,Object(r["useSlots"])()),(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Du,[(Object(r["openBlock"])(),Object(r["createBlock"])(Pu,{key:"renderer-"+Object(r["unref"])(l)},{nodes:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object.keys(Object(r["unref"])(a)),t=>Object(r["renderSlot"])(e.$slots,"node-"+t,{key:`node-${t}-${Object(r["unref"])(l)}`})),128))]),edges:Object(r["withCtx"])(()=>[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object.keys(Object(r["unref"])(c)),t=>Object(r["renderSlot"])(e.$slots,"edge-"+t,{key:`edge-${t}-${Object(r["unref"])(l)}`})),128))]),"connection-name":Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"connection-line")]),default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"zoom-pane")]),_:3})),Object(r["renderSlot"])(e.$slots,"default")]))}})),Yu=["x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],Xu={name:"MiniMapNode"},Ru=Object(r["defineComponent"])(p(f({},Xu),{props:{id:null,parentNode:null,selected:{type:Boolean},dragging:{type:Boolean},position:null,dimensions:null,borderRadius:null,color:null,shapeRendering:{default:"geometricPrecision"},strokeColor:null,strokeWidth:null},emits:["click","dblClick"],setup(e,{emit:t}){var n;const o=e,l=Object(r["useAttrs"])(),i=null!=(n=l.style)?n:{},a=Object(r["computed"])(()=>o.color||i.background||i.backgroundColor);return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("rect",{class:Object(r["normalizeClass"])(["vue-flow__minimap-node",Object(r["unref"])(l).class]),style:Object(r["normalizeStyle"])(Object(r["unref"])(l).style),x:o.position.x,y:o.position.y,rx:o.borderRadius,ry:o.borderRadius,width:o.dimensions.width,height:o.dimensions.height,fill:Object(r["unref"])(a),stroke:o.strokeColor,"stroke-width":o.strokeWidth,"shape-rendering":o.shapeRendering,onClick:n[0]||(n[0]=e=>t("click")),onDblClick:n[1]||(n[1]=e=>t("dblClick"))},null,46,Yu),Object(r["renderSlot"])(e.$slots,"default")],64))}})),Hu=["width","height","viewBox"],Fu=["d","fill"],Uu={name:"MiniMap"};Object(r["defineComponent"])(p(f({},Uu),{props:{nodeColor:{type:[String,Function],default:"#fff"},nodeStrokeColor:{type:[String,Function],default:"#555"},nodeClassName:{type:[String,Function],default:""},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 242, 243, 0.7)"}},setup(e){var t,n,o,l;const i=e,a=Object(r["useAttrs"])(),c=ou(),s=200,u=150,{store:d}=Js(),f=null!=(n=null==(t=a.style)?void 0:t.width)?n:s,p=null!=(l=null==(o=a.style)?void 0:o.height)?l:u,h=i.nodeColor instanceof Function?i.nodeColor:()=>i.nodeColor,g=i.nodeStrokeColor instanceof Function?i.nodeStrokeColor:()=>i.nodeStrokeColor,m=i.nodeClassName instanceof Function?i.nodeClassName:()=>i.nodeClassName,b="undefined"==typeof c||c.chrome?"crispEdges":"geometricPrecision",v=Object(r["computed"])(()=>ss(d.getNodes)),y=Object(r["computed"])(()=>({x:-d.viewport.x/d.viewport.zoom,y:-d.viewport.y/d.viewport.zoom,width:d.dimensions.width/d.viewport.zoom,height:d.dimensions.height/d.viewport.zoom})),O=Object(r["computed"])(()=>{const e=d.getNodes&&d.getNodes.length?cs(v.value,y.value):y.value,t=e.width/f,n=e.height/p,o=Math.max(t,n),r=o*f,l=o*p,i=5*o;return{offset:i,x:e.x-(r-e.width)/2-i,y:e.y-(l-e.height)/2-i,width:r+2*i,height:l+2*i}}),j=Object(r["computed"])(()=>O.value.x&&O.value.y?`\n    M${O.value.x-O.value.offset},${O.value.y-O.value.offset}\n    h${O.value.width+2*O.value.offset}\n    v${O.value.height+2*O.value.offset}\n    h${-O.value.width-2*O.value.offset}z\n    M${y.value.x},${y.value.y}\n    h${y.value.width}\n    v${y.value.height}\n    h${-y.value.width}z`:""),w=(e,t)=>{d.hooks.miniMapNodeClick.trigger({event:e,node:t})},k=(e,t)=>{d.hooks.miniMapNodeDoubleClick.trigger({event:e,node:t})};return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",{width:Object(r["unref"])(f),height:Object(r["unref"])(p),viewBox:`${Object(r["unref"])(O).x||0} ${Object(r["unref"])(O).y||0} ${Object(r["unref"])(O).width||0} ${Object(r["unref"])(O).height||0}`,class:"vue-flow__minimap"},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(d).getNodes,t=>(Object(r["openBlock"])(),Object(r["createBlock"])(Ru,{key:"mini-map-node-"+t.id,id:t.id,position:t.computedPosition,dimensions:t.dimensions,style:Object(r["normalizeStyle"])(t.style),class:Object(r["normalizeClass"])(Object(r["unref"])(m)(t)),color:Object(r["unref"])(h)(t),"border-radius":i.nodeBorderRadius,"stroke-color":Object(r["unref"])(g)(t),"stroke-width":i.nodeStrokeWidth,"shape-rendering":Object(r["unref"])(b),onClick:e=>w(e,t),onDblclick:e=>k(e,t)},{default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"node-"+t.type,{id:t.id,parentNode:t.parentNode,selected:t.selected,dragging:t.dragging,position:t.computedPosition,dimensions:t.dimensions,style:Object(r["normalizeStyle"])(t.style),class:Object(r["normalizeClass"])(Object(r["unref"])(m)(t)),color:Object(r["unref"])(h)(t),borderRadius:i.nodeBorderRadius,strokeColor:Object(r["unref"])(g)(t),strokeWidth:i.nodeStrokeWidth,shapeRendering:Object(r["unref"])(b)})]),_:2},1032,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","onClick","onDblclick"]))),128)),Object(r["createElementVNode"])("path",{class:"vue-flow__minimap-mask",d:Object(r["unref"])(j),fill:i.maskColor,"fill-rule":"evenodd"},null,8,Fu)],8,Hu))}}));var Zu=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const Gu={name:"ControlButton"},Wu={class:"vue-flow__controls-button"};function qu(e,t,n,o,l,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("button",Wu,[Object(r["renderSlot"])(e.$slots,"default")])}var Ku=Zu(Gu,[["render",qu]]);const Qu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ju=Object(r["createElementVNode"])("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),ed=[Ju];function td(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",Qu,ed)}const nd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},od=Object(r["createElementVNode"])("path",{d:"M0 0h32v4.2H0z"},null,-1),rd=[od];function ld(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",nd,rd)}const id={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ad=Object(r["createElementVNode"])("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),cd=[ad];function sd(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",id,cd)}const ud={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},dd=Object(r["createElementVNode"])("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),fd=[dd];function pd(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",ud,fd)}const hd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},gd=Object(r["createElementVNode"])("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),md=[gd];function bd(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",hd,md)}const vd={class:"vue-flow__controls"},yd={name:"Controls"},Od=(Object(r["defineComponent"])(p(f({},yd),{props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null},emits:["zoom-in","zoom-out","fit-view","interaction-change"],setup(e,{emit:t}){const n=e,{store:o}=Js(),{zoomIn:l,zoomOut:i,fitView:a}=cu(),c=Object(r["computed"])(()=>o.nodesDraggable&&o.nodesConnectable&&o.elementsSelectable),s=()=>{l(),t("zoom-in")},u=()=>{i(),t("zoom-out")},d=()=>{a(n.fitViewParams),t("fit-view")},f=()=>{o.setInteractive(!c.value),t("interaction-change",!c.value)};return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",vd,[n.showZoom?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["renderSlot"])(e.$slots,"control-zoom-in",{},()=>[Object(r["createVNode"])(Ku,{class:"vue-flow__controls-zoomin",onClick:s},{default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"icon-zoom-in",{},()=>[Object(r["createVNode"])(Object(r["unref"])(td))])]),_:3})]),Object(r["renderSlot"])(e.$slots,"control-zoom-out",{},()=>[Object(r["createVNode"])(Ku,{class:"vue-flow__controls-zoomout",onClick:u},{default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"icon-zoom-out",{},()=>[Object(r["createVNode"])(Object(r["unref"])(ld))])]),_:3})])],64)):Object(r["createCommentVNode"])("",!0),Object(r["renderSlot"])(e.$slots,"control-fitview",{},()=>[n.showFitView?(Object(r["openBlock"])(),Object(r["createBlock"])(Ku,{key:0,class:"vue-flow__controls-fitview",onClick:d},{default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"icon-fitview",{},()=>[Object(r["createVNode"])(Object(r["unref"])(sd))])]),_:3})):Object(r["createCommentVNode"])("",!0)]),Object(r["renderSlot"])(e.$slots,"control-interactive",{},()=>[n.showInteractive?(Object(r["openBlock"])(),Object(r["createBlock"])(Ku,{key:0,class:"vue-flow__controls-interactive",onClick:f},{default:Object(r["withCtx"])(()=>[Object(r["renderSlot"])(e.$slots,"icon-unlock",{},()=>[Object(r["unref"])(c)?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(bd),{key:0})):Object(r["createCommentVNode"])("",!0)]),Object(r["renderSlot"])(e.$slots,"icon-lock",{},()=>[Object(r["unref"])(c)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(pd),{key:0}))])]),_:3})):Object(r["createCommentVNode"])("",!0)]),Object(r["renderSlot"])(e.$slots,"default")]))}})),["x","y","width","height"]),jd=["stroke","stroke-width","d"],wd=["cx","cy","r","fill"],kd={key:2,height:"100",width:"100"},xd=["fill"],Nd=["x","y","fill"],_d={name:"Background"};var Ed;(function(e){e.Lines="lines",e.Dots="dots"})(Ed||(Ed={}));Object(r["defineComponent"])(p(f({},_d),{props:{variant:{default:"dots"},gap:{default:10},size:{default:.4},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0}},setup(e){const t=e,n={[Ed.Dots]:"#81818a",[Ed.Lines]:"#eee"},{store:o}=Js(),l=Object(r["computed"])(()=>{const e=t.gap&&t.gap*o.viewport.zoom,n=e&&o.viewport.x%e,r=e&&o.viewport.y%e,l=t.size||.4*o.viewport.zoom;return{scaledGap:e,xOffset:n,yOffset:r,size:l}}),i="pattern-"+Math.floor(1e5*Math.random()),a=Object(r["computed"])(()=>t.patternColor?t.patternColor:n[t.variant||Ed.Dots]),c=Object(r["computed"])(()=>`M${l.value.scaledGap/2} 0 V${l.value.scaledGap} M0 ${l.value.scaledGap/2} H${l.value.scaledGap}`);return(e,n)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",{class:"vue-flow__background",style:Object(r["normalizeStyle"])({height:(t.height>100?100:t.height)+"%",width:(t.width>100?100:t.width)+"%"})},[Object(r["createElementVNode"])("pattern",{id:i,x:Object(r["unref"])(l).xOffset,y:Object(r["unref"])(l).yOffset,width:Object(r["unref"])(l).scaledGap,height:Object(r["unref"])(l).scaledGap,patternUnits:"userSpaceOnUse"},[t.variant===Ed.Lines?(Object(r["openBlock"])(),Object(r["createElementBlock"])("path",{key:0,stroke:Object(r["unref"])(a),"stroke-width":t.size,d:Object(r["unref"])(c)},null,8,jd)):t.variant===Ed.Dots?(Object(r["openBlock"])(),Object(r["createElementBlock"])("circle",{key:1,cx:Object(r["unref"])(l).size,cy:Object(r["unref"])(l).size,r:Object(r["unref"])(l).size,fill:Object(r["unref"])(a)},null,8,wd)):Object(r["createCommentVNode"])("",!0),t.bgColor?(Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",kd,[Object(r["createElementVNode"])("rect",{width:"100%",height:"100%",fill:t.bgColor},null,8,xd)])):Object(r["createCommentVNode"])("",!0)],8,Od),Object(r["createElementVNode"])("rect",{x:t.x,y:t.y,width:"100%",height:"100%",fill:`url(#${i})`},null,8,Nd),Object(r["renderSlot"])(e.$slots,"default")],4))}}))}).call(this,n("c8ba"),n("4362"))},"7d42":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Xt}));var o=n("7a23");
/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(null==e)return{};var n,o,r=s(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d="1.14.0";function f(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var p=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),h=f(/Edge/i),g=f(/firefox/i),m=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),b=f(/iP(ad|od|hone)/i),v=f(/chrome/i)&&f(/android/i),y={capture:!1,passive:!1};function O(e,t,n){e.addEventListener(t,n,!p&&y)}function j(e,t,n){e.removeEventListener(t,n,!p&&y)}function w(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function k(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&w(e,t):w(e,t))||o&&e===n)return e;if(e===n)break}while(e=k(e))}return null}var N,_=/\s+/g;function E(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(_," ")}}function S(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"===typeof n?"":"px")}}function B(e,t){var n="";if("string"===typeof e)n=e;else do{var o=S(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function C(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,l=o.length;if(n)for(;r<l;r++)n(o[r],r);return o}return[]}function V(){var e=document.scrollingElement;return e||document.documentElement}function P(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var l,i,a,c,s,u,d;if(e!==window&&e.parentNode&&e!==V()?(l=e.getBoundingClientRect(),i=l.top,a=l.left,c=l.bottom,s=l.right,u=l.height,d=l.width):(i=0,a=0,c=window.innerHeight,s=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!p))do{if(r&&r.getBoundingClientRect&&("none"!==S(r,"transform")||n&&"static"!==S(r,"position"))){var f=r.getBoundingClientRect();i-=f.top+parseInt(S(r,"border-top-width")),a-=f.left+parseInt(S(r,"border-left-width")),c=i+l.height,s=a+l.width;break}}while(r=r.parentNode);if(o&&e!==window){var h=B(r||e),g=h&&h.a,m=h&&h.d;h&&(i/=m,a/=g,d/=g,u/=m,c=i+u,s=a+d)}return{top:i,left:a,bottom:c,right:s,width:d,height:u}}}function M(e,t,n){var o=A(e,!0),r=P(e)[t];while(o){var l=P(o)[n],i=void 0;if(i="top"===n||"left"===n?r>=l:r<=l,!i)return o;if(o===V())break;o=A(o,!1)}return!1}function T(e,t,n,o){var r=0,l=0,i=e.children;while(l<i.length){if("none"!==i[l].style.display&&i[l]!==We.ghost&&(o||i[l]!==We.dragged)&&x(i[l],n.draggable,e,!1)){if(r===t)return i[l];r++}l++}return null}function D(e,t){var n=e.lastElementChild;while(n&&(n===We.ghost||"none"===S(n,"display")||t&&!w(n,t)))n=n.previousElementSibling;return n||null}function z(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===We.clone||t&&!w(e,t)||n++;return n}function $(e){var t=0,n=0,o=V();if(e)do{var r=B(e),l=r.a,i=r.d;t+=e.scrollLeft*l,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function I(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}function A(e,t){if(!e||!e.getBoundingClientRect)return V();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=S(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return V();if(o||t)return n;o=!0}}}while(n=n.parentNode);return V()}function L(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Y(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function X(e,t){return function(){if(!N){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),N=setTimeout((function(){N=void 0}),t)}}}function R(){clearTimeout(N),N=void 0}function H(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function Z(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==S(e,"display")&&e!==We.ghost){t.push({target:e,rect:P(e)});var n=l({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=B(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(I(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var r=!1,l=0;t.forEach((function(e){var t=0,n=e.target,i=n.fromRect,a=P(n),c=n.prevFromRect,s=n.prevToRect,u=e.rect,d=B(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&Y(c,a)&&!Y(i,a)&&(u.top-a.top)/(u.left-a.left)===(i.top-a.top)/(i.left-a.left)&&(t=W(u,c,s,o.options)),Y(a,i)||(n.prevFromRect=i,n.prevToRect=a,t||(t=o.options.animation),o.animate(n,u,a,t)),t&&(r=!0,l=Math.max(l,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"===typeof n&&n()}),l):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){S(e,"transition",""),S(e,"transform","");var r=B(this.el),l=r&&r.a,i=r&&r.d,a=(t.left-n.left)/(l||1),c=(t.top-n.top)/(i||1);e.animatingX=!!a,e.animatingY=!!c,S(e,"transform","translate3d("+a+"px,"+c+"px,0)"),this.forRepaintDummy=G(e),S(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),S(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){S(e,"transition",""),S(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function G(e){return e.offsetWidth}function W(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var q=[],K={initializeByDefault:!0},Q={mount:function(e){for(var t in K)K.hasOwnProperty(t)&&!(t in e)&&(e[t]=K[t]);q.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),q.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";q.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](l({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](l({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in q.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var l=new o(e,t,e.options);l.sortable=e,l.options=e.options,e[r]=l,c(n,l.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var l=this.modifyOption(e,r,e.options[r]);"undefined"!==typeof l&&(e.options[r]=l)}},getEventProperties:function(e,t){var n={};return q.forEach((function(o){"function"===typeof o.eventProperties&&c(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return q.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"===typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};function J(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,a=e.toEl,c=e.fromEl,s=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[U],t){var v,y=t.options,O="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||p||h?(v=document.createEvent("Event"),v.initEvent(o,!0,!0)):v=new CustomEvent(o,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=c||n,v.item=r||n,v.clone=i,v.oldIndex=s,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=f,v.originalEvent=g,v.pullMode=m?m.lastPutMode:void 0;var j=l(l({},b),Q.getEventProperties(o,t));for(var w in j)v[w]=j[w];n&&n.dispatchEvent(v),y[O]&&y[O].call(t,v)}}var ee=["evt"],te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=u(n,ee);Q.pluginEvent.bind(We)(e,t,l({dragEl:oe,parentEl:re,ghostEl:le,rootEl:ie,nextEl:ae,lastDownEl:ce,cloneEl:se,cloneHidden:ue,dragStarted:ke,putSortable:me,activeSortable:We.active,originalEvent:o,oldIndex:de,oldDraggableIndex:pe,newIndex:fe,newDraggableIndex:he,hideGhostForTarget:Fe,unhideGhostForTarget:Ue,cloneNowHidden:function(){ue=!0},cloneNowShown:function(){ue=!1},dispatchSortableEvent:function(e){ne({sortable:t,name:e,originalEvent:o})}},r))};function ne(e){J(l({putSortable:me,cloneEl:se,targetEl:oe,rootEl:ie,oldIndex:de,oldDraggableIndex:pe,newIndex:fe,newDraggableIndex:he},e))}var oe,re,le,ie,ae,ce,se,ue,de,fe,pe,he,ge,me,be,ve,ye,Oe,je,we,ke,xe,Ne,_e,Ee,Se=!1,Be=!1,Ce=[],Ve=!1,Pe=!1,Me=[],Te=!1,De=[],ze="undefined"!==typeof document,$e=b,Ie=h||p?"cssFloat":"float",Ae=ze&&!v&&!b&&"draggable"in document.createElement("div"),Le=function(){if(ze){if(p)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ye=function(e,t){var n=S(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=T(e,0,t),l=T(e,1,t),i=r&&S(r),a=l&&S(l),c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+P(r).width,s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+P(l).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&i["float"]&&"none"!==i["float"]){var u="left"===i["float"]?"left":"right";return!l||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||c>=o&&"none"===n[Ie]||l&&"none"===n[Ie]&&c+s>o)?"vertical":"horizontal"},Xe=function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,l=n?e.width:e.height,i=n?t.left:t.top,a=n?t.right:t.bottom,c=n?t.width:t.height;return o===i||r===a||o+l/2===i+c/2},Re=function(e,t){var n;return Ce.some((function(o){var r=o[U].options.emptyInsertThreshold;if(r&&!D(o)){var l=P(o),i=e>=l.left-r&&e<=l.right+r,a=t>=l.top-r&&t<=l.bottom+r;return i&&a?n=o:void 0}})),n},He=function(e){function t(e,n){return function(o,r,l,i){var a=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(o,r,l,i),n)(o,r,l,i);var c=(n?o:r).options.group.name;return!0===e||"string"===typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},o=e.group;o&&"object"==i(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Fe=function(){!Le&&le&&S(le,"display","none")},Ue=function(){!Le&&le&&S(le,"display","")};ze&&document.addEventListener("click",(function(e){if(Be)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Be=!1,!1}),!0);var Ze=function(e){if(oe){e=e.touches?e.touches[0]:e;var t=Re(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}},Ge=function(e){oe&&oe.parentNode[U]._isOutsideThisEl(e.target)};function We(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=c({},t),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ye(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==We.supportPointer&&"PointerEvent"in window&&!m,emptyInsertThreshold:5};for(var o in Q.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in He(t),this)"_"===r.charAt(0)&&"function"===typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?O(e,"pointerdown",this._onTapStart):(O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Ce.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),c(this,Z())}function qe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ke(e,t,n,o,r,l,i,a){var c,s,u=e[U],d=u.options.onMove;return!window.CustomEvent||p||h?(c=document.createEvent("Event"),c.initEvent("move",!0,!0)):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=o,c.related=r||t,c.relatedRect=l||P(t),c.willInsertAfter=a,c.originalEvent=i,e.dispatchEvent(c),d&&(s=d.call(u,c,i)),s}function Qe(e){e.draggable=!1}function Je(){Te=!1}function et(e,t,n){var o=P(T(n.el,0,n.options,!0)),r=10;return t?e.clientX<o.left-r||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-r||e.clientY<o.bottom&&e.clientX<o.left}function tt(e,t,n){var o=P(D(n.el,n.options.draggable)),r=10;return t?e.clientX>o.right+r||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+r}function nt(e,t,n,o,r,l,i,a){var c=o?e.clientY:e.clientX,s=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!i)if(a&&_e<s*r){if(!Ve&&(1===Ne?c>u+s*l/2:c<d-s*l/2)&&(Ve=!0),Ve)f=!0;else if(1===Ne?c<u+_e:c>d-_e)return-Ne}else if(c>u+s*(1-r)/2&&c<d-s*(1-r)/2)return ot(t);return f=f||i,f&&(c<u+s*l/2||c>d-s*l/2)?c>u+s/2?1:-1:0}function ot(e){return z(oe)<z(e)?1:-1}function rt(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;while(n--)o+=t.charCodeAt(n);return o.toString(36)}function lt(e){De.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var o=t[n];o.checked&&De.push(o)}}function it(e){return setTimeout(e,0)}function at(e){return clearTimeout(e)}We.prototype={constructor:We,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(xe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,oe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,l=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(i||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,s=o.filter;if(lt(n),!oe&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||o.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!m||!a||"SELECT"!==a.tagName.toUpperCase())&&(a=x(a,o.draggable,n,!1),(!a||!a.animated)&&ce!==a)){if(de=z(a),pe=z(a,o.draggable),"function"===typeof s){if(s.call(this,e,a,this))return ne({sortable:t,rootEl:c,name:"filter",targetEl:a,toEl:n,fromEl:n}),te("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(s&&(s=s.split(",").some((function(o){if(o=x(c,o.trim(),n,!1),o)return ne({sortable:t,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),te("filter",t,{evt:e}),!0})),s))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!x(c,o.handle,n,!1)||this._prepareDragStart(e,i,a)}}},_prepareDragStart:function(e,t,n){var o,r=this,l=r.el,i=r.options,a=l.ownerDocument;if(n&&!oe&&n.parentNode===l){var c=P(n);if(ie=l,oe=n,re=oe.parentNode,ae=oe.nextSibling,ce=n,ge=i.group,We.dragged=oe,be={target:oe,clientX:(t||e).clientX,clientY:(t||e).clientY},je=be.clientX-c.left,we=be.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,oe.style["will-change"]="all",o=function(){te("delayEnded",r,{evt:e}),We.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!g&&r.nativeDraggable&&(oe.draggable=!0),r._triggerDragStart(e,t),ne({sortable:r,name:"choose",originalEvent:e}),E(oe,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){C(oe,e.trim(),Qe)})),O(a,"dragover",Ze),O(a,"mousemove",Ze),O(a,"touchmove",Ze),O(a,"mouseup",r._onDrop),O(a,"touchend",r._onDrop),O(a,"touchcancel",r._onDrop),g&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),te("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(h||p))o();else{if(We.eventCanceled)return void this._onDrop();O(a,"mouseup",r._disableDelayedDrag),O(a,"touchend",r._disableDelayedDrag),O(a,"touchcancel",r._disableDelayedDrag),O(a,"mousemove",r._delayedDragTouchMoveHandler),O(a,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&O(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&Qe(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._disableDelayedDrag),j(e,"touchend",this._disableDelayedDrag),j(e,"touchcancel",this._disableDelayedDrag),j(e,"mousemove",this._delayedDragTouchMoveHandler),j(e,"touchmove",this._delayedDragTouchMoveHandler),j(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):O(document,t?"touchmove":"mousemove",this._onTouchMove):(O(oe,"dragend",this),O(ie,"dragstart",this._onDragStart));try{document.selection?it((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Se=!1,ie&&oe){te("dragStarted",this,{evt:t}),this.nativeDraggable&&O(document,"dragover",Ge);var n=this.options;!e&&E(oe,n.dragClass,!1),E(oe,n.ghostClass,!0),We.active=this,e&&this._appendGhost(),ne({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Fe();var e=document.elementFromPoint(ve.clientX,ve.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY),e===t)break;t=e}if(oe.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){var n=void 0;if(n=t[U]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ue()}},_onTouchMove:function(e){if(be){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,l=le&&B(le,!0),i=le&&l&&l.a,a=le&&l&&l.d,c=$e&&Ee&&$(Ee),s=(r.clientX-be.clientX+o.x)/(i||1)+(c?c[0]-Me[0]:0)/(i||1),u=(r.clientY-be.clientY+o.y)/(a||1)+(c?c[1]-Me[1]:0)/(a||1);if(!We.active&&!Se){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(le){l?(l.e+=s-(ye||0),l.f+=u-(Oe||0)):l={a:1,b:0,c:0,d:1,e:s,f:u};var d="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");S(le,"webkitTransform",d),S(le,"mozTransform",d),S(le,"msTransform",d),S(le,"transform",d),ye=s,Oe=u,ve=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!le){var e=this.options.fallbackOnBody?document.body:ie,t=P(oe,!0,$e,!0,e),n=this.options;if($e){Ee=e;while("static"===S(Ee,"position")&&"none"===S(Ee,"transform")&&Ee!==document)Ee=Ee.parentNode;Ee!==document.body&&Ee!==document.documentElement?(Ee===document&&(Ee=V()),t.top+=Ee.scrollTop,t.left+=Ee.scrollLeft):Ee=V(),Me=$(Ee)}le=oe.cloneNode(!0),E(le,n.ghostClass,!1),E(le,n.fallbackClass,!0),E(le,n.dragClass,!0),S(le,"transition",""),S(le,"transform",""),S(le,"box-sizing","border-box"),S(le,"margin",0),S(le,"top",t.top),S(le,"left",t.left),S(le,"width",t.width),S(le,"height",t.height),S(le,"opacity","0.8"),S(le,"position",$e?"absolute":"fixed"),S(le,"zIndex","100000"),S(le,"pointerEvents","none"),We.ghost=le,e.appendChild(le),S(le,"transform-origin",je/parseInt(le.style.width)*100+"% "+we/parseInt(le.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;te("dragStart",this,{evt:e}),We.eventCanceled?this._onDrop():(te("setupClone",this),We.eventCanceled||(se=F(oe),se.draggable=!1,se.style["will-change"]="",this._hideClone(),E(se,this.options.chosenClass,!1),We.clone=se),n.cloneId=it((function(){te("clone",n),We.eventCanceled||(n.options.removeCloneOnHide||ie.insertBefore(se,oe),n._hideClone(),ne({sortable:n,name:"clone"}))})),!t&&E(oe,r.dragClass,!0),t?(Be=!0,n._loopId=setInterval(n._emulateDragOver,50)):(j(document,"mouseup",n._onDrop),j(document,"touchend",n._onDrop),j(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,oe)),O(document,"drop",n),S(oe,"transform","translateZ(0)")),Se=!0,n._dragStartId=it(n._dragStarted.bind(n,t,e)),O(document,"selectstart",n),ke=!0,m&&S(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,i=this.el,a=e.target,c=this.options,s=c.group,u=We.active,d=ge===s,f=c.sort,p=me||u,h=this,g=!1;if(!Te){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=x(a,c.draggable,i,!0),I("dragOver"),We.eventCanceled)return g;if(oe.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return L(!1);if(Be=!1,u&&!c.disabled&&(d?f||(o=re!==ie):me===this||(this.lastPutMode=ge.checkPull(this,u,oe,e))&&s.checkPut(this,u,oe,e))){if(r="vertical"===this._getDirection(e,a),t=P(oe),I("dragOverValid"),We.eventCanceled)return g;if(o)return re=ie,A(),this._hideClone(),I("revert"),We.eventCanceled||(ae?ie.insertBefore(oe,ae):ie.appendChild(oe)),L(!0);var m=D(i,c.draggable);if(!m||tt(e,r,this)&&!m.animated){if(m===oe)return L(!1);if(m&&i===e.target&&(a=m),a&&(n=P(a)),!1!==Ke(ie,i,oe,t,a,n,e,!!a))return A(),i.appendChild(oe),re=i,Y(),L(!0)}else if(m&&et(e,r,this)){var b=T(i,0,c,!0);if(b===oe)return L(!1);if(a=b,n=P(a),!1!==Ke(ie,i,oe,t,a,n,e,!1))return A(),i.insertBefore(oe,b),re=i,Y(),L(!0)}else if(a.parentNode===i){n=P(a);var v,y,O=0,j=oe.parentNode!==i,w=!Xe(oe.animated&&oe.toRect||t,a.animated&&a.toRect||n,r),k=r?"top":"left",N=M(a,"top","top")||M(oe,"top","top"),_=N?N.scrollTop:void 0;if(xe!==a&&(v=n[k],Ve=!1,Pe=!w&&c.invertSwap||j),O=nt(e,a,n,r,w?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,Pe,xe===a),0!==O){var B=z(oe);do{B-=O,y=re.children[B]}while(y&&("none"===S(y,"display")||y===le))}if(0===O||y===a)return L(!1);xe=a,Ne=O;var C=a.nextElementSibling,V=!1;V=1===O;var $=Ke(ie,i,oe,t,a,n,e,V);if(!1!==$)return 1!==$&&-1!==$||(V=1===$),Te=!0,setTimeout(Je,30),A(),V&&!C?i.appendChild(oe):a.parentNode.insertBefore(oe,V?C:a),N&&H(N,0,_-N.scrollTop),re=oe.parentNode,void 0===v||Pe||(_e=Math.abs(v-P(a)[k])),Y(),L(!0)}if(i.contains(oe))return L(!1)}return!1}function I(c,s){te(c,h,l({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:f,fromSortable:p,target:a,completed:L,onMove:function(n,o){return Ke(ie,i,oe,t,n,P(n),e,o)},changed:Y},s))}function A(){I("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function L(t){return I("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(h),h!==p&&(E(oe,me?me.options.ghostClass:u.options.ghostClass,!1),E(oe,c.ghostClass,!0)),me!==h&&h!==We.active?me=h:h===We.active&&me&&(me=null),p===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){I("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===oe&&!oe.animated||a===i&&!a.animated)&&(xe=null),c.dragoverBubble||e.rootEl||a===document||(oe.parentNode[U]._isOutsideThisEl(e.target),!t&&Ze(e)),!c.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function Y(){fe=z(oe),he=z(oe,c.draggable),ne({sortable:h,name:"change",toEl:i,newIndex:fe,newDraggableIndex:he,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",Ze),j(document,"mousemove",Ze),j(document,"touchmove",Ze)},_offUpEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._onDrop),j(e,"touchend",this._onDrop),j(e,"pointerup",this._onDrop),j(e,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;fe=z(oe),he=z(oe,n.draggable),te("drop",this,{evt:e}),re=oe&&oe.parentNode,fe=z(oe),he=z(oe,n.draggable),We.eventCanceled||(Se=!1,Pe=!1,Ve=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),at(this.cloneId),at(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&S(document.body,"user-select",""),S(oe,"transform",""),e&&(ke&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),le&&le.parentNode&&le.parentNode.removeChild(le),(ie===re||me&&"clone"!==me.lastPutMode)&&se&&se.parentNode&&se.parentNode.removeChild(se),oe&&(this.nativeDraggable&&j(oe,"dragend",this),Qe(oe),oe.style["will-change"]="",ke&&!Se&&E(oe,me?me.options.ghostClass:this.options.ghostClass,!1),E(oe,this.options.chosenClass,!1),ne({sortable:this,name:"unchoose",toEl:re,newIndex:null,newDraggableIndex:null,originalEvent:e}),ie!==re?(fe>=0&&(ne({rootEl:re,name:"add",toEl:re,fromEl:ie,originalEvent:e}),ne({sortable:this,name:"remove",toEl:re,originalEvent:e}),ne({rootEl:re,name:"sort",toEl:re,fromEl:ie,originalEvent:e}),ne({sortable:this,name:"sort",toEl:re,originalEvent:e})),me&&me.save()):fe!==de&&fe>=0&&(ne({sortable:this,name:"update",toEl:re,originalEvent:e}),ne({sortable:this,name:"sort",toEl:re,originalEvent:e})),We.active&&(null!=fe&&-1!==fe||(fe=de,he=pe),ne({sortable:this,name:"end",toEl:re,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){te("nulling",this),ie=oe=re=le=ae=se=ce=ue=be=ve=ke=fe=he=de=pe=xe=Ne=me=ge=We.dragged=We.ghost=We.clone=We.active=null,De.forEach((function(e){e.checked=!0})),De.length=ye=Oe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":oe&&(this._onDragOver(e),qe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,l=this.options;o<r;o++)e=n[o],x(e,l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||rt(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];x(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=Q.modifyOption(this,e,t);n[e]="undefined"!==typeof o?o:t,"group"===e&&He(n)},destroy:function(){te("destroy",this);var e=this.el;e[U]=null,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),j(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ce.splice(Ce.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ue){if(te("hideClone",this),We.eventCanceled)return;S(se,"display","none"),this.options.removeCloneOnHide&&se.parentNode&&se.parentNode.removeChild(se),ue=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ue){if(te("showClone",this),We.eventCanceled)return;oe.parentNode!=ie||this.options.group.revertClone?ae?ie.insertBefore(se,ae):ie.appendChild(se):ie.insertBefore(se,oe),this.options.group.revertClone&&this.animate(oe,se),S(se,"display",""),ue=!1}}else this._hideClone()}},ze&&O(document,"touchmove",(function(e){(We.active||Se)&&e.cancelable&&e.preventDefault()})),We.utils={on:O,off:j,css:S,find:C,is:function(e,t){return!!x(e,t,e,!1)},extend:L,throttle:X,closest:x,toggleClass:E,clone:F,index:z,nextTick:it,cancelNextTick:at,detectDirection:Ye,getChild:T},We.get=function(e){return e[U]},We.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(We.utils=l(l({},We.utils),e.utils)),Q.mount(e)}))},We.create=function(e,t){return new We(e,t)},We.version=d;var ct,st,ut,dt,ft,pt,ht=[],gt=!1;function mt(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):t.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):(j(document,"pointermove",this._handleFallbackAutoScroll),j(document,"touchmove",this._handleFallbackAutoScroll),j(document,"mousemove",this._handleFallbackAutoScroll)),vt(),bt(),R()},nulling:function(){ft=st=ct=gt=pt=ut=dt=null,ht.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(o,r);if(ft=e,t||this.options.forceAutoScrollFallback||h||p||m){yt(e,this.options,l,t);var i=A(l,!0);!gt||pt&&o===ut&&r===dt||(pt&&vt(),pt=setInterval((function(){var l=A(document.elementFromPoint(o,r),!0);l!==i&&(i=l,bt()),yt(e,n.options,l,t)}),10),ut=o,dt=r)}else{if(!this.options.bubbleScroll||A(l,!0)===V())return void bt();yt(e,this.options,A(l,!1),!1)}}},c(e,{pluginName:"scroll",initializeByDefault:!0})}function bt(){ht.forEach((function(e){clearInterval(e.pid)})),ht=[]}function vt(){clearInterval(pt)}var yt=X((function(e,t,n,o){if(t.scroll){var r,l=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,c=t.scrollSpeed,s=V(),u=!1;st!==n&&(st=n,bt(),ct=t.scroll,r=t.scrollFn,!0===ct&&(ct=A(n,!0)));var d=0,f=ct;do{var p=f,h=P(p),g=h.top,m=h.bottom,b=h.left,v=h.right,y=h.width,O=h.height,j=void 0,w=void 0,k=p.scrollWidth,x=p.scrollHeight,N=S(p),_=p.scrollLeft,E=p.scrollTop;p===s?(j=y<k&&("auto"===N.overflowX||"scroll"===N.overflowX||"visible"===N.overflowX),w=O<x&&("auto"===N.overflowY||"scroll"===N.overflowY||"visible"===N.overflowY)):(j=y<k&&("auto"===N.overflowX||"scroll"===N.overflowX),w=O<x&&("auto"===N.overflowY||"scroll"===N.overflowY));var B=j&&(Math.abs(v-l)<=a&&_+y<k)-(Math.abs(b-l)<=a&&!!_),C=w&&(Math.abs(m-i)<=a&&E+O<x)-(Math.abs(g-i)<=a&&!!E);if(!ht[d])for(var M=0;M<=d;M++)ht[M]||(ht[M]={});ht[d].vx==B&&ht[d].vy==C&&ht[d].el===p||(ht[d].el=p,ht[d].vx=B,ht[d].vy=C,clearInterval(ht[d].pid),0==B&&0==C||(u=!0,ht[d].pid=setInterval(function(){o&&0===this.layer&&We.active._onTouchMove(ft);var t=ht[this.layer].vy?ht[this.layer].vy*c:0,n=ht[this.layer].vx?ht[this.layer].vx*c:0;"function"===typeof r&&"continue"!==r.call(We.dragged.parentNode[U],n,t,e,ft,ht[this.layer].el)||H(ht[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==s&&(f=A(f,!1)));gt=u}}),30),Ot=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,l=e.dispatchSortableEvent,i=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var c=n||r;i();var s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(s.clientX,s.clientY);a(),c&&!c.el.contains(u)&&(l("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function jt(){}function wt(){}function kt(){return"undefined"!==typeof window?window.console:e.console}jt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=T(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Ot},c(jt,{pluginName:"revertOnSpill"}),wt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Ot},c(wt,{pluginName:"removeOnSpill"}),We.mount(new mt),We.mount(wt,jt);const xt=kt();function Nt(e){const t=Object.create(null);return function(n){const o=t[n];return o||(t[n]=e(n))}}const _t=/-(\w)/g,Et=Nt(e=>e.replace(_t,(e,t)=>t?t.toUpperCase():""));function St(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Bt(e,t,n){const o=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function Ct(e,t){return Object.values(e).indexOf(t)}function Vt(e,t,n,o){if(!e)return[];const r=Object.values(e),l=t.length-o,i=[...t].map((e,t)=>t>=l?r.length:r.indexOf(e));return i}function Pt(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function Mt(e){return t=>{null!==this.realList&&this["onDrag"+e](t),Pt.call(this,e,t)}}function Tt(e){return["transition-group","TransitionGroup"].includes(e)}function Dt(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&Tt(t.name)}function zt(e,t){return t?{...t.props,...t.attrs}:e}const $t=["Start","Add","Remove","Update","End"],It=["Choose","Unchoose","Sort","Filter","Clone"],At=["Move",...$t,...It].map(e=>"on"+e);let Lt=null;const Yt={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Xt=Object(o["defineComponent"])({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...$t.map(e=>e.toLowerCase()),...It.map(e=>e.toLowerCase())],props:Yt,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=zt(this.$attrs,this.componentData);return e?(this.transitionMode=Dt(e),Object(o["h"])(this.getTag(),t,e)):Object(o["h"])(this.getTag(),t,[])},created(){null!==this.list&&null!==this.modelValue&&xt.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};$t.forEach(t=>{e["on"+t]=Mt.call(this,t)}),It.forEach(t=>{e["on"+t]=Pt.bind(this,t)});const t=Object.keys(this.$attrs).reduce((e,t)=>(e[Et(t)]=this.$attrs[t],e),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const o=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new We(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Object(o["resolveComponent"])(this.component):this.tag},updateOptions(e){for(var t in e){const n=Et(t);-1===At.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Vt(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=Ct(this.getChildrenNodes()||[],e);if(-1===t)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=n=>n.splice(t,0,n.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Lt=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;St(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(Bt(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void St(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){St(e.item),Bt(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),r=this.context,l=this.computeFutureIndex(o,e);Object.assign(r,{futureIndex:l});const i=Object.assign({},e,{relatedContext:o,draggedContext:r});return n(i,t)},onDragEnd(){this.computeIndexes(),Lt=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,r={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,r)}return r},computeFutureIndex(e,t){const n=[...t.to.children].filter(e=>"none"!==e.style["display"]);if(0===n.length)return 0;const o=n.indexOf(t.related),r=e.component.getVmIndex(o),l=-1!==n.indexOf(Lt);return l||!t.willInsertAfter?r:r+1}}})}).call(this,n("c8ba"))},"999f":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"row"},l={class:"col-12"},i={class:"card card-flush pb-0 bgi-position-y-center bgi-no-repeat mb-10",style:{"margin-top":"14px","background-size":"auto calc(100% + 10rem)","background-position-x":"100%","background-image":"url('/metronic8/demo1/assets/media/illustrations/sketchy-1/4.png')"}},a={class:"card-header pt-10",style:{width:"100%"}},c={class:"d-flex align-items-center",style:{width:"100%"}},s=Object(o["createStaticVNode"])('<div class="symbol symbol-circle me-5"><div class="symbol-label bg-transparent text-primary border border-secondary border-dashed"><span class="svg-icon svg-icon-2x svg-icon-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M17.302 11.35L12.002 20.55H21.202C21.802 20.55 22.202 19.85 21.902 19.35L17.302 11.35Z" fill="currentColor"></path><path opacity="0.3" d="M12.002 20.55H2.802C2.202 20.55 1.80202 19.85 2.10202 19.35L6.70203 11.45L12.002 20.55ZM11.302 3.45L6.70203 11.35H17.302L12.702 3.45C12.402 2.85 11.602 2.85 11.302 3.45Z" fill="currentColor"></path></svg></span></div></div>',1),u={key:0,class:"d-flex flex-column",style:{width:"100%"}},d={class:"text-muted fw-bolder",style:{"line-height":"2px"}},f={style:{float:"right"}},p=Object(o["createTextVNode"])(" "),h=Object(o["createElementVNode"])("a",{href:"#"},"Disco Studio",-1),g=Object(o["createElementVNode"])("span",{class:"mx-3"},"|",-1),m=Object(o["createTextVNode"])("Status "),b={class:"mx-3"},v={key:0},y={key:1},O=Object(o["createElementVNode"])("div",{class:"card-body pb-0"},[Object(o["createElementVNode"])("div",{class:"d-flex overflow-auto h-55px"},[Object(o["createElementVNode"])("ul",{class:"nav nav-stretch fs-5 fw-bold nav-line-tabs nav-line-tabs-2x border-transparent",role:"tablist"},[Object(o["createElementVNode"])("li",{class:"nav-item",role:"presentation"},[Object(o["createElementVNode"])("a",{class:"nav-link text-active-primary active","data-bs-toggle":"tab",role:"tab",href:"#kt_scenes_tab_content"}," Scenes ")]),Object(o["createElementVNode"])("li",{class:"nav-item",role:"presentation"},[Object(o["createElementVNode"])("a",{class:"nav-link text-active-primary ms-3","data-bs-toggle":"tab",role:"tab",href:"#kt_process_tab_content"}," Process ")])])])],-1),j={class:"card card-flush"},w={class:"card-body",style:{}},k={id:"kt_scenes_tab_contents",class:"tab-content"},x={id:"kt_scenes_tab_content",class:"py-0 tab-pane fade active show",role:"tabpanel"},N={class:"row"},_={class:"col-6"},E=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Generator Chain",-1),S={key:0,class:"flex"},B={style:{float:"right"}},C=["onClick"],V=Object(o["createElementVNode"])("br",null,null,-1),P={key:1},M=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Preview",-1),T={key:0,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block",width:"100%"}},D=["src"],z={key:1,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block",width:"100%"}},$=["src"],I={key:2,class:"card-generator",style:{margin:"15px 0 0 0",color:"#fff"}},A={class:"col-6"},L={key:0},Y={style:{color:"#fff","line-height":"36px"}},X={style:{float:"right"}},R=Object(o["createTextVNode"])(" Settings "),H={class:"item-generator"},F={id:"kt_process_tab_content",class:"py-0 tab-pane fade show",role:"tabpanel"},U={class:"row"},Z={class:"col-6"},G=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Status",-1),W={style:{color:"#fff"}},q=Object(o["createTextVNode"])(" Currently: "),K={key:0},Q={key:1},J=Object(o["createElementVNode"])("br",null,null,-1),ee=Object(o["createElementVNode"])("h3",{style:{color:"#fff"}},"Output",-1),te=["innerHTML"],ne=Object(o["createElementVNode"])("br",null,null,-1),oe=Object(o["createTextVNode"])(""),re={key:0,class:"col-6"},le=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Output",-1),ie={key:0,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block"}},ae=["src"],ce={key:1,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block"}},se=["src"],ue={key:2,class:"card-generator",style:{margin:"15px 0 0 0",color:"#fff"}},de={key:0},fe={class:"menu-item menu-accordion","data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},pe=Object(o["createElementVNode"])("div",{class:"menu-content pt-8 pb-2"},[Object(o["createElementVNode"])("span",{class:"menu-section text-muted text-uppercase fs-8 ls-1"},"Projects")],-1),he=Object(o["createElementVNode"])("span",{class:"menu-link"},[Object(o["createElementVNode"])("span",{class:"menu-icon"},[Object(o["createElementVNode"])("i",{class:"bi bi-bag-check-fill fs-2x"})]),Object(o["createElementVNode"])("span",{class:"menu-title"},"My Projects")],-1),ge=Object(o["createElementVNode"])("span",{class:"menu-link"},[Object(o["createElementVNode"])("span",{class:"menu-icon"},[Object(o["createElementVNode"])("i",{class:"bi bi-card-list fs-2x"})]),Object(o["createElementVNode"])("span",{class:"menu-title"},"Shared Projects")],-1),me=Object(o["createElementVNode"])("span",{class:"menu-link"},[Object(o["createElementVNode"])("span",{class:"menu-icon"},[Object(o["createElementVNode"])("i",{class:"bi bi-link-45deg fs-2x"})]),Object(o["createElementVNode"])("span",{class:"menu-title"},"Closed Projects")],-1),be={class:"menu-item menu-accordion","data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},ve=Object(o["createElementVNode"])("div",{class:"menu-content pt-8 pb-2"},[Object(o["createElementVNode"])("span",{class:"menu-section text-muted text-uppercase fs-8 ls-1"},"Generators")],-1),ye={style:{float:"right"}},Oe=["onClick"];function je(e,t,n,je,we,ke){var xe=Object(o["resolveComponent"])("draggable"),Ne=Object(o["resolveComponent"])("Vue3LiveForm"),_e=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",c,[s,e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(t){return e.startProject()})},"Run"),p,Object(o["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(t){return e.saveProject()})},"Save")]),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",name:"title",placeholder:"Title...","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.project.title=t}),style:{display:"inline-block",width:"200px",color:"white","margin-right":"15px",background:"transparent",border:"1px solid #555"}},null,512),[[o["vModelText"],e.state.project.title]]),h,g,m,Object(o["createElementVNode"])("span",b,[e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",v,"Running "+Object(o["toDisplayString"])(e.state.progressPercentage),1)):Object(o["createCommentVNode"])("",!0),e.state.busy?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,"Idle"))])])])):Object(o["createCommentVNode"])("",!0)])]),O]),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",N,[Object(o["createElementVNode"])("div",_,[E,null!=e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",S,[Object(o["createVNode"])(xe,{class:"dragArea list-group w-full",list:e.state.project.generators,onChange:e.log},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.project.generators,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"bg-gray-300 m-1 p-3 rounded-md text-center item-generator",key:t.title},[Object(o["createElementVNode"])("h3",null,[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:function(n){return e.selectGenerator(t)}}," Edit ",8,C)]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.title),1)]),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(t.description),1)])})),128))]})),_:1},8,["list","onChange"])])):Object(o["createCommentVNode"])("",!0),V,e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",P,[M,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.project.generators,(function(t){var n;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.title},[2==t.type&&e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[Object(o["createElementVNode"])("img",{style:{width:"100%"},src:e.apiUrl+"/output/progress.png",alt:""},null,8,D)])):Object(o["createCommentVNode"])("",!0),(null===(n=t.output_path)||void 0===n?void 0:n.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",z,[Object(o["createElementVNode"])("img",{style:{width:"100%"},src:e.apiUrl+"/"+t.output_path,alt:""},null,8,$)])):Object(o["createCommentVNode"])("",!0),null==t.output_path?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",I," No preview available. ")):Object(o["createCommentVNode"])("",!0)])})),128))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",A,[null!=e.state.selectedGenerator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",L,[Object(o["createElementVNode"])("h2",Y,[Object(o["createElementVNode"])("div",X,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[3]||(t[3]=function(t){return e.deleteGenerator(e.state.selectedGenerator)})}," Delete ")]),R]),Object(o["createElementVNode"])("div",H,[Object(o["createVNode"])(Ne,{schema:e.state.selectedGenerator.schema,modelValue:e.state.selectedGenerator.settings,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.selectedGenerator.settings=t})},null,8,["schema","modelValue"])])])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",F,[Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("div",Z,[G,Object(o["createElementVNode"])("p",W,[q,e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",K,"Running "+Object(o["toDisplayString"])(e.state.progressPercentage),1)):Object(o["createCommentVNode"])("",!0),e.state.busy?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Q,"Idle"))]),J,ee,Object(o["createElementVNode"])("div",{style:{color:"#fff"},innerHTML:e.state.output},null,8,te),ne,Object(o["createElementVNode"])("p",null,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[5]||(t[5]=function(t){return e.startProject()})}," Run"),oe,Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[6]||(t[6]=function(t){return e.updateStatus()})}," Update ")])]),e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",re,[le,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.project.generators,(function(t){var n;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.title},[2==t.type&&e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ie,[Object(o["createElementVNode"])("img",{src:e.apiUrl+"/output/progress.png",alt:""},null,8,ae)])):Object(o["createCommentVNode"])("",!0),(null===(n=t.output_path)||void 0===n?void 0:n.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ce,[Object(o["createElementVNode"])("img",{src:e.apiUrl+"/"+t.output_path,alt:""},null,8,se)])):Object(o["createCommentVNode"])("",!0),null==t.output_path?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ue," No preview available. ")):Object(o["createCommentVNode"])("",!0)])})),128))])):Object(o["createCommentVNode"])("",!0)])])])]),e.state.mounted?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",de,[(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#aside-context"},[Object(o["createElementVNode"])("div",fe,[pe,Object(o["createVNode"])(_e,{to:"/projects"},{default:Object(o["withCtx"])((function(){return[he]})),_:1}),Object(o["createVNode"])(_e,{to:"/projects"},{default:Object(o["withCtx"])((function(){return[ge]})),_:1}),Object(o["createVNode"])(_e,{to:"/projects"},{default:Object(o["withCtx"])((function(){return[me]})),_:1})]),Object(o["createElementVNode"])("div",be,[ve,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.generators,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"card-generator",key:t.title},[Object(o["createElementVNode"])("h3",null,[Object(o["createElementVNode"])("div",ye,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:function(n){return e.addGenerator(t)}}," Add ",8,Oe)]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.title),1)]),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(t.description),1)])})),128))])]))])):Object(o["createCommentVNode"])("",!0)])])])])}var we=n("7929"),ke={class:"save__controls"},xe=Object(o["defineComponent"])({setup:function(e){var t="example-flow",n=useStorage(t,{nodes:[],edges:[],position:[NaN,NaN],zoom:1}),r=function(){return"randomnode_"+ +new Date},l=Object(we["c"])().setTransform,i=Object(we["b"])(),a=(i.nodes,i.edges,i.addNodes),c=i.setNodes,s=i.setEdges,u=i.instance,d=i.dimensions,f=function(){var e;n.value=null===(e=u.value)||void 0===e?void 0:e.toObject()},p=function(){var e=n.value;if(e){var t=e.position,o=t[0],r=void 0===o?0:o,i=t[1],a=void 0===i?0:i;c(n.value.nodes),s(n.value.edges),l({x:r,y:a,zoom:e.zoom||0})}},h=function(){var e={id:"random_node-"+r(),label:"Added node",position:{x:Math.random()*d.value.width,y:Math.random()*d.value.height}};a([e])};return function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ke,[Object(o["createElementVNode"])("button",{onClick:f},"save"),Object(o["createElementVNode"])("button",{onClick:p},"restore"),Object(o["createElementVNode"])("button",{onClick:h},"add node")])}}});const Ne=xe;var _e=Ne,Ee=Object(o["defineComponent"])({setup:function(e){var t=[{id:"1",label:"Node 1",position:{x:100,y:100}},{id:"2",label:"Node 2",position:{x:100,y:200}},{id:"e1-2",source:"1",target:"2"}],n=Object(o["ref"])(t);return function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(we["a"]),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_e)]})),_:1},8,["modelValue"])}}});const Se=Ee;var Be=Se,Ce=n("a1e9"),Ve=n("5c40"),Pe=["readonly","type"],Me=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=function(){n("change")};return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("input",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),class:Object(o["normalizeClass"])({readonly:e.config.readonly}),readonly:e.config.readonly,type:e.config.type,onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(r)&&Object(o["unref"])(r).apply(void 0,e)})},null,42,Pe)),[[o["vModelDynamic"],e.modelValue[e.config.field]]])}}}),Te=(n("32e4"),n("6b0d")),De=n.n(Te);const ze=De()(Me,[["__scopeId","data-v-4077e6ea"]]);var $e=ze,Ie=["readonly"],Ae=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=function(){n("change")};return function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("label",null,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),readonly:e.config.readonly,type:"checkbox",onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(r)&&Object(o["unref"])(r).apply(void 0,e)})},null,40,Ie),[[o["vModelCheckbox"],e.modelValue[e.config.field]]])])}}});n("c2ea");const Le=De()(Ae,[["__scopeId","data-v-18ea1cd1"]]);var Ye=Le,Xe=["readonly","type"],Re=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=function(){n("change")};return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("textarea",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),readonly:e.config.readonly,type:"password"===e.config.type?"password":"text",onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(r)&&Object(o["unref"])(r).apply(void 0,e)})},null,40,Xe)),[[o["vModelText"],e.modelValue[e.config.field]]])}}});const He=Re;var Fe=He,Ue=["value","id"],Ze=["value","id"],Ge=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=function(){n("change")};return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("select",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(r)&&Object(o["unref"])(r).apply(void 0,e)})},["string"===typeof e.config.options?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(e.modelValue[e.config.options],(function(t,n){var r;return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:"option-"+n,value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+n},Object(o["toDisplayString"])(null!==(r=t[e.config.optionLabel])&&void 0!==r?r:t),9,Ue)})),128)):Object(o["createCommentVNode"])("",!0),"string"!==typeof e.config.options&&e.config.options.length>0?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:1},Object(o["renderList"])(e.config.options,(function(t,n){var r;return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:"option-"+n,value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+n},Object(o["toDisplayString"])(null!==(r=t[e.config.optionLabel])&&void 0!==r?r:t),9,Ze)})),128)):Object(o["createCommentVNode"])("",!0)],544)),[[o["vModelSelect"],e.modelValue[e.config.field]]])}}});const We=Ge;var qe=We,Ke=["value","id"],Qe=["for"],Je=["value","id"],et=["for"],tt=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=function(){n("change")};return function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,["string"===typeof e.config.options?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(e.modelValue[e.config.options],(function(t,l){var i;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:"option-"+l,class:"sf-radio-item"},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+l+"-"+e.config.optionValue+"-"+e.config.optionLabel,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),type:"radio",onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(r)&&Object(o["unref"])(r).apply(void 0,e)})},null,40,Ke),[[o["vModelRadio"],e.modelValue[e.config.field]]]),Object(o["createElementVNode"])("label",{for:"option-"+l+"-"+e.config.optionValue+"-"+e.config.optionLabel},Object(o["toDisplayString"])(null!==(i=t[e.config.optionLabel])&&void 0!==i?i:t),9,Qe)])})),128)):Object(o["createCommentVNode"])("",!0),"string"!==typeof e.config.options&&e.config.options.length>0?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:1},Object(o["renderList"])(e.config.options,(function(t,l){var i;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:"option-"+l,class:"sf-radio-item"},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+l+"-"+e.config.optionValue+"-"+e.config.optionLabel,"onUpdate:modelValue":n[2]||(n[2]=function(t){return e.modelValue[e.config.field]=t}),type:"radio",onChange:n[3]||(n[3]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(r)&&Object(o["unref"])(r).apply(void 0,e)})},null,40,Je),[[o["vModelRadio"],e.modelValue[e.config.field]]]),Object(o["createElementVNode"])("label",{for:"option-"+l+"-"+e.config.optionValue+"-"+e.config.optionLabel},Object(o["toDisplayString"])(null!==(i=t[e.config.optionLabel])&&void 0!==i?i:t),9,et)])})),128)):Object(o["createCommentVNode"])("",!0)],64)}}});n("10b3");const nt=De()(tt,[["__scopeId","data-v-a987d8c8"]]);var ot=nt,rt=function(e,t){var n=e.criteria;if(n){var o=n[0],r=n[1],l=n[2],i=!1;switch(r){case"!=":i=t[o]!==l;break;case"==":i=t[o]===l;break}return i}return!0},lt=rt,it={class:"sf-nested-rows"},at=["onClick"],ct=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=e,l=function(){n("change")},i=Object(Ce["s"])(!1);Object(Ve["ob"])((function(){i.value=!0}));var a=JSON.parse(JSON.stringify(r.config.columns)),c=Object(Ce["s"])(r.modelValue[r.config.field]),s=function(){var e={};for(var t in a)e[a[t]["field"]]="nested"===a[t]["type"]?[]:null;c.value.push(e),n("change")},u=function(e){c.value.splice(e,1),n("change")};return function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",it,[Object(o["createElementVNode"])("table",null,[Object(o["createElementVNode"])("tr",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.config.columns,(function(e,t){var n;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{class:"sf-nested-column",key:"column-label-"+t},Object(o["toDisplayString"])(null!==(n=e.label)&&void 0!==n?n:e.field),1)})),128))]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.modelValue[e.config.field],(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:"row-"+n,class:"sf-nested-row"},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.config.columns,(function(e,t){var r;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:"column-"+t,class:"sf-nested-column"},[Object(o["unref"])(lt)(e,Object(o["unref"])(c)[n])?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(Object(o["unref"])(dt)(e.type)),{key:0,modelValue:Object(o["unref"])(c)[n],"onUpdate:modelValue":function(e){return Object(o["unref"])(c)[n]=e},config:e,readonly:null!==(r=e.readonly)&&void 0!==r&&r,onChange:Object(o["unref"])(l)},null,8,["modelValue","onUpdate:modelValue","config","readonly","onChange"])):Object(o["createCommentVNode"])("",!0)])})),128)),Object(o["createElementVNode"])("td",{class:"sf-nested-delete",onClick:function(e){return Object(o["unref"])(u)(n)},tabindex:"0"},null,8,at)])})),128))]),Object(o["createElementVNode"])("button",{class:"sf-nested-row add-row",tabindex:"0",onClick:n[0]||(n[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(s)&&Object(o["unref"])(s).apply(void 0,e)})},"Add Entry")])}}});n("1ea6"),n("784b");const st=De()(ct,[["__scopeId","data-v-6a4fd6b4"]]);var ut=st,dt=function(e){switch(e){case"text":return $e;case"date":return $e;case"number":return $e;case"password":return $e;case"checkbox":return Ye;case"boolean":return Ye;case"textarea":return Fe;case"textbox":return Fe;case"select":return qe;case"radio":return ot;case"nested":return ut}},ft={class:"sf-container"},pt={class:"sf-row-label"},ht={class:"sf-row-input"},gt=Object(o["defineComponent"])({props:{schema:{type:Object,required:!1},modelValue:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,r=e;Object(o["useCssVars"])((function(e){var t,n;return{"4547aaaa":null!==(n=null===(t=null===r||void 0===r?void 0:r.schema)||void 0===t?void 0:t.labelWidth)&&void 0!==n?n:"150px"}}));var l=Object(Ce["s"])(!1),i=function(){n("change")};return Object(Ve["ob"])((function(){l.value=!0})),function(t,n){var l;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ft,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===(l=r.schema)||void 0===l?void 0:l.rows,(function(t,r){var l,a;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["sf-row",{"sf-row-flex-column":"nested"===t.type}]),key:t+"-"+String(r)},[Object(o["unref"])(lt)(t,e.modelValue)?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("div",pt,Object(o["toDisplayString"])(null!==(l=t.label)&&void 0!==l?l:t.field),1),Object(o["createElementVNode"])("div",ht,[e.modelValue?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(Object(o["unref"])(dt)(t.type)),{key:0,modelValue:e.modelValue,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(o["isRef"])(modelValue)?modelValue.value=e:null}),config:t,readonly:null!==(a=t.readonly)&&void 0!==a&&a,onChange:Object(o["unref"])(i)},null,8,["modelValue","config","readonly","onChange"])):Object(o["createCommentVNode"])("",!0)])],64)):Object(o["createCommentVNode"])("",!0)],2)})),128))])}}});n("daae");const mt=gt;var bt=mt,vt={class:"row"},yt={class:"col-4 mb-4 mt-4"},Ot=Object(o["createElementVNode"])("label",{class:"form-label fw-bold"},"Status:",-1),jt=Object(o["createTextVNode"])("Approved"),wt=Object(o["createTextVNode"])("Pending"),kt=Object(o["createTextVNode"])("In Process"),xt=Object(o["createTextVNode"])("Rejected"),Nt={class:"col-4 mb-4 mt-4"},_t=Object(o["createElementVNode"])("label",{class:"form-label fw-bold"},"Member Type:",-1),Et={class:"d-flex"},St={class:"form-check form-check-sm form-check-custom form-check-solid me-5"},Bt=Object(o["createElementVNode"])("span",{class:"form-check-label"},"Author",-1),Ct={class:"form-check form-check-sm form-check-custom form-check-solid"},Vt=Object(o["createElementVNode"])("span",{class:"form-check-label"},"Customer",-1),Pt={class:"col-4 mb-4 mt-4"},Mt=Object(o["createElementVNode"])("label",{class:"form-label fw-bold"},"Notifications:",-1),Tt={class:"form-check form-switch form-switch-sm form-check-custom form-check-solid"},Dt=Object(o["createElementVNode"])("label",{class:"form-check-label"},"Enabled",-1),zt=Object(o["createElementVNode"])("div",{class:"d-flex justify-content-end"},[Object(o["createElementVNode"])("button",{type:"reset",class:"btn btn-sm btn-white btn-active-light-primary me-2","data-kt-menu-dismiss":"true"},"Reset"),Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-sm btn-primary","data-kt-menu-dismiss":"true"},"Apply")],-1);function $t(e,t,n,r,l,i){var a=Object(o["resolveComponent"])("el-option"),c=Object(o["resolveComponent"])("el-select"),s=Object(o["resolveComponent"])("el-checkbox");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vt,[Object(o["createElementVNode"])("div",yt,[Ot,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(c,{class:"form-select-solid",placeholder:"Select option",modelValue:e.data.status,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.status=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{label:"Approved",value:"1"},{default:Object(o["withCtx"])((function(){return[jt]})),_:1}),Object(o["createVNode"])(a,{label:"Pending",value:"2"},{default:Object(o["withCtx"])((function(){return[wt]})),_:1}),Object(o["createVNode"])(a,{label:"In Process",value:"3"},{default:Object(o["withCtx"])((function(){return[kt]})),_:1}),Object(o["createVNode"])(a,{label:"Rejected",value:"4"},{default:Object(o["withCtx"])((function(){return[xt]})),_:1})]})),_:1},8,["modelValue"])])]),Object(o["createElementVNode"])("div",Nt,[_t,Object(o["createElementVNode"])("div",Et,[Object(o["createElementVNode"])("label",St,[Object(o["createVNode"])(s,{type:"checkbox",value:"1",modelValue:e.data.author,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.author=t})},null,8,["modelValue"]),Bt]),Object(o["createElementVNode"])("label",Ct,[Object(o["createVNode"])(s,{type:"checkbox",value:"2",modelValue:e.data.customer,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.customer=t})},null,8,["modelValue"]),Vt])])]),Object(o["createElementVNode"])("div",Pt,[Mt,Object(o["createElementVNode"])("div",Tt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",name:"notifications","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.notifications=t})},null,512),[[o["vModelCheckbox"],e.data.notifications]]),Dt])]),zt])}var It=Object(o["defineComponent"])({name:"filter-timeline",components:{},setup:function(){var e=Object(o["ref"])({status:"1",author:!0,customer:!0,notifications:!0});return{data:e}}});const At=De()(It,[["render",$t]]);var Lt=At,Yt={class:"menu-item menu-accordion","data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},Xt=Object(o["createStaticVNode"])('<div class="menu-content pt-8 pb-2"><span class="menu-section text-muted text-uppercase fs-8 ls-1">Projects</span></div><span class="menu-link"><span class="menu-icon"><i class="bi bi-bag-check-fill fs-2x"></i></span><span class="menu-title">My Projects</span></span><span class="menu-link"><span class="menu-icon"><i class="bi bi-card-list fs-2x"></i></span><span class="menu-title">Shared Projects</span></span><span class="menu-link"><span class="menu-icon"><i class="bi bi-link-45deg fs-2x"></i></span><span class="menu-title">Closed Projects</span></span>',4),Rt=[Xt];function Ht(e,t,n,r,l,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Yt,Rt)}var Ft=Object(o["defineComponent"])({name:"aside_default_menu",components:{},props:{widgetClasses:String},setup:function(){var e=[];return{items:e}}});const Ut=De()(Ft,[["render",Ht]]);var Zt=Ut,Gt=n("16d6"),Wt=n("6c02"),qt=n("7d42"),Kt=Object(o["defineComponent"])({name:"studio",components:{FilterTimeline:Lt,AsideDefaultMenu:Zt,Vue3LiveForm:bt,draggable:qt["a"],Flow:Be},setup:function(){var e=null,t="http://localhost:5000",n=[{type:1,title:"Glid-3-ML",description:"Latent diffusion model",folder:"latent_diffusion"},{type:2,title:"Disco Diffusion",description:"Disco diffusion network",folder:"disco_diffusion"}],r=Object(o["reactive"])({count:0,mounted:!1,project:null,list:[],generators:n,selectedGenerator:null,busy:!1,output:"",progress:0,progressPercentage:"",autoUpdate:!0});return{state:r,timer:e,enabled:!0,dragging:!1,apiUrl:t}},mounted:function(){console.log(location.host),location.host.indexOf("localhost")>-1?this.apiUrl="http://localhost:5000":this.apiUrl="",this.state.mounted=!0;var e=Object(Wt["c"])();this.state.autoUpdate&&(this.timer=setInterval(this.updateStatus,5e3)),this.getProject(e.params.id)},beforeDestroy:function(){this.cancelAutoUpdate()},methods:{deleteGenerator:function(e){this.state.selectedGenerator=null,this.state.project.generators=this.state.project.generators.filter((function(t){return t.id!=e.id})),console.log(this.state.selectedGenerator)},selectGenerator:function(e){this.state.selectedGenerator=e,console.log(this.state.selectedGenerator)},addGenerator:function(e){n("3e8f");var t=Object.assign({},e);t.id=this.state.project.generators.length,fetch("/generators/"+t.folder+"/schema.json").then((function(e){return e.json()})).then((function(e){t.schema=e})),fetch("/generators/"+t.folder+"/defaults.json").then((function(e){return e.json()})).then((function(e){t.settings=e})),this.state.project.generators.push(t)},log:function(e){console.log(e),this.array_move(this.state.list,e.oldIndex,e.newIndex),console.log(this.state.list)},array_move:function(e,t,n){if(n>=e.length){var o=n-e.length+1;while(o--)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e},updateStatus:function(){var e=this;Gt["a"].post(this.apiUrl+"/api/task/update",{}).then((function(t){var n=t.data;console.log(n),e.state.output=n["output"],e.state.progress=n["progress"],e.state.busy=n["busy"],e.state.progressPercentage=Math.round(100*e.state.progress)+"%"})).catch((function(e){e.response}))},cancelAutoUpdate:function(){clearInterval(this.timer)},startProject:function(){var e=this;Gt["a"].post(this.apiUrl+"/api/project/save/"+this.state.project.id.toString(),this.state.project).then((function(t){t.data;Gt["a"].post(e.apiUrl+"/api/task/start/"+e.state.project.id.toString(),{}).then((function(t){var n=t.data;console.log(n),e.getProject(e.state.project.id)})).catch((function(e){e.response}))})).catch((function(e){e.response}))},getProject:function(e){var t=this;Gt["a"].post(this.apiUrl+"/api/project/"+e.toString(),{}).then((function(e){var n=e.data;t.state.project=n,console.log(n)})).catch((function(e){e.response}))},saveProject:function(){console.log(this.apiUrl),Gt["a"].post(this.apiUrl+"/api/project/save/"+this.state.project.id.toString(),this.state.project).then((function(e){e.data;console.log("saved")})).catch((function(e){e.response}))},deleteProject:function(e){console.log("delete"),Gt["a"].delete(this.apiUrl+"/api/project/"+e.toString()).then((function(e){e.data})).catch((function(e){e.response}))}}});const Qt=De()(Kt,[["render",je]]);t["default"]=Qt},"9e48":function(e,t,n){},b9a3:function(e,t,n){},c2ea:function(e,t,n){"use strict";n("b9a3")},ca93:function(e,t,n){},daae:function(e,t,n){"use strict";n("0d74")}}]);
//# sourceMappingURL=chunk-7bc90552.9762c6fa.js.map