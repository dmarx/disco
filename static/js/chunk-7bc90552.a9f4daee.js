(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bc90552"],{"0d74":function(e,t,n){},"10b3":function(e,t,n){"use strict";n("9e48")},"1ea6":function(e,t,n){"use strict";n("ca93")},"32e4":function(e,t,n){"use strict";n("4f03")},"3e8f":function(e,t){},4741:function(e,t,n){},"4f03":function(e,t,n){},"784b":function(e,t,n){"use strict";n("4741")},7929:function(e,t,n){"use strict";(function(e,o){n.d(t,"a",(function(){return Lu})),n.d(t,"b",(function(){return Jc})),n.d(t,"c",(function(){return su}));var i=n("7a23"),r=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&d(e,n,t[n]);if(s)for(var n of s(t))u.call(t,n)&&d(e,n,t[n]);return e},p=(e,t)=>a(e,l(t)),f=(e,t)=>{var n={};for(var o in e)c.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&s)for(var o of s(e))t.indexOf(o)<0&&u.call(e,o)&&(n[o]=e[o]);return n};function g(e,t){let n,o,r;const a=Object(i["ref"])(!0);return Object(i["watch"])(e,()=>{a.value=!0,r()},{flush:"sync"}),Object(i["customRef"])((e,i)=>(o=e,r=i,{get(){return a.value&&(n=t(),a.value=!1),o(),n},set(){}}))}function m(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach(e=>e(t))}}}function b(e){return!!Object(i["getCurrentScope"])()&&(Object(i["onScopeDispose"])(e),!0)}function v(e,t,{enumerable:n=!1,unwrap:o=!0}={}){for(const[r,a]of Object.entries(t))"value"!==r&&(Object(i["isRef"])(a)&&o?Object.defineProperty(e,r,{get(){return a.value},set(e){a.value=e},enumerable:n}):Object.defineProperty(e,r,{value:a,enumerable:n}));return e}const y="undefined"!=typeof window,w=e=>"string"==typeof e,O=()=>{};function j(e,t){function n(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return n}const x=e=>e();function k(e,t={}){let n,o;return r=>{const a=Object(i["unref"])(e),l=Object(i["unref"])(t.maxWait);if(n&&clearTimeout(n),a<=0||void 0!==l&&l<=0)return o&&(clearTimeout(o),o=null),r();l&&!o&&(o=setTimeout(()=>{n&&clearTimeout(n),o=null,r()},l)),n=setTimeout(()=>{o&&clearTimeout(o),o=null,r()},a)}}function _(e=x){const t=Object(i["ref"])(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:t,pause:n,resume:o,eventFilter:(...n)=>{t.value&&e(...n)}}}function E(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function S(e,t={}){let n,o,r=e;const a=Object(i["customRef"])((e,t)=>(n=e,o=t,{get(){return l()},set(e){s(e)}}));function l(e=!0){return e&&n(),r}function s(e,n=!0){var i,a;if(e===r)return;const l=r;!1!==(null==(i=t.onBeforeChange)?void 0:i.call(t,e,l))&&(r=e,null==(a=t.onChanged)||a.call(t,e,l),n&&o())}return v(a,{get:l,set:s,untrackedGet:()=>l(!1),silentSet:e=>s(e,!1),peek:()=>l(!1),lay:e=>s(e,!1)},{enumerable:!0})}const N=S;function C(e,t=!0){Object(i["getCurrentInstance"])()?Object(i["onMounted"])(e):t?e():Object(i["nextTick"])(e)}function B(e){let t=!1;function n(n,{flush:o="sync",deep:r=!1,timeout:a,throwOnTimeout:l}={}){let s=null;const c=[new Promise(a=>{s=Object(i["watch"])(e,e=>{n(e)===!t&&(null==s||s(),a())},{flush:o,deep:r,immediate:!0})})];return a&&c.push(E(a,l).finally(()=>{null==s||s()})),Promise.race(c)}function o(e,t){return n(t=>t===Object(i["unref"])(e),t)}function r(e){return n(e=>Boolean(e),e)}function a(e){return o(null,e)}function l(e){return o(void 0,e)}function s(e){return n(Number.isNaN,e)}function c(e,t){return n(t=>{const n=Array.from(t);return n.includes(e)||n.includes(Object(i["unref"])(e))},t)}function u(e){return d(1,e)}function d(e=1,t){let o=-1;return n(()=>(o+=1,o>=e),t)}return Array.isArray(Object(i["unref"])(e))?{toMatch:n,toContains:c,changed:u,changedTimes:d,get not(){return t=!t,this}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:a,toBeNaN:s,toBeUndefined:l,changed:u,changedTimes:d,get not(){return t=!t,this}}}var P=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,V=(e,t)=>{var n={};for(var o in e)A.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&P)for(var o of P(e))t.indexOf(o)<0&&M.call(e,o)&&(n[o]=e[o]);return n};function D(e,t,n={}){const o=n,{eventFilter:r=x}=o,a=V(o,["eventFilter"]);return Object(i["watch"])(e,j(r,t),a)}var $=Object.defineProperty,T=Object.defineProperties,z=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&X(e,n,t[n]);if(I)for(var n of I(t))Y.call(t,n)&&X(e,n,t[n]);return e},H=(e,t)=>T(e,z(t)),R=(e,t)=>{var n={};for(var o in e)L.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&I)for(var o of I(e))t.indexOf(o)<0&&Y.call(e,o)&&(n[o]=e[o]);return n};function Z(e,t,n={}){const o=n,{debounce:i=0}=o,r=R(o,["debounce"]);return D(e,t,H(F({},r),{eventFilter:k(i)}))}var U=Object.defineProperty,G=Object.defineProperties,W=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,J=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t)=>{for(var n in t||(t={}))q.call(t,n)&&J(e,n,t[n]);if(Q)for(var n of Q(t))K.call(t,n)&&J(e,n,t[n]);return e},te=(e,t)=>G(e,W(t)),ne=(e,t)=>{var n={};for(var o in e)q.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&Q)for(var o of Q(e))t.indexOf(o)<0&&K.call(e,o)&&(n[o]=e[o]);return n};function oe(e,t,n={}){const o=n,{eventFilter:i}=o,r=ne(o,["eventFilter"]),{eventFilter:a,pause:l,resume:s,isActive:c}=_(i);return{stop:D(e,t,te(ee({},r),{eventFilter:a})),pause:l,resume:s,isActive:c}}function ie(e){var t;const n=Object(i["unref"])(e);return null!=(t=null==n?void 0:n.$el)?t:n}const re=y?window:void 0;function ae(...e){let t,n,o,r;if(w(e[0])?([n,o,r]=e,t=re):[t,n,o,r]=e,!t)return O;let a=O;const l=Object(i["watch"])(()=>ie(t),e=>{a(),e&&(e.addEventListener(n,o,r),a=()=>{e.removeEventListener(n,o,r),a=O})},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return b(s),s}var le=Object.defineProperty,se=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||(t={}))de.call(t,n)&&pe(e,n,t[n]);if(ue)for(var n of ue(t))he.call(t,n)&&pe(e,n,t[n]);return e},ge=(e,t)=>se(e,ce(t));const me=e=>"function"==typeof e?e:"string"==typeof e?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function be(e,t,n={}){const{target:o=re,eventName:i="keydown",passive:r=!1}=n,a=me(e);return ae(o,i,e=>{a(e)&&t(e)},r)}function ve(e,t,n={}){return be(e,t,ge(fe({},n),{eventName:"keydown"}))}function ye(e,t,n={}){return be(e,t,ge(fe({},n),{eventName:"keypress"}))}function we(e,t,n={}){return be(e,t,ge(fe({},n),{eventName:"keyup"}))}function Oe(e,t=null){const n=Object(i["getCurrentInstance"])();let o=()=>{};const r=Object(i["customRef"])((i,r)=>(o=r,{get(){var o,r;return i(),null!=(r=null==(o=null==n?void 0:n.proxy)?void 0:o.$refs[e])?r:t},set(){}}));return C(o),Object(i["onUpdated"])(o),r}const je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},xe="__vueuse_ssr_handlers__";je[xe]=je[xe]||{},je[xe];var ke,_e,Ee=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,Ce=(e,t)=>{var n={};for(var o in e)Se.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&Ee)for(var o of Ee(e))t.indexOf(o)<0&&Ne.call(e,o)&&(n[o]=e[o]);return n};function Be(e,t,n={}){const o=n,{window:r=re}=o,a=Ce(o,["window"]);let l;const s=r&&"ResizeObserver"in r,c=()=>{l&&(l.disconnect(),l=void 0)},u=Object(i["watch"])(()=>ie(e),e=>{c(),s&&r&&e&&(l=new ResizeObserver(t),l.observe(e,a))},{immediate:!0,flush:"post"}),d=()=>{c(),u()};return b(d),{isSupported:s,stop:d}}function Pe(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:r=!0}=t,a=Object(i["ref"])(0),l=Object(i["ref"])(0),s=Object(i["ref"])(0),c=Object(i["ref"])(0),u=Object(i["ref"])(0),d=Object(i["ref"])(0),h=Object(i["ref"])(0),p=Object(i["ref"])(0);function f(){const t=ie(e);if(!t)return void(n&&(a.value=0,l.value=0,s.value=0,c.value=0,u.value=0,d.value=0,h.value=0,p.value=0));const o=t.getBoundingClientRect();a.value=o.height,l.value=o.bottom,s.value=o.left,c.value=o.right,u.value=o.top,d.value=o.width,h.value=o.x,p.value=o.y}return Be(e,f),Object(i["watch"])(()=>ie(e),e=>!e&&f()),r&&ae("scroll",f,{passive:!0}),o&&ae("resize",f,{passive:!0}),{height:a,bottom:l,left:s,right:c,top:u,width:d,x:h,y:p,update:f}}function Ae(e,t,n,o={}){var r;const{passive:a=!1,eventName:l,deep:s=!1}=o,c=Object(i["getCurrentInstance"])(),u=n||(null==c?void 0:c.emit)||(null==(r=null==c?void 0:c.$emit)?void 0:r.bind(c));let d=l;if(t||(t="modelValue"),d=l||d||"update:"+t,a){const n=Object(i["ref"])(e[t]);return Object(i["watch"])(()=>e[t],e=>n.value=e),Object(i["watch"])(n,n=>{(n!==e[t]||s)&&u(d,n)},{deep:s}),n}return Object(i["computed"])({get(){return e[t]},set(e){u(d,e)}})}function Me(e,t,n={}){const o={};for(const i in e)o[i]=Ae(e,i,t,n);return o}y&&(null==window?void 0:window.navigator)&&(null==(ke=null==window?void 0:window.navigator)?void 0:ke.platform)&&/iP(ad|hone|od)/.test(null==(_e=null==window?void 0:window.navigator)?void 0:_e.platform);var Ve={value:()=>{}};function De(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new $e(o)}function $e(e){this._=e}function Te(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",o=e.indexOf(".");if(o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function ze(e,t){for(var n,o=0,i=e.length;o<i;++o)if((n=e[o]).name===t)return n.value}function Ie(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Ve,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}$e.prototype=De.prototype={constructor:$e,on:function(e,t){var n,o=this._,i=Te(e+"",o),r=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<a;)if(n=(e=i[r]).type)o[n]=Ie(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Ie(o[n],e.name,null);return this}for(;++r<a;)if((n=(e=i[r]).type)&&(n=ze(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $e(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,n=o.length;r<n;++r)o[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};var Le="http://www.w3.org/1999/xhtml",Ye={svg:"http://www.w3.org/2000/svg",xhtml:Le,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xe(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ye.hasOwnProperty(t)?{space:Ye[t],local:e}:e}function Fe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Le&&t.documentElement.namespaceURI===Le?t.createElement(e):t.createElementNS(n,e)}}function He(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Re(e){var t=Xe(e);return(t.local?He:Fe)(t)}function Ze(){}function Ue(e){return null==e?Ze:function(){return this.querySelector(e)}}function Ge(e){"function"!=typeof e&&(e=Ue(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a,l=t[i],s=l.length,c=o[i]=new Array(s),u=0;u<s;++u)(r=l[u])&&(a=e.call(r,r.__data__,u,l))&&("__data__"in r&&(a.__data__=r.__data__),c[u]=a);return new Tn(o,this._parents)}function We(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function Qe(){return[]}function qe(e){return null==e?Qe:function(){return this.querySelectorAll(e)}}function Ke(e){return function(){return We(e.apply(this,arguments))}}function Je(e){e="function"==typeof e?Ke(e):qe(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a,l=t[r],s=l.length,c=0;c<s;++c)(a=l[c])&&(o.push(e.call(a,a.__data__,c,l)),i.push(a));return new Tn(o,i)}function et(e){return function(){return this.matches(e)}}function tt(e){return function(t){return t.matches(e)}}var nt=Array.prototype.find;function ot(e){return function(){return nt.call(this.children,e)}}function it(){return this.firstElementChild}function rt(e){return this.select(null==e?it:ot("function"==typeof e?e:tt(e)))}var at=Array.prototype.filter;function lt(){return Array.from(this.children)}function st(e){return function(){return at.call(this.children,e)}}function ct(e){return this.selectAll(null==e?lt:st("function"==typeof e?e:tt(e)))}function ut(e){"function"!=typeof e&&(e=et(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],l=a.length,s=o[i]=[],c=0;c<l;++c)(r=a[c])&&e.call(r,r.__data__,c,a)&&s.push(r);return new Tn(o,this._parents)}function dt(e){return new Array(e.length)}function ht(){return new Tn(this._enter||this._groups.map(dt),this._parents)}function pt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ft(e){return function(){return e}}function gt(e,t,n,o,i,r){for(var a,l=0,s=t.length,c=r.length;l<c;++l)(a=t[l])?(a.__data__=r[l],o[l]=a):n[l]=new pt(e,r[l]);for(;l<s;++l)(a=t[l])&&(i[l]=a)}function mt(e,t,n,o,i,r,a){var l,s,c,u=new Map,d=t.length,h=r.length,p=new Array(d);for(l=0;l<d;++l)(s=t[l])&&(p[l]=c=a.call(s,s.__data__,l,t)+"",u.has(c)?i[l]=s:u.set(c,s));for(l=0;l<h;++l)c=a.call(e,r[l],l,r)+"",(s=u.get(c))?(o[l]=s,s.__data__=r[l],u.delete(c)):n[l]=new pt(e,r[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(p[l])===s&&(i[l]=s)}function bt(e){return e.__data__}function vt(e,t){if(!arguments.length)return Array.from(this,bt);var n=t?mt:gt,o=this._parents,i=this._groups;"function"!=typeof e&&(e=ft(e));for(var r=i.length,a=new Array(r),l=new Array(r),s=new Array(r),c=0;c<r;++c){var u=o[c],d=i[c],h=d.length,p=yt(e.call(u,u&&u.__data__,c,o)),f=p.length,g=l[c]=new Array(f),m=a[c]=new Array(f),b=s[c]=new Array(h);n(u,d,g,m,b,p,t);for(var v,y,w=0,O=0;w<f;++w)if(v=g[w]){for(w>=O&&(O=w+1);!(y=m[O])&&++O<f;);v._next=y||null}}return a=new Tn(a,o),a._enter=l,a._exit=s,a}function yt(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function wt(){return new Tn(this._exit||this._groups.map(dt),this._parents)}function Ot(e,t,n){var o=this.enter(),i=this,r=this.exit();return"function"==typeof e?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),null!=t&&(i=t(i),i&&(i=i.selection())),null==n?r.remove():n(r),o&&i?o.merge(i).order():i}function jt(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var c,u=n[s],d=o[s],h=u.length,p=l[s]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;s<i;++s)l[s]=n[s];return new Tn(l,this._parents)}function xt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,i=e[t],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this}function kt(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=_t);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,l=n[r],s=l.length,c=i[r]=new Array(s),u=0;u<s;++u)(a=l[u])&&(c[u]=a);c.sort(t)}return new Tn(i,this._parents).order()}function _t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Et(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function St(){return Array.from(this)}function Nt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function Ct(){let e=0;for(const t of this)++e;return e}function Bt(){return!this.node()}function Pt(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i,r=t[n],a=0,l=r.length;a<l;++a)(i=r[a])&&e.call(i,i.__data__,a,r);return this}function At(e){return function(){this.removeAttribute(e)}}function Mt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vt(e,t){return function(){this.setAttribute(e,t)}}function Dt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $t(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Tt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zt(e,t){var n=Xe(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Mt:At:"function"==typeof t?n.local?Tt:$t:n.local?Dt:Vt)(n,t))}function It(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lt(e){return function(){this.style.removeProperty(e)}}function Yt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xt(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Ft(e,t,n){return arguments.length>1?this.each((null==t?Lt:"function"==typeof t?Xt:Yt)(e,t,null==n?"":n)):Ht(this.node(),e)}function Ht(e,t){return e.style.getPropertyValue(t)||It(e).getComputedStyle(e,null).getPropertyValue(t)}function Rt(e){return function(){delete this[e]}}function Zt(e,t){return function(){this[e]=t}}function Ut(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Gt(e,t){return arguments.length>1?this.each((null==t?Rt:"function"==typeof t?Ut:Zt)(e,t)):this.node()[e]}function Wt(e){return e.trim().split(/^|\s+/)}function Qt(e){return e.classList||new qt(e)}function qt(e){this._node=e,this._names=Wt(e.getAttribute("class")||"")}function Kt(e,t){for(var n=Qt(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function Jt(e,t){for(var n=Qt(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function en(e){return function(){Kt(this,e)}}function tn(e){return function(){Jt(this,e)}}function nn(e,t){return function(){(t.apply(this,arguments)?Kt:Jt)(this,e)}}function on(e,t){var n=Wt(e+"");if(arguments.length<2){for(var o=Qt(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?nn:t?en:tn)(n,t))}function rn(){this.textContent=""}function an(e){return function(){this.textContent=e}}function ln(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function sn(e){return arguments.length?this.each(null==e?rn:("function"==typeof e?ln:an)(e)):this.node().textContent}function cn(){this.innerHTML=""}function un(e){return function(){this.innerHTML=e}}function dn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function hn(e){return arguments.length?this.each(null==e?cn:("function"==typeof e?dn:un)(e)):this.node().innerHTML}function pn(){this.nextSibling&&this.parentNode.appendChild(this)}function fn(){return this.each(pn)}function gn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mn(){return this.each(gn)}function bn(e){var t="function"==typeof e?e:Re(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function vn(){return null}function yn(e,t){var n="function"==typeof e?e:Re(e),o=null==t?vn:"function"==typeof t?t:Ue(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))}function wn(){var e=this.parentNode;e&&e.removeChild(this)}function On(){return this.each(wn)}function jn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kn(e){return this.select(e?xn:jn)}function _n(e){return arguments.length?this.property("__data__",e):this.node().__data__}function En(e){return function(t){e.call(this,t,this.__data__)}}function Sn(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Nn(e){return function(){var t=this.__on;if(t){for(var n,o=0,i=-1,r=t.length;o<r;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Cn(e,t,n){return function(){var o,i=this.__on,r=En(t);if(i)for(var a=0,l=i.length;a<l;++a)if((o=i[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),void(o.value=t);this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Bn(e,t,n){var o,i,r=Sn(e+""),a=r.length;if(!(arguments.length<2)){for(l=t?Cn:Nn,o=0;o<a;++o)this.each(l(r[o],t,n));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(o=0,s=l[c];o<a;++o)if((i=r[o]).type===s.type&&i.name===s.name)return s.value}function Pn(e,t,n){var o=It(e),i=o.CustomEvent;"function"==typeof i?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function An(e,t){return function(){return Pn(this,e,t)}}function Mn(e,t){return function(){return Pn(this,e,t.apply(this,arguments))}}function Vn(e,t){return this.each(("function"==typeof t?Mn:An)(e,t))}function*Dn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,i=e[t],r=0,a=i.length;r<a;++r)(o=i[r])&&(yield o)}pt.prototype={constructor:pt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},qt.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var $n=[null];function Tn(e,t){this._groups=e,this._parents=t}function zn(){return new Tn([[document.documentElement]],$n)}function In(){return this}function Ln(e){return"string"==typeof e?new Tn([[document.querySelector(e)]],[document.documentElement]):new Tn([[e]],$n)}function Yn(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xn(e,t){if(e=Yn(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}Tn.prototype=zn.prototype={constructor:Tn,select:Ge,selectAll:Je,selectChild:rt,selectChildren:ct,filter:ut,data:vt,enter:ht,exit:wt,join:Ot,merge:jt,selection:In,order:xt,sort:kt,call:Et,nodes:St,node:Nt,size:Ct,empty:Bt,each:Pt,attr:zt,style:Ft,property:Gt,classed:on,text:sn,html:hn,raise:fn,lower:mn,append:bn,insert:yn,remove:On,clone:kn,datum:_n,on:Bn,dispatch:Vn,[Symbol.iterator]:Dn};const Fn={capture:!0,passive:!1};function Hn(e){e.preventDefault(),e.stopImmediatePropagation()}function Rn(e){var t=e.document.documentElement,n=Ln(e).on("dragstart.drag",Hn,Fn);"onselectstart"in t?n.on("selectstart.drag",Hn,Fn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Zn(e,t){var n=e.document.documentElement,o=Ln(e).on("dragstart.drag",null);t&&(o.on("click.drag",Hn,Fn),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Un(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gn(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Wn(){}var Qn=.7,qn=1/Qn,Kn="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",to=/^#([0-9a-f]{3,8})$/,no=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),oo=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),io=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${Jn}\\)$`),ro=new RegExp(`^rgba\\(${eo},${eo},${eo},${Jn}\\)$`),ao=new RegExp(`^hsl\\(${Jn},${eo},${eo}\\)$`),lo=new RegExp(`^hsla\\(${Jn},${eo},${eo},${Jn}\\)$`),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function co(){return this.rgb().formatHex()}function uo(){return this.rgb().formatHex8()}function ho(){return So(this).formatHsl()}function po(){return this.rgb().formatRgb()}function fo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=to.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?go(t):3===n?new yo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?mo(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?mo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=no.exec(e))?new yo(t[1],t[2],t[3],1):(t=oo.exec(e))?new yo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=io.exec(e))?mo(t[1],t[2],t[3],t[4]):(t=ro.exec(e))?mo(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ao.exec(e))?Eo(t[1],t[2]/100,t[3]/100,1):(t=lo.exec(e))?Eo(t[1],t[2]/100,t[3]/100,t[4]):so.hasOwnProperty(e)?go(so[e]):"transparent"===e?new yo(NaN,NaN,NaN,0):null}function go(e){return new yo(e>>16&255,e>>8&255,255&e,1)}function mo(e,t,n,o){return o<=0&&(e=t=n=NaN),new yo(e,t,n,o)}function bo(e){return e instanceof Wn||(e=fo(e)),e?(e=e.rgb(),new yo(e.r,e.g,e.b,e.opacity)):new yo}function vo(e,t,n,o){return 1===arguments.length?bo(e):new yo(e,t,n,null==o?1:o)}function yo(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function wo(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}`}function Oo(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}${_o(255*(isNaN(this.opacity)?1:this.opacity))}`}function jo(){const e=xo(this.opacity);return`${1===e?"rgb(":"rgba("}${ko(this.r)}, ${ko(this.g)}, ${ko(this.b)}${1===e?")":`, ${e})`}`}function xo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ko(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _o(e){return e=ko(e),(e<16?"0":"")+e.toString(16)}function Eo(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Co(e,t,n,o)}function So(e){if(e instanceof Co)return new Co(e.h,e.s,e.l,e.opacity);if(e instanceof Wn||(e=fo(e)),!e)return new Co;if(e instanceof Co)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(a=t===r?(n-o)/l+6*(n<o):n===r?(o-t)/l+2:(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new Co(a,l,s,e.opacity)}function No(e,t,n,o){return 1===arguments.length?So(e):new Co(e,t,n,null==o?1:o)}function Co(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Bo(e){return e=(e||0)%360,e<0?e+360:e}function Po(e){return Math.max(0,Math.min(1,e||0))}function Ao(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Un(Wn,fo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:co,formatHex:co,formatHex8:uo,formatHsl:ho,formatRgb:po,toString:po}),Un(yo,vo,Gn(Wn,{brighter(e){return e=null==e?qn:Math.pow(qn,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Qn:Math.pow(Qn,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yo(ko(this.r),ko(this.g),ko(this.b),xo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wo,formatHex:wo,formatHex8:Oo,formatRgb:jo,toString:jo})),Un(Co,No,Gn(Wn,{brighter(e){return e=null==e?qn:Math.pow(qn,e),new Co(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Qn:Math.pow(Qn,e),new Co(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new yo(Ao(e>=240?e-240:e+120,i,o),Ao(e,i,o),Ao(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new Co(Bo(this.h),Po(this.s),Po(this.l),xo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xo(this.opacity);return`${1===e?"hsl(":"hsla("}${Bo(this.h)}, ${100*Po(this.s)}%, ${100*Po(this.l)}%${1===e?")":`, ${e})`}`}}));var Mo=e=>()=>e;function Vo(e,t){return function(n){return e+n*t}}function Do(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function $o(e){return 1==(e=+e)?To:function(t,n){return n-t?Do(t,n,e):Mo(isNaN(t)?n:t)}}function To(e,t){var n=t-e;return n?Vo(e,n):Mo(isNaN(e)?t:e)}var zo=function e(t){var n=$o(t);function o(e,t){var o=n((e=vo(e)).r,(t=vo(t)).r),i=n(e.g,t.g),r=n(e.b,t.b),a=To(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=r(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function Io(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Lo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yo=new RegExp(Lo.source,"g");function Xo(e){return function(){return e}}function Fo(e){return function(t){return e(t)+""}}function Ho(e,t){var n,o,i,r=Lo.lastIndex=Yo.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=Lo.exec(e))&&(o=Yo.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,s.push({i:a,x:Io(n,o)})),r=Yo.lastIndex;return r<t.length&&(i=t.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?Fo(s[0].x):Xo(t):(t=s.length,function(e){for(var n,o=0;o<t;++o)l[(n=s[o]).i]=n.x(e);return l.join("")})}var Ro,Zo=180/Math.PI,Uo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Go(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Zo,skewX:Math.atan(s)*Zo,scaleX:a,scaleY:l}}function Wo(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uo:Go(t.a,t.b,t.c,t.d,t.e,t.f)}function Qo(e){return null!=e&&(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),e=Ro.transform.baseVal.consolidate())?(e=e.matrix,Go(e.a,e.b,e.c,e.d,e.e,e.f)):Uo}function qo(e,t,n,o){function i(e){return e.length?e.pop()+" ":""}function r(e,o,i,r,a,l){if(e!==i||o!==r){var s=a.push("translate(",null,t,null,n);l.push({i:s-4,x:Io(e,i)},{i:s-2,x:Io(o,r)})}else(i||r)&&a.push("translate("+i+t+r+n)}function a(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:Io(e,t)})):t&&n.push(i(n)+"rotate("+t+o)}function l(e,t,n,r){e!==t?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:Io(e,t)}):t&&n.push(i(n)+"skewX("+t+o)}function s(e,t,n,o,r,a){if(e!==n||t!==o){var l=r.push(i(r)+"scale(",null,",",null,")");a.push({i:l-4,x:Io(e,n)},{i:l-2,x:Io(t,o)})}else(1!==n||1!==o)&&r.push(i(r)+"scale("+n+","+o+")")}return function(t,n){var o=[],i=[];return t=e(t),n=e(n),r(t.translateX,t.translateY,n.translateX,n.translateY,o,i),a(t.rotate,n.rotate,o,i),l(t.skewX,n.skewX,o,i),s(t.scaleX,t.scaleY,n.scaleX,n.scaleY,o,i),t=n=null,function(e){for(var t,n=-1,r=i.length;++n<r;)o[(t=i[n]).i]=t.x(e);return o.join("")}}}var Ko=qo(Wo,"px, ","px)","deg)"),Jo=qo(Qo,", ",")",")"),ei=1e-12;function ti(e){return((e=Math.exp(e))+1/e)/2}function ni(e){return((e=Math.exp(e))-1/e)/2}function oi(e){return((e=Math.exp(2*e))-1)/(e+1)}var ii,ri,ai=function e(t,n,o){function i(e,i){var r,a,l=e[0],s=e[1],c=e[2],u=i[0],d=i[1],h=i[2],p=u-l,f=d-s,g=p*p+f*f;if(g<ei)a=Math.log(h/c)/t,r=function(e){return[l+e*p,s+e*f,c*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),b=(h*h-c*c+o*g)/(2*c*n*m),v=(h*h-c*c-o*g)/(2*h*n*m),y=Math.log(Math.sqrt(b*b+1)-b),w=Math.log(Math.sqrt(v*v+1)-v);a=(w-y)/t,r=function(e){var o=e*a,i=ti(y),r=c/(n*m)*(i*oi(t*o+y)-ni(y));return[l+r*p,s+r*f,c*i/ti(t*o+y)]}}return r.duration=1e3*a*t/Math.SQRT2,r}return i.rho=function(t){var n=Math.max(.001,+t),o=n*n,i=o*o;return e(n,o,i)},i}(Math.SQRT2,2,4),li=0,si=0,ci=0,ui=1e3,di=0,hi=0,pi=0,fi="object"==typeof performance&&performance.now?performance:Date,gi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mi(){return hi||(gi(bi),hi=fi.now()+pi)}function bi(){hi=0}function vi(){this._call=this._time=this._next=null}function yi(e,t,n){var o=new vi;return o.restart(e,t,n),o}function wi(){mi(),++li;for(var e,t=ii;t;)(e=hi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--li}function Oi(){hi=(di=fi.now())+pi,li=si=0;try{wi()}finally{li=0,xi(),hi=0}}function ji(){var e=fi.now(),t=e-di;t>ui&&(pi-=t,di=e)}function xi(){for(var e,t,n=ii,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ii=t);ri=e,ki(o)}function ki(e){if(!li){si&&(si=clearTimeout(si));var t=e-hi;t>24?(e<1/0&&(si=setTimeout(Oi,e-fi.now()-pi)),ci&&(ci=clearInterval(ci))):(ci||(di=fi.now(),ci=setInterval(ji,ui)),li=1,gi(Oi))}}function _i(e,t,n){var o=new vi;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}vi.prototype=yi.prototype={constructor:vi,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?mi():+n)+(null==t?0:+t),!this._next&&ri!==this&&(ri?ri._next=this:ii=this,ri=this),this._call=e,this._time=n,ki()},stop:function(){this._call&&(this._call=null,this._time=1/0,ki())}};var Ei=De("start","end","cancel","interrupt"),Si=[],Ni=0,Ci=1,Bi=2,Pi=3,Ai=4,Mi=5,Vi=6;function Di(e,t,n,o,i,r){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};Ii(e,n,{name:t,index:o,group:i,on:Ei,tween:Si,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ni})}function $i(e,t){var n=zi(e,t);if(n.state>Ni)throw new Error("too late; already scheduled");return n}function Ti(e,t){var n=zi(e,t);if(n.state>Pi)throw new Error("too late; already running");return n}function zi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ii(e,t,n){var o,i=e.__transition;function r(e){n.state=Ci,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(r){var c,u,d,h;if(n.state!==Ci)return s();for(c in i)if(h=i[c],h.name===n.name){if(h.state===Pi)return _i(a);h.state===Ai?(h.state=Vi,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=Vi,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(_i((function(){n.state===Pi&&(n.state=Ai,n.timer.restart(l,n.delay,n.time),l(r))})),n.state=Bi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bi){for(n.state=Pi,o=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=h);o.length=u+1}}function l(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=Mi,1),r=-1,a=o.length;++r<a;)o[r].call(e,i);n.state===Mi&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var o in n.state=Vi,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=yi(r,0,n.time)}function Li(e,t){var n,o,i,r=e.__transition,a=!0;if(r){for(i in t=null==t?null:t+"",r)(n=r[i]).name===t?(o=n.state>Bi&&n.state<Mi,n.state=Vi,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete e.__transition}}function Yi(e){return this.each((function(){Li(this,e)}))}function Xi(e,t){var n,o;return function(){var i=Ti(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Fi(e,t,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=Ti(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===t){i[s]=l;break}s===c&&i.push(l)}r.tween=i}}function Hi(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,i=zi(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((null==t?Xi:Fi)(n,e,t))}function Ri(e,t,n){var o=e._id;return e.each((function(){var e=Ti(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return zi(e,o).value[t]}}function Zi(e,t){var n;return("number"==typeof t?Io:t instanceof fo?zo:(n=fo(t))?(t=n,zo):Ho)(e,t)}function Ui(e){return function(){this.removeAttribute(e)}}function Gi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wi(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function Qi(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function qi(e,t,n){var o,i,r;return function(){var a,l,s=n(this);return null==s?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===o&&l===i?r:(i=l,r=t(o=a,s)))}}function Ki(e,t,n){var o,i,r;return function(){var a,l,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===o&&l===i?r:(i=l,r=t(o=a,s)))}}function Ji(e,t){var n=Xe(e),o="transform"===n?Jo:Zi;return this.attrTween(e,"function"==typeof t?(n.local?Ki:qi)(n,o,Ri(this,"attr."+e,t)):null==t?(n.local?Gi:Ui)(n):(n.local?Qi:Wi)(n,o,t))}function er(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tr(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nr(e,t){var n,o;function i(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&tr(e,i)),n}return i._value=t,i}function or(e,t){var n,o;function i(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&er(e,i)),n}return i._value=t,i}function ir(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var o=Xe(e);return this.tween(n,(o.local?nr:or)(o,t))}function rr(e,t){return function(){$i(this,e).delay=+t.apply(this,arguments)}}function ar(e,t){return t=+t,function(){$i(this,e).delay=t}}function lr(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?rr:ar)(t,e)):zi(this.node(),t).delay}function sr(e,t){return function(){Ti(this,e).duration=+t.apply(this,arguments)}}function cr(e,t){return t=+t,function(){Ti(this,e).duration=t}}function ur(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?sr:cr)(t,e)):zi(this.node(),t).duration}function dr(e,t){if("function"!=typeof t)throw new Error;return function(){Ti(this,e).ease=t}}function hr(e){var t=this._id;return arguments.length?this.each(dr(t,e)):zi(this.node(),t).ease}function pr(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Ti(this,e).ease=n}}function fr(e){if("function"!=typeof e)throw new Error;return this.each(pr(this._id,e))}function gr(e){"function"!=typeof e&&(e=et(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],l=a.length,s=o[i]=[],c=0;c<l;++c)(r=a[c])&&e.call(r,r.__data__,c,a)&&s.push(r);return new Hr(o,this._parents,this._name,this._id)}function mr(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s,c=t[l],u=n[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(s=c[p]||u[p])&&(h[p]=s);for(;l<o;++l)a[l]=t[l];return new Hr(a,this._parents,this._name,this._id)}function br(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function vr(e,t,n){var o,i,r=br(t)?$i:Ti;return function(){var a=r(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(t,n),a.on=i}}function yr(e,t){var n=this._id;return arguments.length<2?zi(this.node(),n).on.on(e):this.each(vr(n,e,t))}function wr(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Or(){return this.on("end.remove",wr(this._id))}function jr(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ue(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l,s,c=o[a],u=c.length,d=r[a]=new Array(u),h=0;h<u;++h)(l=c[h])&&(s=e.call(l,l.__data__,h,c))&&("__data__"in l&&(s.__data__=l.__data__),d[h]=s,Di(d[h],t,n,h,d,zi(l,n)));return new Hr(r,this._parents,t,n)}function xr(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=qe(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s,c=o[l],u=c.length,d=0;d<u;++d)if(s=c[d]){for(var h,p=e.call(s,s.__data__,d,c),f=zi(s,n),g=0,m=p.length;g<m;++g)(h=p[g])&&Di(h,t,n,g,p,f);r.push(p),a.push(s)}return new Hr(r,a,t,n)}var kr=zn.prototype.constructor;function _r(){return new kr(this._groups,this._parents)}function Er(e,t){var n,o,i;return function(){var r=Ht(this,e),a=(this.style.removeProperty(e),Ht(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function Sr(e){return function(){this.style.removeProperty(e)}}function Nr(e,t,n){var o,i,r=n+"";return function(){var a=Ht(this,e);return a===r?null:a===o?i:i=t(o=a,n)}}function Cr(e,t,n){var o,i,r;return function(){var a=Ht(this,e),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(e),s=l=Ht(this,e)),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l))}}function Br(e,t){var n,o,i,r,a="style."+t,l="end."+a;return function(){var s=Ti(this,e),c=s.on,u=null==s.value[a]?r||(r=Sr(t)):void 0;(c!==n||i!==u)&&(o=(n=c).copy()).on(l,i=u),s.on=o}}function Pr(e,t,n){var o="transform"===(e+="")?Ko:Zi;return null==t?this.styleTween(e,Er(e,o)).on("end.style."+e,Sr(e)):"function"==typeof t?this.styleTween(e,Cr(e,o,Ri(this,"style."+e,t))).each(Br(this._id,e)):this.styleTween(e,Nr(e,o,t),n).on("end.style."+e,null)}function Ar(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Mr(e,t,n){var o,i;function r(){var r=t.apply(this,arguments);return r!==i&&(o=(i=r)&&Ar(e,r,n)),o}return r._value=t,r}function Vr(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!=typeof t)throw new Error;return this.tween(o,Mr(e,t,null==n?"":n))}function Dr(e){return function(){this.textContent=e}}function $r(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Tr(e){return this.tween("text","function"==typeof e?$r(Ri(this,"text",e)):Dr(null==e?"":e+""))}function zr(e){return function(t){this.textContent=e.call(this,t)}}function Ir(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&zr(o)),t}return o._value=e,o}function Lr(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Ir(e))}function Yr(){for(var e=this._name,t=this._id,n=Rr(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,l=o[r],s=l.length,c=0;c<s;++c)if(a=l[c]){var u=zi(a,t);Di(a,e,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Hr(o,this._parents,e,n)}function Xr(){var e,t,n=this,o=n._id,i=n.size();return new Promise((function(r,a){var l={value:a},s={value:function(){0==--i&&r()}};n.each((function(){var n=Ti(this,o),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t})),0===i&&r()}))}var Fr=0;function Hr(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Rr(){return++Fr}var Zr=zn.prototype;function Ur(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Hr.prototype={constructor:Hr,select:jr,selectAll:xr,selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:gr,merge:mr,selection:_r,transition:Yr,call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:yr,attr:Ji,attrTween:ir,style:Pr,styleTween:Vr,text:Tr,textTween:Lr,remove:Or,tween:Hi,delay:lr,duration:ur,ease:hr,easeVarying:fr,end:Xr,[Symbol.iterator]:Zr[Symbol.iterator]};var Gr={time:null,delay:0,duration:250,ease:Ur};function Wr(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Qr(e){var t,n;e instanceof Hr?(t=e._id,e=e._name):(t=Rr(),(n=Gr).time=mi(),e=null==e?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,l=o[r],s=l.length,c=0;c<s;++c)(a=l[c])&&Di(a,e,t,c,l,n||Wr(a,t));return new Hr(o,this._parents,e,t)}zn.prototype.interrupt=Yi,zn.prototype.transition=Qr;var qr=e=>()=>e;function Kr(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function Jr(e,t,n){this.k=e,this.x=t,this.y=n}Jr.prototype={constructor:Jr,scale:function(e){return 1===e?this:new Jr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Jr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ea,ta,na,oa,ia,ra,aa=new Jr(1,0,0);function la(e){e.stopImmediatePropagation()}function sa(e){e.preventDefault(),e.stopImmediatePropagation()}function ca(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function ua(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function da(){return this.__zoom||aa}function ha(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pa(){return navigator.maxTouchPoints||"ontouchstart"in this}function fa(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a))}function ga(){var e,t,n,o=ca,i=ua,r=fa,a=ha,l=pa,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=ai,h=De("start","zoom","end"),p=500,f=150,g=0,m=10;function b(e){e.property("__zoom",da).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",E).filter(l).on("touchstart.zoom",S).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return t=Math.max(s[0],Math.min(s[1],t)),t===e.k?e:new Jr(t,e.x,e.y)}function y(e,t,n){var o=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return o===e.x&&i===e.y?e:new Jr(e.k,o,i)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function O(e,t,n,o){e.on("start.zoom",(function(){j(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){j(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,r=arguments,a=j(e,r).event(o),l=i.apply(e,r),s=null==n?w(l):"function"==typeof n?n.apply(e,r):n,c=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,r):t,p=d(u.invert(s).concat(c/u.k),h.invert(s).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new Jr(n,s[0]-t[0]*n,s[1]-t[1]*n)}a.zoom(null,e)}}))}function j(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function k(e,...t){if(o.apply(this,arguments)){var n=j(this,t).event(e),i=this.__zoom,l=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,a.apply(this,arguments)))),u=Xn(e);if(n.wheel)(n.mouse[0][0]!==u[0]||n.mouse[0][1]!==u[1])&&(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===l)return;n.mouse=[u,i.invert(u)],Li(this),n.start()}sa(e),n.wheel=setTimeout(d,f),n.zoom("mouse",r(y(v(i,l),n.mouse[0],n.mouse[1]),n.extent,c))}function d(){n.wheel=null,n.end()}}function _(e,...t){if(!n&&o.apply(this,arguments)){var i=e.currentTarget,a=j(this,t,!0).event(e),l=Ln(e.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),s=Xn(e,i),u=e.clientX,d=e.clientY;Rn(e.view),la(e),a.mouse=[s,this.__zoom.invert(s)],Li(this),a.start()}function h(e){if(sa(e),!a.moved){var t=e.clientX-u,n=e.clientY-d;a.moved=t*t+n*n>g}a.event(e).zoom("mouse",r(y(a.that.__zoom,a.mouse[0]=Xn(e,i),a.mouse[1]),a.extent,c))}function p(e){l.on("mousemove.zoom mouseup.zoom",null),Zn(e.view,a.moved),sa(e),a.event(e).end()}}function E(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,a=Xn(e.changedTouches?e.changedTouches[0]:e,this),l=n.invert(a),s=n.k*(e.shiftKey?.5:2),d=r(y(v(n,s),a,l),i.apply(this,t),c);sa(e),u>0?Ln(this).transition().duration(u).call(O,d,a,e):Ln(this).call(b.transform,d,a,e)}}function S(n,...i){if(o.apply(this,arguments)){var r,a,l,s,c=n.touches,u=c.length,d=j(this,i,n.changedTouches.length===u).event(n);for(la(n),a=0;a<u;++a)l=c[a],s=Xn(l,this),s=[s,this.__zoom.invert(s),l.identifier],d.touch0?!d.touch1&&d.touch0[2]!==s[2]&&(d.touch1=s,d.taps=0):(d.touch0=s,r=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),r&&(d.taps<2&&(t=s[0],e=setTimeout((function(){e=null}),p)),Li(this),d.start())}}function N(e,...t){if(this.__zooming){var n,o,i,a,l=j(this,t).event(e),s=e.changedTouches,u=s.length;for(sa(e),n=0;n<u;++n)o=s[n],i=Xn(o,this),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=i:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=i);if(o=l.that.__zoom,l.touch1){var d=l.touch0[0],h=l.touch0[1],p=l.touch1[0],f=l.touch1[1],g=(g=p[0]-d[0])*g+(g=p[1]-d[1])*g,m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m;o=v(o,Math.sqrt(g/m)),i=[(d[0]+p[0])/2,(d[1]+p[1])/2],a=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!l.touch0)return;i=l.touch0[0],a=l.touch0[1]}l.zoom("touch",r(y(o,i,a),l.extent,c))}}function C(e,...o){if(this.__zooming){var i,r,a=j(this,o).event(e),l=e.changedTouches,s=l.length;for(la(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<s;++i)r=l[i],a.touch0&&a.touch0[2]===r.identifier?delete a.touch0:a.touch1&&a.touch1[2]===r.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(r=Xn(r,this),Math.hypot(t[0]-r[0],t[1]-r[1])<m)){var c=Ln(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return b.transform=function(e,t,n,o){var i=e.selection?e.selection():e;i.property("__zoom",da),e!==i?O(e,t,n,o):i.interrupt().each((function(){j(this,arguments).event(o).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},b.scaleBy=function(e,t,n,o){b.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n,o)},b.scaleTo=function(e,t,n,o){b.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,a=null==n?w(e):"function"==typeof n?n.apply(this,arguments):n,l=o.invert(a),s="function"==typeof t?t.apply(this,arguments):t;return r(y(v(o,s),a,l),e,c)}),n,o)},b.translateBy=function(e,t,n,o){b.transform(e,(function(){return r(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,o)},b.translateTo=function(e,t,n,o,a){b.transform(e,(function(){var e=i.apply(this,arguments),a=this.__zoom,l=null==o?w(e):"function"==typeof o?o.apply(this,arguments):o;return r(aa.translate(l[0],l[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),o,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Ln(this.that).datum();h.call(e,this.that,new Kr(e,{sourceEvent:this.sourceEvent,target:b,type:e,transform:this.that.__zoom,dispatch:h}),t)}},b.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:qr(+e),b):a},b.filter=function(e){return arguments.length?(o="function"==typeof e?e:qr(!!e),b):o},b.touchable=function(e){return arguments.length?(l="function"==typeof e?e:qr(!!e),b):l},b.extent=function(e){return arguments.length?(i="function"==typeof e?e:qr([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),b):i},b.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],b):[s[0],s[1]]},b.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],b):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},b.constrain=function(e){return arguments.length?(r=e,b):r},b.duration=function(e){return arguments.length?(u=+e,b):u},b.interpolate=function(e){return arguments.length?(d=e,b):d},b.on=function(){var e=h.on.apply(h,arguments);return e===h?b:e},b.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,b):Math.sqrt(g)},b.tapDistance=function(e){return arguments.length?(m=+e,b):m},b}(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ea||(ea={})),function(e){e.Lines="lines",e.Dots="dots"}(ta||(ta={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(na||(na={})),function(e){e.Strict="strict",e.Loose="loose"}(oa||(oa={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ia||(ia={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(ra||(ra={}));const ma=Symbol("vueFlow"),ba=Symbol("nodeId"),va=Symbol("slots"),ya=()=>({edgesChange:m(),nodesChange:m(),nodeDoubleClick:m(),nodeClick:m(),nodeMouseEnter:m(),nodeMouseMove:m(),nodeMouseLeave:m(),nodeContextMenu:m(),nodeDragStart:m(),nodeDrag:m(),nodeDragStop:m(),miniMapNodeClick:m(),miniMapNodeDoubleClick:m(),connect:m(),connectStart:m(),connectStop:m(),connectEnd:m(),paneReady:m(),move:m(),moveStart:m(),moveEnd:m(),selectionDragStart:m(),selectionDrag:m(),selectionDragStop:m(),selectionContextMenu:m(),paneScroll:m(),paneClick:m(),paneContextMenu:m(),edgeContextMenu:m(),edgeMouseEnter:m(),edgeMouseMove:m(),edgeMouseLeave:m(),edgeDoubleClick:m(),edgeClick:m(),edgeUpdateStart:m(),edgeUpdate:m(),edgeUpdateEnd:m()}),wa=(e,t)=>{for(const[n,o]of Object.entries(t))o.on(t=>{e(n,t)})};var Oa=(e,t)=>wa(e,t);const ja=["data-handleid","data-nodeid","data-handlepos"],xa={name:"Handle"};var ka;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ka||(ka={}));const _a=Object(i["defineComponent"])(p(h({},xa),{props:{id:null,type:{default:"source"},position:{default:"top"},isValidConnection:null,connectable:{type:Boolean,default:!0}},setup(e){const t=e,{id:n,hooks:o,connectionStartHandle:r,connectionMode:a}=Jc(),l=Object(i["inject"])(ba,""),s=Object(i["computed"])(()=>{var e;return null!=(e=t.id)?e:a.value===oa.Strict?null:`${l}__handle-${t.position}`}),{onMouseDown:c,onClick:u}=nu(),d=e=>c(e,s.value,l,"target"===t.type,t.isValidConnection,void 0),h=e=>{var n;return u(e,null!=(n=s.value)?n:null,l,t.type,t.isValidConnection)},p=Object(i["computed"])(()=>{var e,n,o;return["vue-flow__handle","vue-flow__handle-"+t.position,"vue-flow__handle-"+s.value,"nodrag",{source:"target"!==t.type,target:"target"===t.type,connectable:t.connectable,connecting:(null==(e=r.value)?void 0:e.nodeId)===l&&(null==(n=r.value)?void 0:n.handleId)===s.value&&(null==(o=r.value)?void 0:o.type)===t.type}]});return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{"data-handleid":Object(i["unref"])(s),"data-nodeid":Object(i["unref"])(l),"data-handlepos":t.position,class:Object(i["normalizeClass"])(Object(i["unref"])(p)),onMousedown:d,onClick:h},[Object(i["renderSlot"])(e.$slots,"default",Object(i["mergeProps"])({nodeId:Object(i["unref"])(l)},t))],42,ja))}})),Ea=["innerHTML"],Sa={name:"DefaultNode"};var Na;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Na||(Na={}));const Ca=Object(i["defineComponent"])(p(h({},Sa),{props:{id:null,type:null,data:null,selected:{type:Boolean},connectable:{type:Boolean,default:!1},computedPosition:null,position:null,dimensions:null,label:null,isValidTargetPos:null,isValidSourcePos:null,parentNode:null,dragging:{type:Boolean},zIndex:null,targetPosition:{default:"top"},sourcePosition:{default:"bottom"},dragHandle:null,nodeElement:null},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createVNode"])(_a,{type:"target",position:t.targetPosition,"is-connectable":t.connectable,"is-valid-connection":t.isValidTargetPos},null,8,["position","is-connectable","is-valid-connection"]),"string"!=typeof t.label&&t.label?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(t.label),{key:0})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,innerHTML:t.label},null,8,Ea)),Object(i["createVNode"])(_a,{type:"source",position:t.sourcePosition,"is-connectable":t.connectable,"is-valid-connection":t.isValidSourcePos},null,8,["position","is-connectable","is-valid-connection"])],64))}})),Ba=["innerHTML"],Pa={name:"InputNode"};var Aa;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Aa||(Aa={}));const Ma=Object(i["defineComponent"])(p(h({},Pa),{props:{id:null,type:null,data:null,selected:{type:Boolean},connectable:{type:Boolean,default:!1},computedPosition:null,position:null,dimensions:null,label:null,isValidTargetPos:null,isValidSourcePos:null,parentNode:null,dragging:{type:Boolean},zIndex:null,targetPosition:null,sourcePosition:{default:"bottom"},dragHandle:null,nodeElement:null},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,["string"!=typeof t.label&&t.label?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(t.label),{key:0})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,innerHTML:t.label},null,8,Ba)),Object(i["createVNode"])(_a,{type:"source",position:t.sourcePosition,connectable:t.connectable,"is-valid-connection":t.isValidSourcePos},null,8,["position","connectable","is-valid-connection"])],64))}})),Va=["innerHTML"],Da={name:"OutputNode"};var $a;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})($a||($a={}));const Ta=Object(i["defineComponent"])(p(h({},Da),{props:{id:null,type:null,data:null,selected:{type:Boolean},connectable:{type:Boolean,default:!1},computedPosition:null,position:null,dimensions:null,label:null,isValidTargetPos:null,isValidSourcePos:null,parentNode:null,dragging:{type:Boolean},zIndex:null,targetPosition:{default:"top"},sourcePosition:null,dragHandle:null,nodeElement:null},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,["string"!=typeof t.label&&t.label?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(t.label),Object(i["normalizeProps"])(Object(i["mergeProps"])({key:0},t.label)),null,16)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,innerHTML:t.label},null,8,Va)),Object(i["createVNode"])(_a,{type:"source",position:t.targetPosition,"is-connectable":t.connectable,"is-valid-connection":t.isValidTargetPos},null,8,["position","is-connectable","is-valid-connection"])],64))}}));function za(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Ia({pos:e,x1:t,y1:n,x2:o,y2:i,c:r}){let a,l;switch(e){case ea.Left:a=t-za(t-o,r),l=n;break;case ea.Right:a=t+za(o-t,r),l=n;break;case ea.Top:a=t,l=n-za(n-i,r);break;case ea.Bottom:a=t,l=n+za(i-n,r);break}return[a,l]}function La({sourceX:e,sourceY:t,sourcePosition:n=ea.Bottom,targetX:o,targetY:i,targetPosition:r=ea.Top,curvature:a=.25}){const[l,s]=Ia({pos:n,x1:e,y1:t,x2:o,y2:i,c:a}),[c,u]=Ia({pos:r,x1:o,y1:i,x2:e,y2:t,c:a});return`M${e},${t} C${l},${s} ${c},${u} ${o},${i}`}function Ya({sourceX:e,sourceY:t,sourcePosition:n=ea.Bottom,targetX:o,targetY:i,targetPosition:r=ea.Top,curvature:a=.25}){const[l,s]=Ia({pos:n,x1:e,y1:t,x2:o,y2:i,c:a}),[c,u]=Ia({pos:r,x1:o,y1:i,x2:e,y2:t,c:a}),d=.125*e+.375*l+.375*c+.125*o,h=.125*t+.375*s+.375*u+.125*i,p=Math.abs(d-e),f=Math.abs(h-t);return[d,h,p,f]}function Xa({pos:e,x1:t,y1:n,x2:o,y2:i}){let r,a;switch(e){case ea.Left:case ea.Right:r=.5*(t+o),a=n;break;case ea.Top:case ea.Bottom:r=t,a=.5*(n+i);break}return[r,a]}function Fa({sourceX:e,sourceY:t,sourcePosition:n=ea.Bottom,targetX:o,targetY:i,targetPosition:r=ea.Top}){const[a,l]=Xa({pos:n,x1:e,y1:t,x2:o,y2:i}),[s,c]=Xa({pos:r,x1:o,y1:i,x2:e,y2:t});return`M${e},${t} C${a},${l} ${s},${c} ${o},${i}`}function Ha({sourceX:e,sourceY:t,sourcePosition:n=ea.Bottom,targetX:o,targetY:i,targetPosition:r=ea.Top}){const[a,l]=Xa({pos:n,x1:e,y1:t,x2:o,y2:i}),[s,c]=Xa({pos:r,x1:o,y1:i,x2:e,y2:t}),u=.125*e+.375*a+.375*s+.125*o,d=.125*t+.375*l+.375*c+.125*i,h=Math.abs(u-e),p=Math.abs(d-t);return[u,d,h,p]}const Ra=[ea.Left,ea.Right],Za=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:i=ea.Bottom,targetPosition:r=ea.Top})=>{const a=Ra.includes(i),l=Ra.includes(r);if(a&&!l||l&&!a){const i=a?Math.abs(n-e):0,r=e>n?e-i:e+i,l=a?0:Math.abs(o-t),s=t<o?t+l:t-l;return[r,s,i,l]}const s=Math.abs(n-e)/2,c=n<e?n+s:n-s,u=Math.abs(o-t)/2,d=o<t?o+u:o-u;return[c,d,s,u]},Ua=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e+n},${t}`,Ga=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t-n}`,Wa=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e-n},${t}`,Qa=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t-n}`,qa=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t+n}`,Ka=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e+n},${t}`,Ja=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e-n},${t}`,el=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t+n}`;function tl({sourceX:e,sourceY:t,sourcePosition:n=ea.Bottom,targetX:o,targetY:i,targetPosition:r=ea.Top,borderRadius:a=5,centerX:l,centerY:s}){const[c,u,d,h]=Za({sourceX:e,sourceY:t,targetX:o,targetY:i}),p=Math.min(a,Math.abs(o-e)),f=Math.min(a,Math.abs(i-t)),g=Math.min(p,f,d,h),m=[ea.Left,ea.Right],b="undefined"!=typeof l?l:c,v="undefined"!=typeof s?s:u;let y,w;return e<=o?(y=t<=i?Ua(e,v,g):Ka(e,v,g),w=t<=i?el(o,v,g):Qa(o,v,g)):(y=t<i?Wa(e,v,g):Ja(e,v,g),w=t<i?qa(o,v,g):Ga(o,v,g)),m.includes(n)&&m.includes(r)?e<=o?(y=t<=i?el(b,t,g):Qa(b,t,g),w=t<=i?Ua(b,i,g):Ka(b,i,g)):(n===ea.Right&&r===ea.Left||n===ea.Left&&r===ea.Right||n===ea.Left&&r===ea.Left)&&(y=t<=i?qa(b,t,g):Ga(b,t,g),w=t<=i?Wa(b,i,g):Ja(b,i,g)):m.includes(n)&&!m.includes(r)?(y=e<=o?t<=i?el(o,t,g):Qa(o,t,g):t<=i?qa(o,t,g):Ga(o,t,g),w=""):!m.includes(n)&&m.includes(r)&&(y=e<=o?t<=i?Ua(e,i,g):Ka(e,i,g):t<=i?Wa(e,i,g):Ja(e,i,g),w=""),`M ${e},${t}${y}${w}L ${o},${i}`}const nl=["transform"],ol=["width","height","x","y","rx","ry"],il=["y"],rl={name:"EdgeText"},al=Object(i["defineComponent"])(p(h({},rl),{props:{x:null,y:null,label:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=e,n=Oe("edge-text",null),o=Object(i["ref"])({x:0,y:0,width:0,height:0});Object(i["onMounted"])(()=>{o.value=n.value.getBBox()});const r=Object(i["computed"])(()=>`translate(${t.x-o.value.width/2} ${t.y-o.value.height/2})`);return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{transform:Object(i["unref"])(r),class:Object(i["normalizeClass"])([t.class,"vue-flow__edge-textwrapper"])},[t.labelShowBg?(Object(i["openBlock"])(),Object(i["createElementBlock"])("rect",{key:0,class:"vue-flow__edge-textbg",width:o.value.width+2*t.labelBgPadding[0]+"px",height:o.value.height+2*t.labelBgPadding[1]+"px",x:-t.labelBgPadding[0],y:-t.labelBgPadding[1],style:Object(i["normalizeStyle"])(t.labelBgStyle),rx:t.labelBgBorderRadius,ry:t.labelBgBorderRadius},null,12,ol)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("text",{ref:"edge-text",class:"vue-flow__edge-text",y:o.value.height/2,dy:"0.3em",style:Object(i["normalizeStyle"])(t.labelStyle)},[Object(i["renderSlot"])(e.$slots,"default",Object(i["normalizeProps"])(Object(i["guardReactiveProps"])(t)),()=>["string"!=typeof t.label&&(t.label,1)?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(t.label),{key:0})):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label),1)],64))])],12,il)],10,nl))}})),ll=["d","marker-end","marker-start"],sl={name:"BaseEdge",inheritAttrs:!1},cl=Object(i["defineComponent"])(p(h({},sl),{props:{centerX:null,centerY:null,path:null,label:null,style:null,labelStyle:null,labelShowBg:{type:Boolean},labelBgStyle:null,labelBgPadding:null,labelBgBorderRadius:null,markerStart:null,markerEnd:null},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("path",{style:Object(i["normalizeStyle"])(t.style),d:t.path,class:"vue-flow__edge-path","marker-end":t.markerEnd,"marker-start":t.markerStart},null,12,ll),t.label?(Object(i["openBlock"])(),Object(i["createBlock"])(al,{key:0,x:t.centerX,y:t.centerY,label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius},null,8,["x","y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius"])):Object(i["createCommentVNode"])("",!0)],64))}})),ul={name:"BezierEdge"};var dl;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(dl||(dl={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(dl||(dl={}));const hl=Object(i["defineComponent"])(p(h({},ul),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e,n=Object(i["computed"])(()=>Ya({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.curvature})),o=Object(i["computed"])(()=>t.sourceX&&t.sourceY?La({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.curvature}):"");return(e,r)=>(Object(i["openBlock"])(),Object(i["createBlock"])(cl,{path:Object(i["unref"])(o),"center-x":Object(i["unref"])(n)[0],"center-y":Object(i["unref"])(n)[1],label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(i["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),pl={name:"SimpleBezierEdge"};var fl;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fl||(fl={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(fl||(fl={}));const gl=Object(i["defineComponent"])(p(h({},pl),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e,n=Object(i["computed"])(()=>Ha({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),o=Object(i["computed"])(()=>t.sourceX&&t.sourceY?Fa({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition}):"");return(e,r)=>(Object(i["openBlock"])(),Object(i["createBlock"])(cl,{path:Object(i["unref"])(o),"center-x":Object(i["unref"])(n)[0],"center-y":Object(i["unref"])(n)[1],label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(i["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),ml={name:"SmoothStepEdge",inheritAttrs:!1};var bl;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(bl||(bl={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(bl||(bl={}));const vl=Object(i["defineComponent"])(p(h({},ml),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,borderRadius:null},setup(e){const t=e,n=Object(i["computed"])(()=>Za({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),o=Object(i["computed"])(()=>t.sourceX&&t.sourceY?tl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:t.borderRadius}):"");return(e,r)=>(Object(i["openBlock"])(),Object(i["createBlock"])(cl,{path:Object(i["unref"])(o),"center-x":Object(i["unref"])(n)[0],"center-y":Object(i["unref"])(n)[1],label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(i["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),yl={name:"StepEdge",inheritAttrs:!1};var wl;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(wl||(wl={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(wl||(wl={}));const Ol=Object(i["defineComponent"])(p(h({},yl),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createBlock"])(vl,Object(i["mergeProps"])(t,{"border-radius":0}),null,16))}})),jl={name:"StraightEdge"};var xl;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xl||(xl={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(xl||(xl={}));const kl=Object(i["defineComponent"])(p(h({},jl),{props:{id:null,sourceNode:null,targetNode:null,label:{default:""},type:null,data:null,style:null,sourceX:null,sourceY:null,targetX:null,targetY:null,selected:{type:Boolean,default:!1},sourcePosition:{default:"bottom"},targetPosition:{default:"top"},sourceHandleId:null,targetHandleId:null,source:null,target:null,labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:null,labelBgBorderRadius:null,animated:{type:Boolean},updatable:{type:Boolean},markerStart:null,markerEnd:null,curvature:null},setup(e){const t=e,n=Object(i["computed"])(()=>{const e=Math.abs(t.targetY-t.sourceY)/2;return t.targetY<t.sourceY?t.targetY+e:t.targetY-e}),o=Object(i["computed"])(()=>{const e=Math.abs(t.targetX-t.sourceX)/2;return t.targetX<t.sourceX?t.targetX+e:t.targetX-e}),r=Object(i["computed"])(()=>`M ${t.sourceX},${t.sourceY}L ${t.targetX},${t.targetY}`);return(e,a)=>(Object(i["openBlock"])(),Object(i["createBlock"])(cl,{path:Object(i["unref"])(r),"center-x":Object(i["unref"])(o),"center-y":Object(i["unref"])(n),label:t.label,"label-style":t.labelStyle,"label-show-bg":t.labelShowBg,"label-bg-style":t.labelBgStyle,"label-bg-padding":t.labelBgPadding,"label-bg-border-radius":t.labelBgBorderRadius,style:Object(i["normalizeStyle"])(t.style),"marker-end":t.markerEnd,"marker-start":t.markerStart},null,8,["path","center-x","center-y","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","style","marker-end","marker-start"]))}})),_l=["cx","cy","r"],El={name:"EdgeAnchor"},Sl=Object(i["defineComponent"])(p(h({},El),{props:{position:{default:ea.Top},centerX:{default:0},centerY:{default:0},radius:{default:10}},setup(e){const t=e,n=(e,t,n)=>n===ea.Left?e-t:n===ea.Right?e+t:e,o=(e,t,n)=>n===ea.Top?e-t:n===ea.Bottom?e+t:e,r=Object(i["computed"])(()=>{const e=n(t.centerX,t.radius,t.position);return isNaN(e)?0:e}),a=Object(i["computed"])(()=>{const e=o(t.centerY,t.radius,t.position);return isNaN(e)?0:e});return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("circle",{class:"vue-flow__edgeupdater",cx:Object(i["unref"])(r),cy:Object(i["unref"])(a),r:t.radius,stroke:"transparent",fill:"transparent"},null,8,_l))}})),Nl={class:"vue-flow__connection"},Cl=["d"],Bl={name:"ConnectionLine"},Pl=Object(i["defineComponent"])(p(h({},Bl),{props:{sourceNode:null},setup(e){var t,n,o,r;const a=e,{store:l}=Jc(),s=null==(t=Object(i["inject"])(va))?void 0:t["connection-line"],c=null==s?void 0:s({}),u=l.connectionHandleId&&l.connectionHandleType?null==(n=a.sourceNode.handleBounds[l.connectionHandleType])?void 0:n.find(e=>e.id===l.connectionHandleId):l.connectionHandleType&&(null==(r=a.sourceNode.handleBounds[null!=(o=l.connectionHandleType)?o:"source"])?void 0:r[0]),d=u?u.x+u.width/2:a.sourceNode.dimensions.width/2,h=u?u.y+u.height/2:a.sourceNode.dimensions.height,p=a.sourceNode.computedPosition.x+d,f=a.sourceNode.computedPosition.y+h,g=(null==u?void 0:u.position)===ea.Left||(null==u?void 0:u.position)===ea.Right?ea.Left:ea.Top,m=Object(i["computed"])(()=>(l.connectionPosition.x-l.viewport.x)/l.viewport.zoom),b=Object(i["computed"])(()=>(l.connectionPosition.y-l.viewport.y)/l.viewport.zoom),v=Object(i["computed"])(()=>{let e=`M${p},${f} ${m.value},${b.value}`;switch(l.connectionLineType){case na.Bezier:e=La({sourceX:p,sourceY:f,sourcePosition:null==u?void 0:u.position,targetX:m.value,targetY:b.value,targetPosition:g});break;case na.Step:e=tl({sourceX:p,sourceY:f,sourcePosition:null==u?void 0:u.position,targetX:m.value,targetY:b.value,targetPosition:g,borderRadius:0});break;case na.SmoothStep:e=tl({sourceX:p,sourceY:f,sourcePosition:null==u?void 0:u.position,targetX:m.value,targetY:b.value,targetPosition:g});break}return e});return(e,t)=>{var n;return Object(i["openBlock"])(),Object(i["createElementBlock"])("g",Nl,[Object(i["unref"])(c)?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(s)),Object(i["normalizeProps"])(Object(i["mergeProps"])({key:0},{sourceX:p,sourceY:f,sourcePosition:null==(n=Object(i["unref"])(u))?void 0:n.position,targetX:Object(i["unref"])(m),targetY:Object(i["unref"])(b),targetPosition:Object(i["unref"])(g),connectionLineType:Object(i["unref"])(l).connectionLineType,connectionLineStyle:Object(i["unref"])(l).connectionLineStyle,nodes:Object(i["unref"])(l).getNodes,sourceNode:a.sourceNode,sourceHandle:Object(i["unref"])(u)})),null,16)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("path",{key:1,d:Object(i["unref"])(v),class:"vue-flow__connection-path",style:Object(i["normalizeStyle"])(Object(i["unref"])(l).connectionLineStyle||{})},null,12,Cl))])}}}));var Al=Object.defineProperty,Ml=Object.defineProperties,Vl=Object.getOwnPropertyDescriptors,Dl=Object.getOwnPropertySymbols,$l=Object.prototype.hasOwnProperty,Tl=Object.prototype.propertyIsEnumerable,zl=(e,t,n)=>t in e?Al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Il=(e,t)=>{for(var n in t||(t={}))$l.call(t,n)&&zl(e,n,t[n]);if(Dl)for(var n of Dl(t))Tl.call(t,n)&&zl(e,n,t[n]);return e},Ll=(e,t)=>Ml(e,Vl(t));function Yl(){const e=[],t=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)};return{on:n=>(e.push(n),{off:()=>t(n)}),off:t,trigger:t=>{e.forEach(e=>e(t))}}}function Xl(e){return!!Object(i["getCurrentScope"])()&&(Object(i["onScopeDispose"])(e),!0)}const Fl="undefined"!=typeof window,Hl=e=>"string"==typeof e,Rl=()=>{};function Zl(e,t){return null==t?Object(i["unref"])(e):Object(i["unref"])(e)[t]}function Ul(e,t=!0){Object(i["getCurrentInstance"])()?Object(i["onMounted"])(e):t?e():Object(i["nextTick"])(e)}function Gl(e){Object(i["getCurrentInstance"])()&&Object(i["onUnmounted"])(e)}function Wl(e){var t;const n=Object(i["unref"])(e);return null!=(t=null==n?void 0:n.$el)?t:n}const Ql=Fl?window:void 0;function ql(...e){let t,n,o,r;if(Hl(e[0])?([n,o,r]=e,t=Ql):[t,n,o,r]=e,!t)return Rl;let a=Rl;const l=Object(i["watch"])(()=>Object(i["unref"])(t),e=>{a(),e&&(e.addEventListener(n,o,r),a=()=>{e.removeEventListener(n,o,r),a=Rl})},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return Xl(s),s}function Kl(e,t=null){const n=Object(i["getCurrentInstance"])();let o=()=>{};const r=Object(i["customRef"])((i,r)=>(o=r,{get(){var o,r;return i(),null!=(r=null==(o=null==n?void 0:n.proxy)?void 0:o.$refs[e])?r:t},set(){}}));return Object(i["onMounted"])(o),Object(i["onUpdated"])(o),r}var Jl;function es(e,t){for(let n=0,o=e.length;n<o;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function ts(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function ns(e){return!!("targetTouches"in e&&e.targetTouches&&"changedTouches"in e&&e.changedTouches)}function os(e){return!isNaN(e)}function is(e){return parseInt(e,10)}(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Jl||(Jl={}));const rs=["Moz","Webkit","O","ms"];function as(e="transform"){var t,n;if("undefined"==typeof window)return"";const o=null==(n=null==(t=window.document)?void 0:t.documentElement)?void 0:n.style;if(!o||e in o)return"";for(let i=0;i<rs.length;i++)if(ls(e,rs[i])in o)return rs[i];return""}function ls(e,t){return t?`${t}${ss(e)}`:e}function ss(e){let t="",n=!0;for(let o=0;o<e.length;o++)n?(t+=e[o].toUpperCase(),n=!1):"-"===e[o]?n=!0:t+=e[o];return t}var cs=as();let us="";function ds(e,t){return us||(us=es(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],t=>ts(e[t]))),!!ts(e[us])&&e[us](t)}function hs(e,t,n){let o=e;do{if(ds(o,t))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function ps(e,t,n,o){if(!e)return;const i=Il({capture:!0},o);e.addEventListener?e.addEventListener(t,n,i):e["on"+t]=n}function fs(e,t,n,o){if(!e)return;const i=Il({capture:!0},o);e.removeEventListener?e.removeEventListener(t,n,i):e["on"+t]=null}function gs(e){var t;let n=e.clientHeight;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n+=is(null==o?void 0:o.borderTopWidth),n+=is(null==o?void 0:o.borderBottomWidth),n}function ms(e){var t;let n=e.clientWidth;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n+=is(null==o?void 0:o.borderLeftWidth),n+=is(null==o?void 0:o.borderRightWidth),n}function bs(e,t){return es(e.targetTouches,e=>t===e.identifier)||es(e.changedTouches,e=>t===e.identifier)}function vs(e){if(ns(e)){if(e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches[0])return e.changedTouches[0].identifier}}function ys(e){var t;let n=e.clientHeight;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n-=is(null==o?void 0:o.paddingTop),n-=is(null==o?void 0:o.paddingBottom),n}function ws(e){var t;let n=e.clientWidth;const o=null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return n-=is(null==o?void 0:o.paddingLeft),n-=is(null==o?void 0:o.paddingRight),n}function Os(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-o.left)/n,r=(e.clientY+t.scrollTop-o.top)/n;return{x:i,y:r}}function js(e,t){const n=ks(e,"px",t);return{[ls("transform",cs)]:n}}function xs(e,t){return ks(e,"",t)}function ks({x:e,y:t},n="px",o){let i=`translate(${Math.round(e)}${n},${Math.round(t)}${n})`;if(o){const e=""+("string"==typeof o.x?o.x:Math.round(o.x)+n),t=""+("string"==typeof o.y?o.y:Math.round(o.y)+n);i=`translate(${e}, ${t})`+i}return i}function _s(e){if(e){if(!e.getElementById("revue-draggable-style-el")){const t=e.createElement("style");t.type="text/css",t.id="revue-draggable-style-el",t.innerHTML=".revue-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".revue-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)}e.body&&Ss(e.body,"revue-draggable-transparent-selection")}}function Es(e){if(e)try{e.body&&Ns(e.body,"revue-draggable-transparent-selection");const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}catch(t){}}function Ss(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=" "+t)}function Ns(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}function Cs(...e){"undefined"!=typeof o&&{}.DRAGGABLE_DEBUG&&console.log(...e)}function Bs({bounds:e,x:t,y:n,node:o}){if(!e)return[t,n];if(e="string"==typeof e?e:Ts(e),"string"==typeof e){const{ownerDocument:t}=o,n=t.defaultView,i="parent"===e?o.parentNode:t.querySelector(e);if(!(n&&i instanceof n.HTMLElement))throw new Error('Bounds selector "'+e+'" could not find an element.');const r=n.getComputedStyle(o),a=n.getComputedStyle(i),l="offsetLeft"in o?o.offsetLeft:0,s="offsetTop"in o?o.offsetTop:0;e={left:-(l-i.offsetLeft)+is(a.paddingLeft)+is(r.marginLeft),top:-(s-i.offsetTop)+is(a.paddingTop)+is(r.marginTop),right:ws(i)-ms(o)-l+is(a.paddingRight)-is(r.marginRight),bottom:ys(i)-gs(o)-s+is(a.paddingBottom)-is(r.marginBottom)}}return os(e.right)&&(t=Math.min(t,e.right)),os(e.bottom)&&(n=Math.min(n,e.bottom)),os(e.left)&&(t=Math.max(t,e.left)),os(e.top)&&(n=Math.max(n,e.top)),[t,n]}function Ps(e,t,n){const o=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[o,i]}function As(e){return"both"===e||"x"===e}function Ms(e){return"both"===e||"y"===e}function Vs({e:e,touch:t,node:n,offsetContainer:o,scale:i}){const r="number"==typeof t&&ns(e)?bs(e,t):null;if("number"==typeof t&&!r)return null;const a=o||"offsetParent"in n&&n.offsetParent||n.ownerDocument.body;return Os(r||e,a,i)}function Ds({node:e,x:t,y:n,lastX:o,lastY:i}){return isNaN(o)?{node:e,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:e,deltaX:t-o,deltaY:n-i,lastX:o,lastY:i,x:t,y:n}}function $s({x:e,y:t,data:n}){return{node:n.node,x:e+n.deltaX,y:t+n.deltaY,deltaX:n.deltaX,deltaY:n.deltaY,lastX:e,lastY:t}}function Ts(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}var zs=e=>{const t=Object(i["reactive"])(Object.assign({allowAnyClick:!1,cancel:"",handle:"",disabled:!1,enableUserSelectHack:!0,enableTransformFix:!1,offsetParent:void 0,grid:void 0,start:()=>{},move:()=>{},stop:()=>{},mouseDown:()=>{},position:void 0,currentPosition:{x:NaN,y:NaN},positionOffset:void 0,scale:1,axis:"both",defaultClassNameDragging:"revue-draggable-dragging",defaultClassNameDragged:"revue-draggable-dragged",defaultClassName:"revue-draggable",defaultPosition:{x:0,y:0},bounds:!1,dragging:!1,dragged:!1,prevPropsPosition:{x:0,y:0},isElementSVG:!1,update:!0},e));return()=>t};const Is={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ls=Is.mouse;const Ys=(e,t)=>{const n=Object(i["ref"])(),o=ts(t)?t():zs(t)(),r=Object(i["reactive"])({x:NaN,y:NaN}),a=Yl(),l=Yl(),s=Yl();return Object(i["effectScope"])().run(()=>{Object(i["watch"])(()=>o,e=>{e.position&&!e.dragging&&(r.x=NaN,r.y=NaN)});const t=e=>{var t;const i=Zl(n);if(!o.allowAnyClick&&"button"in e&&0!==e.button)return!1;if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("No ref element found on DragStart!");const{ownerDocument:l}=i;if(o.disabled||!(l.defaultView&&null!==e.target&&e.target instanceof l.defaultView.Node)||o.handle&&!hs(e.target,o.handle,i)||o.cancel&&hs(e.target,o.cancel,i))return;"touchstart"===e.type&&e.preventDefault(),o.touch=vs(e);const s=Vs({e:e,touch:o.touch,node:i,offsetContainer:o.offsetParent,scale:o.scale});if(null==s)return;const{x:d,y:h}=s,p=Ds({node:i,x:d,y:h,lastX:r.x,lastY:r.y});Cs("DraggableCore: handleDragStart: %j",p);const f=null==(t=o.start)?void 0:t.call(o,e,p);if(a.trigger({event:e,data:p}),!1===(f||o.update))return!1;o.enableUserSelectHack&&_s(l),o.dragging=!0,r.x=d,r.y=h,ps(l,Ls.move,c),ps(l,Ls.stop,u)},c=e=>{var t;const i=Zl(n);if(i){const n=Vs({e:e,touch:o.touch,node:i,offsetContainer:o.offsetParent,scale:o.scale});if(null==n)return;let{x:s,y:c}=n;const d=o.grid;if(d&&Array.isArray(d)){let e=s-r.x,t=c-r.y;if([e,t]=Ps(d,e,t),!e&&!t)return;s=r.x+e,c=r.y+t}const h=Ds({node:i,x:s,y:c,lastX:r.x,lastY:r.y});Cs("DraggableCore: handleDrag: %j",h);const p=null==(t=o.move)?void 0:t.call(o,e,h);if(l.trigger({event:e,data:h}),!1===(p||o.update)){try{u(new MouseEvent("mouseup"))}catch(a){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),u(e)}return}r.x=s,r.y=c}},u=e=>{var t;const i=Zl(n);if(o.dragging&&i){const n=Vs({e:e,touch:o.touch,node:i,offsetContainer:o.offsetParent,scale:o.scale});if(null==n)return;const{x:a,y:l}=n,d=Ds({node:i,x:a,y:l,lastX:r.x,lastY:r.y}),h=null==(t=o.stop)?void 0:t.call(o,e,d);if(s.trigger({event:e,data:d}),!1===(h||o.update))return!1;o.enableUserSelectHack&&Es(i.ownerDocument),Cs("DraggableCore: handleDragStop: %j",d),o.dragging=!1,Cs("DraggableCore: Removing handlers"),fs(i.ownerDocument,Ls.move,c),fs(i.ownerDocument,Ls.stop,u)}},d=e=>{var n;if(Ls=Is.mouse,null==(n=o.mouseDown)||n.call(o,e),3!=e.which)return t(e)},h=e=>(Ls=Is.mouse,u(e)),p=e=>(Ls=Is.touch,t(e)),f=e=>(Ls=Is.touch,u(e));Ul(()=>{n.value=Wl(e),n?(ql(Zl(n),Is.touch.start,p,{passive:!1}),ql(Zl(n),Is.touch.stop,f),ql(Zl(n),Is.mouse.start,d),ql(Zl(n),Is.mouse.stop,h)):console.error("You are trying to use <DraggableCore> without passing a valid node reference. Canceling initialization.")})}),Ll(Il({},Object(i["toRefs"])(o)),{state:o,onDragStart:a.on,onDrag:l.on,onDragStop:s.on})},Xs=(e,t)=>{const n=Object(i["ref"])(),o=zs(t),r=o(),a=Yl(),l=Yl(),s=Yl(),c=Yl();return Object(i["effectScope"])().run(()=>{const t=(e,t)=>{var n;Cs("Draggable: onDragStart: %j",t);const o=$s(Il({data:t},r.currentPosition)),i=null==(n=r.start)?void 0:n.call(r,e,o);if(a.trigger({event:e,data:o}),!1===(i||r.update))return!1;r.dragging=!0,r.dragged=!0},u=(e,t)=>{var n;if(!r.dragging)return!1;Cs("Draggable: onDrag: %j",t);const o=$s(Il({data:t},r.currentPosition)),i={x:o.x,y:o.y};if(r.bounds){const[e,n]=Bs({bounds:r.bounds,x:i.x,y:i.y,node:t.node});i.x=e,i.y=n,o.x=i.x,o.y=i.y,o.deltaX=i.x-r.currentPosition.x,o.deltaY=i.y-r.currentPosition.y}const a=null==(n=r.move)?void 0:n.call(r,e,o);if(l.trigger({event:e,data:o}),!1===(a||r.update))return!1;r.currentPosition=i,g()},d=(e,t)=>{var n;if(!r.dragging)return!1;const o=$s(Il({data:t},r.currentPosition)),i=null==(n=r.stop)?void 0:n.call(r,e,o);if(s.trigger({event:e,data:o}),!1===(i||r.update))return!1;Cs("Draggable: onDragStop: %j",t),r.enableTransformFix&&h(),r.dragging=!1},h=()=>{var e,t;const o=Zl(n);if(!o)return;o.style.transform="",o.style.left="",o.style.top="",o.style.position="relative";const{x:i,y:a}=f.value;o.style.left=Math.round(is(null==(e=r.positionOffset)?void 0:e.x)||0)+Math.round(Number(i))+"px",o.style.top=Math.round(is(null==(t=r.positionOffset)?void 0:t.y)||0)+Math.round(Number(a))+"px"},p=()=>{const e=Zl(n);!e||(e.style.transform="",e.style.position="",e.style.left="",e.style.top="")},f=Object(i["computed"])(()=>{const e=Boolean(r.position)||r.dragging,t=r.position||r.defaultPosition;return{x:As(r.axis)&&Zl(e)?r.currentPosition.x:Zl(t).x,y:Ms(r.axis)&&Zl(e)?r.currentPosition.y:Zl(t).y}}),g=(e=!1)=>{const t=Zl(n);if(t&&(e||r.update&&r.dragging)){r.enableTransformFix&&p();const e=r.positionOffset,o=r.isElementSVG,i=!o&&js(Zl(f),e)||!1,a=o&&xs(Zl(f),e)||!1;if("string"==typeof a&&t.setAttribute("transform",a),i)for(const n of Object.keys(i))"transform"===n&&(i[n]+=(""+t.style[n]).replace(/translate\((-?\d+?.{0,2},? ?)+\)+/gm,"").trim()),t.style[n]=i[n];const l={el:Zl(n),style:i,transform:a,classes:m.value};c.trigger(l)}},m=Object(i["computed"])(()=>({[r.defaultClassName]:!r.disabled,[r.defaultClassNameDragging]:r.dragging,[r.defaultClassNameDragged]:r.dragged})),b=()=>Object.keys(Zl(m)).forEach(e=>{var t,o;Zl(m)[e]?null==(t=Zl(n))||t.classList.toggle(e,!0):null==(o=Zl(n))||o.classList.toggle(e,!1)});Object(i["watch"])(m,b);const{onDragStart:v,onDrag:y,onDragStop:w}=Ys(e,o);y(({event:e,data:t})=>u(e,t)),v(({event:e,data:n})=>t(e,n)),w(({event:e,data:t})=>d(e,t));const O=(e=!1)=>{const t=r.position;Cs("Draggable: Updated %j",{position:r.currentPosition,prevPropsPosition:r.prevPropsPosition}),t&&(r.currentPosition=t,r.prevPropsPosition=Il({},t)),r.enableTransformFix?h():g(e)};Gl(()=>{r.dragging=!1}),Ul(()=>{var t;if(n.value=Wl(e),!n)return void console.error("You are trying to use <Draggable> without passing a valid target reference.");let o=0,a=0;const l=r.position,s=r.defaultPosition,c=null==(t=Zl(n))?void 0:t.style;l&&"undefined"!=typeof l.x?o=l.x:s&&"undefined"!=typeof s.x?o=s.x:c&&c.top&&(o=is(c.top)),l&&"undefined"!=typeof l.y?a=l.y:s&&"undefined"!=typeof s.y?a=s.y:c&&c.left&&(a=is(c.left)),r.currentPosition={x:o,y:a},b(),O(!0),Object(i["watch"])(()=>r.position,e=>{let t=!1;((null==e?void 0:e.x)!==r.currentPosition.x||e.y!==r.currentPosition.y)&&(t=!0),O(t)})})}),Ll(Il({},Object(i["toRefs"])(r)),{state:r,onDragStart:a.on,onDrag:l.on,onDragStop:s.on,onTransformed:c.on})};Object(i["defineComponent"])({name:"Draggable",props:{axis:{type:String,default:"both"},bounds:{type:[Object,String,Boolean],default:!1},defaultClassName:{type:String,default:"revue-draggable"},defaultClassNameDragging:{type:String,default:"revue-draggable-dragging"},defaultClassNameDragged:{type:String,default:"revue-draggable-dragged"},defaultPosition:{type:Object,default:()=>({x:0,y:0})},scale:{type:Number,default:1},position:{type:Object,default:void 0},positionOffset:{type:Object,default:void 0},allowAnyClick:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},enableUserSelectHack:{type:Boolean,default:!0},enableTransformFix:{type:[Boolean,Object],default:!1},cancel:{type:String,default:void 0},offsetParent:{type:Object,default:()=>{}},grid:{type:Array,default:void 0},handle:{type:String,default:void 0},update:{type:Boolean,default:!0},start:{type:Function,default:()=>{}},move:{type:Function,default:()=>{}},stop:{type:Function,default:()=>{}},mouseDown:{type:Function,default:()=>{}}},emits:["move","start","stop","transformed"],setup(e,{slots:t,emit:n,attrs:o}){const r=Kl("target",null),{onDrag:a,onDragStart:l,onDragStop:s,onTransformed:c,state:u}=Xs(r,e);return a(e=>n("move",e)),l(e=>n("start",e)),s(e=>n("stop",e)),c(e=>n("transformed",e)),Object(i["watch"])(()=>e,e=>Object.assign(u,e),{deep:!0,flush:"post"}),()=>{if(t.default)return Object(i["h"])(t.default({state:u})[0],Il({ref:"target"},o),{})}}}),Object(i["defineComponent"])({name:"DraggableCore",props:{scale:{type:Number,default:1},allowAnyClick:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},enableUserSelectHack:{type:Boolean,default:!0},cancel:{type:String,default:void 0},offsetParent:{type:Object,default:void 0},grid:{type:Array,default:void 0},handle:{type:String,default:void 0},onStart:{type:Function,default:()=>{}},onMove:{type:Function,default:()=>{}},onStop:{type:Function,default:()=>{}},onMouseDown:{type:Function,default:()=>{}}},emits:["start","move","stop"],setup(e,{slots:t,emit:n,attrs:o}){const r=Kl("core-target",null),{onDrag:a,onDragStart:l,onDragStop:s,state:c}=Ys(r,e);return a(e=>n("move",e)),l(e=>n("start",e)),s(e=>n("stop",e)),Object(i["watch"])(()=>e,e=>Object.assign(c,e),{deep:!0,flush:"post"}),()=>{if(t.default)return Object(i["h"])(t.default()[0],Il({ref:"core-target"},o),{})}}});const Fs=e=>"nodeName"in e,Hs=e=>{const t=e.target;return!(!t||!Fs(t))&&(["INPUT","SELECT","TEXTAREA","BUTTON"].includes(t.nodeName)||t.hasAttribute("contentEditable"))},Rs=e=>({width:e.offsetWidth,height:e.offsetHeight}),Zs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Us=(e,t)=>({x:Zs(e.x,t[0][0],t[1][0]),y:Zs(e.y,t[0][1],t[1][1])}),Gs=e=>{const t=e.getRootNode(),n=ou();return"getElementFromPoint"in t?t:n.document},Ws=e=>"id"in e&&"source"in e&&"target"in e,Qs=e=>Ws(e)&&"sourceNode"in e&&"targetNode"in e,qs=e=>"id"in e&&!Ws(e),Ks=e=>qs(e)&&"computedPosition"in e,Js=(e,t,n)=>{var o;let i=n;return Ks(e)||(i=h({type:null!=(o=e.type)?o:"default",dimensions:{width:0,height:0},handleBounds:{source:[],target:[]},computedPosition:{z:0,x:0,y:0},dragging:!1,draggable:void 0,selectable:void 0,connectable:void 0},n)),p(h(h({},i),e),{id:e.id.toString()})},ec=(e,t)=>{var n;return t=Qs(e)?t:h({sourceHandle:e.sourceHandle?e.sourceHandle.toString():void 0,targetHandle:e.targetHandle?e.targetHandle.toString():void 0,type:null!=(n=e.type)?n:"default",source:e.source.toString(),target:e.target.toString(),z:0,sourceX:0,sourceY:0,targetX:0,targetY:0,updatable:void 0,selectable:void 0,data:void 0},t),p(h(h({},t),e),{id:e.id.toString()})},tc=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`vueflow__edge-${e}${null!=t?t:""}-${n}${null!=o?o:""}`,nc=(e,t)=>t.some(t=>Ws(t)&&t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),oc=({x:e,y:t},{x:n,y:o,zoom:i},r,[a,l])=>{const s={x:(e-n)/i,y:(t-o)/i};return r?{x:a*Math.round(s.x/a),y:l*Math.round(s.y/l)}:s},ic=e=>t=>oc(t,e.viewport,e.snapToGrid,e.snapGrid),rc=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ac=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),lc=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),sc=(e,t)=>lc(rc(ac(e),ac(t))),cc=e=>{const t=e.reduce((e,{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0}}={})=>rc(e,ac(h(h({},t),n))),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return lc(t)},uc=(e,t,{x:n,y:o,zoom:i}={x:0,y:0,zoom:1},r=!1)=>{const a=ac({x:(t.x-n)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i});return e.filter(e=>{if(!e||!1===e.selectable)return!1;const{computedPosition:t={x:0,y:0},dimensions:n={width:0,height:0},dragging:o=!1}=e,i=ac(h(h({},t),n)),l=Math.max(0,Math.min(a.x2,i.x2)-Math.max(a.x,i.x)),s=Math.max(0,Math.min(a.y2,i.y2)-Math.max(a.y,i.y)),c=Math.ceil(l*s),u="undefined"==typeof n.width||"undefined"==typeof n.height||0===n.width||0===n.height||o,d=r&&c>0,p=n.width*n.height;return u||d||c>=p})},dc=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},hc=e=>()=>e.nodes,pc=e=>()=>e.edges,fc=e=>()=>[...e.nodes,...e.edges],gc=e=>()=>JSON.parse(JSON.stringify({nodes:e.nodes,edges:e.edges,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom})),mc=(e,t,n,o,i,r=.1,a={x:0,y:0})=>{var l,s;const c=t/(e.width*(1+r)),u=n/(e.height*(1+r)),d=Math.min(c,u),h=Zs(d,o,i),p=e.x+e.width/2,f=e.y+e.height/2,g=t/2-p*h+(null!=(l=a.x)?l:0),m=n/2-f*h+(null!=(s=a.y)?s:0);return{x:g,y:m,zoom:h}},bc=(e,t)=>({x:t.x+e.x,y:t.y+e.y,z:e.z>t.z?e.z:t.z}),vc=(e,t)=>{if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||vc(n,t))},yc=e=>"undefined"==typeof e?"":"string"==typeof e?e:Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&"),wc=(e,t,n)=>{var o,i,r,a;const l=(null!=(o=null==n?void 0:n.x)?o:0)+t.x,s=(null!=(i=null==n?void 0:n.y)?i:0)+t.y,c=null!=(r=null==n?void 0:n.width)?r:t.width,u=null!=(a=null==n?void 0:n.height)?a:t.height;switch(e){case ea.Top:return{x:l+c/2,y:s};case ea.Right:return{x:l+c,y:s+u/2};case ea.Bottom:return{x:l+c/2,y:s+u};case ea.Left:return{x:l,y:s+u/2}}},Oc=(e=[],t)=>{if(!e.length)return;let n;return t||1!==e.length?t&&(n=e.find(e=>e.id===t)):n=e[0],n||e[0]},jc=(e,t,n,o,i,r)=>{const a=wc(n,h(h({},e.dimensions),e.computedPosition),t),l=wc(r,h(h({},o.dimensions),o.computedPosition),i);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function xc({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:r,width:a,height:l,viewport:s}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+r)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=ac({x:(0-s.x)/s.zoom,y:(0-s.y)/s.zoom,width:a/s.zoom,height:l/s.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),h=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*h)>0}const kc=(e,t)=>{let n=-1;const o=e.reduce((e,o)=>{const i=t(o.source),r=t(o.target);if(!i||!r)return e;const a=o.z?o.z:Math.max(i.computedPosition.z||0,r.computedPosition.z||0);return e[a]?e[a].push(o):e[a]=[o],n=a>n?a:n,e},{});return Object.entries(Object.keys(o).length?o:{0:[]}).map(([e,t])=>{const o=+e;return{edges:t,level:o,isMaxLevel:o===n}})},_c=(e,t,n,o)=>{const i=t.querySelectorAll(e);return i&&i.length?Array.from(i).map(e=>{var t;const i=e.getBoundingClientRect(),r=Rs(e),a=null!=(t=e.getAttribute("data-handleid"))?t:void 0,l=e.getAttribute("data-handlepos");return h({id:a,position:l,x:(i.left-n.left)/o,y:(i.top-n.top)/o},r)}):null},Ec=(e,t,n)=>{var o,i;const r=e.getBoundingClientRect();return{source:null!=(o=_c(".source"+(n?".vue-flow__handle-"+n:""),e,r,t))?o:void 0,target:null!=(i=_c(".target"+(n?".vue-flow__handle-"+n:""),e,r,t))?i:void 0}};function Sc(e,t){const n=e.parentNode?t.find(t=>t.id===e.parentNode):void 0;if(n){const t=e.position.x+e.dimensions.width-n.dimensions.width,o=e.position.y+e.dimensions.height-n.dimensions.height;if(t>0||o>0||e.position.x<0||e.position.y<0){if(n.style=h({},n.style),t>0)if(n.style.width||(n.style.width=n.dimensions.width),"string"==typeof n.style.width){const e=parseInt(n.style.width,10);n.style.width=e+t+"px"}else n.style.width+=t;if(o>0)if(n.style.height||(n.style.height=n.dimensions.height),"string"==typeof n.style.height){const e=parseInt(n.style.height,10);n.style.height=e+o+"px"}else n.style.height+=o;if(e.position.x<0){const t=Math.abs(e.position.x);if(n.position.x=n.position.x-t,"string"==typeof n.style.width){const e=parseInt(n.style.width,10);n.style.width=e+t+"px"}else n.style.width+=t;e.position.x=0}if(e.position.y<0){const t=Math.abs(e.position.y);if(n.position.y=n.position.y-t,"string"==typeof n.style.height){const e=parseInt(n.style.height,10);n.style.height=e+t+"px"}else n.style.height+=t;e.position.y=0}n.dimensions.width="string"==typeof n.style.width?parseInt(n.style.width,10):n.style.width,n.dimensions.height="string"==typeof n.style.height?parseInt(n.style.height,10):n.style.height}}}const Nc=(e,t,n)=>{let o=t.map(e=>e.id);return e.forEach(e=>{"add"===e.type&&(n?n([e.item]):t.push(e.item));const i=o.indexOf(e.id),r=t[i];switch(e.type){case"select":(Ks(r)||Qs(r))&&(r.selected=e.selected);break;case"position":Ks(r)&&("undefined"!=typeof e.position&&(r.position=e.position),"undefined"!=typeof e.dragging&&(r.dragging=e.dragging),r.expandParent&&r.parentNode&&Sc(r,t));break;case"dimensions":Ks(r)&&("undefined"!=typeof e.dimensions&&(r.dimensions=e.dimensions),r.expandParent&&r.parentNode&&Sc(r,t));break;case"remove":t.splice(i,1),o=t.map(e=>e.id);break}}),t},Cc=(e,t)=>({id:e,type:"select",selected:t}),Bc=({node:e,diff:t,dragging:n,nodeExtent:o},i)=>{const r=e.parentNode?i.find(t=>t.id===e.parentNode):void 0,a={id:e.id,type:"position",dragging:!!n};if(t){const n={x:e.position.x+t.x,y:e.position.y+t.y};let i="parent"===e.extent||"undefined"==typeof e.extent?o:e.extent;"parent"===e.extent&&r&&e.dimensions.width&&e.dimensions.height&&(i=r.dimensions.width&&r.dimensions.height?[[0,0],[r.dimensions.width-e.dimensions.width,r.dimensions.height-e.dimensions.height]]:i),a.position=i?Us(n,i):n}return a},Pc=(e,t,n)=>{const o=e.parentNode?n(e.parentNode):void 0;return!(!e.parentNode||!o)&&(!!t.includes(e.parentNode)||Pc(o,t,n))},Ac=(e,t,n)=>e.reduce((e,o)=>{const i=t.includes(o.id)||!!(Ks(o)&&o.parentNode&&Pc(o,t,n));return!o.selected&&i?e.push(Cc(o.id,!0)):o.selected&&!i&&e.push(Cc(o.id,!1)),e},[]),Mc={name:"NodesSelection"},Vc=Object(i["defineComponent"])(p(h({},Mc),{setup(e){const{store:t}=Jc(),n=Oe("el",null),o=Object(i["computed"])(()=>cc(t.getSelectedNodes)),r=Object(i["computed"])(()=>({width:o.value.width+"px",height:o.value.height+"px",top:o.value.y+"px",left:o.value.x+"px"})),a=Object(i["computed"])(()=>`translate(${t.viewport.x}px,${t.viewport.y}px) scale(${t.viewport.zoom})`);Object(i["watch"])(o,e=>t.selectedNodesBbox=e);const l=e=>t.hooks.selectionContextMenu.trigger({event:e,nodes:t.getSelectedNodes}),{onDragStart:s,onDrag:c,onDragStop:u,scale:d}=Ys(n,{grid:t.snapToGrid?t.snapGrid:void 0,enableUserSelectHack:!1,scale:t.viewport.zoom});return Object(i["onMounted"])(()=>{Z(()=>t.viewport.zoom,()=>{d.value=t.viewport.zoom},{debounce:5})}),s(({event:e})=>t.hooks.selectionDragStart.trigger({event:e,nodes:t.getSelectedNodes})),c(({event:e,data:{deltaX:n,deltaY:o}})=>{t.hooks.selectionDrag.trigger({event:e,nodes:t.getSelectedNodes}),t.updateNodePosition({diff:{x:n,y:o},dragging:!0})}),u(({event:e})=>{t.hooks.selectionDragStop.trigger({event:e,nodes:t.getSelectedNodes}),t.getSelectedNodes.forEach(e=>e.dragging=!1)}),(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["vue-flow__nodesselection vue-flow__container",Object(i["unref"])(t).noPanClassName]),style:Object(i["normalizeStyle"])({transform:Object(i["unref"])(a)})},[Object(i["createElementVNode"])("div",{ref_key:"el",ref:n,class:"vue-flow__nodesselection-rect",style:Object(i["normalizeStyle"])(Object(i["unref"])(r)),onContextmenu:l},null,36)],6))}})),Dc={name:"SelectionRect"},$c=Object(i["defineComponent"])(p(h({},Dc),{props:{width:null,height:null,x:null,y:null},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"vue-flow__selection",style:Object(i["normalizeStyle"])({width:t.width+"px",height:t.height+"px",transform:`translate(${t.x}px, ${t.y}px)`})},null,4))}}));function Tc(e){const t=e.target.closest(".vue-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const zc={ref:"user-selection",class:"vue-flow__selectionpane vue-flow__container"},Ic={name:"UserSelection"},Lc=Object(i["defineComponent"])(p(h({},Ic),{setup(e){const{store:t}=Jc(),n=Oe("user-selection",null),o=Object(i["ref"])(0),r=Object(i["ref"])(0),a=()=>({width:0,height:0,startX:0,startY:0,x:0,y:0,draw:!1}),l=Object(i["ref"])(a()),s=()=>{l.value=a(),t.userSelectionActive=!1,o.value=0,r.value=0},c=e=>{const n=Tc(e);!n||(l.value={width:0,height:0,startX:n.x,startY:n.y,x:n.x,y:n.y,draw:!0},t.userSelectionActive=!0,t.nodesSelectionActive=!1)},u=e=>{if(!t.userSelectionActive||!l.value.draw)return;const n=Tc(e);if(!n)return;const i=l.value.startX,a=l.value.startY,s=p(h({},l.value),{x:n.x<i?n.x:l.value.x,y:n.y<a?n.y:l.value.y,width:Math.abs(n.x-i),height:Math.abs(n.y-a)}),c=uc(t.getNodes,l.value,t.viewport),u=dc(c,t.getEdges);l.value=s,t.addSelectedNodes(c),t.addSelectedEdges(u),o.value=c.length,r.value=u.length},d=()=>{t.nodesSelectionActive=o.value>0,l.value=a(),t.userSelectionActive=!1},f=()=>{t.nodesSelectionActive=!1,s()};return Object(i["onMounted"])(()=>{ae(n,"mousedown",c),ae(n,"mousemove",u),ae(n,"click",d),ae(n,"mouseup",d),ae(n,"mouseleave",f)}),Object(i["onBeforeUnmount"])(()=>{s()}),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",zc,[l.value.draw?(Object(i["openBlock"])(),Object(i["createBlock"])($c,{key:0,width:l.value.width,height:l.value.height,x:l.value.x,y:l.value.y},null,8,["width","height","x","y"])):Object(i["createCommentVNode"])("",!0)],512))}})),Yc={input:Ma,default:Ca,output:Ta},Xc={default:hl,straight:kl,step:Ol,smoothstep:vl,simplebezier:gl},Fc=e=>"undefined"!=typeof e,Hc=()=>({nodes:[],edges:[],nodeTypes:{},edgeTypes:{},initialized:!1,instance:null,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:ra.Free,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultZoom:1,defaultPosition:[0,0],nodesSelectionActive:!1,userSelectionActive:!1,selectedNodesBbox:{x:0,y:0,width:0,height:0},defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:na.Bezier,connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN},connectionMode:oa.Loose,connectionStartHandle:null,connectOnClick:!0,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,nodesConnectable:!0,nodesDraggable:!0,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:"Meta",zoomActivationKeyCode:"Meta",deleteKeyCode:"Backspace",hooks:ya(),applyDefault:!0,fitViewOnInit:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,vueFlowVersion:"0.4.6"});var Rc=e=>{const t=Hc();return e&&Object.keys(e).forEach(n=>{const o=e[n];Fc(o)&&(t[n]=o)}),t},Zc=e=>{const t=Object(i["computed"])(()=>e.nodes.map(e=>e.id)),n=Object(i["computed"])(()=>e.edges.map(e=>e.id)),o=Object(i["computed"])(()=>n=>e.nodes[t.value.indexOf(n)]),r=Object(i["computed"])(()=>t=>e.edges[n.value.indexOf(t)]),a=Object(i["computed"])(()=>{var t;const n=h(h({},Xc),e.edgeTypes),o=Object.keys(n);return null==(t=e.edges)||t.forEach(e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type)),n}),l=Object(i["computed"])(()=>{var t;const n=h(h({},Yc),e.nodeTypes),o=Object.keys(n);return null==(t=e.nodes)||t.forEach(e=>e.type&&!o.includes(e.type)&&(n[e.type]=e.type)),n}),s=Object(i["computed"])(()=>{const t=e.nodes.filter(e=>!e.hidden);return e.onlyRenderVisibleElements?t&&uc(t,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):null!=t?t:[]}),c=t=>{const n=o.value(t.source),i=o.value(t.target);return n&&i?!t.hidden&&i&&!i.hidden&&n&&!n.hidden&&n.dimensions.width&&n.dimensions.height&&i.dimensions.width&&i.dimensions.height:(console.warn(`[vue-flow]: Orphaned edge ${t.id} will be removed.`),e.edges.splice(e.edges.indexOf(t),1),!0)},u=Object(i["computed"])(()=>e.onlyRenderVisibleElements?e.edges.filter(t=>{const n=o.value(t.source),i=o.value(t.target);return c(t)&&xc({sourcePos:n.computedPosition||{x:0,y:0},targetPos:i.computedPosition||{x:0,y:0},sourceWidth:n.dimensions.width,sourceHeight:n.dimensions.height,targetWidth:i.dimensions.width,targetHeight:i.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})}):e.edges.filter(c)),d=Object(i["computed"])(()=>e.nodes.filter(e=>e.selected)),p=Object(i["computed"])(()=>e.edges.filter(e=>e.selected)),f=Object(i["computed"])(()=>{var e,t;return[...null!=(e=d.value)?e:[],...null!=(t=p.value)?t:[]]});return{getNode:o,getEdge:r,getEdgeTypes:a,getNodeTypes:l,getEdges:u,getNodes:s,getSelectedElements:f,getSelectedNodes:d,getSelectedEdges:p}};const Uc=e=>"undefined"!=typeof e,Gc=(e,t)=>{if(!e.source||!e.target)return console.warn("[vueflow]: Can't create edge. An edge needs a source and a target."),!1;let n;return n=Ws(e)?h({},e):p(h({},e),{id:tc(e)}),n=ec(n),!nc(n,t)&&n},Wc=(e,t,n,o)=>{if(!t.source||!t.target)return console.warn("[vueflow]: Can't create new edge. An edge needs a source and a target."),!1;if(!n.find(t=>Qs(t)&&t.id===e.id))return console.warn(`[vueflow]: The old edge with id=${e.id} does not exist.`),!1;n.splice(n.indexOf(e),1);const i=p(h({},e),{id:tc(t),source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle});return o([i]),i},Qc=(e,t,n,o)=>{const i={},r=e.map(e=>{const n=Js(e,o,p(h({},t(e.id)),{parentNode:e.parentNode}));return e.parentNode&&(i[e.parentNode]=!0),n});return r.forEach(e=>{const o=[...r,...n];if(e.parentNode&&!o.find(t=>t.id===e.parentNode)&&console.warn(`[vueflow]: Parent node ${e.parentNode} not found`),e.parentNode||i[e.id]){i[e.id]&&(e.isParent=!0);const n=e.parentNode?t(e.parentNode):void 0;n&&(n.isParent=!0)}}),r};var qc=(e,t)=>{const n=({id:n,diff:o={x:0,y:0},dragging:i})=>{new Promise(r=>{const a=[];e.nodes.forEach(r=>{r.selected?r.parentNode&&vc(r,t.getNode.value)||a.push(Bc({node:r,diff:o,nodeExtent:e.nodeExtent,dragging:i},e.nodes)):r.id===n&&a.push(Bc({node:r,diff:o,nodeExtent:e.nodeExtent,dragging:i},e.nodes))}),a.length&&r(a)}).then(t=>{e.hooks.nodesChange.trigger(t)})},o=n=>{const o=n.reduce((n,o)=>{const i=t.getNode.value(o.id);if(i){const t=Rs(o.nodeElement),r=!(!t.width||!t.height||i.dimensions.width===t.width&&i.dimensions.height===t.height&&!o.forceUpdate);i.handleBounds=Ec(o.nodeElement,e.viewport.zoom),r&&(i.dimensions=t,n.push({id:i.id,type:"dimensions",dimensions:t}))}return n},[]);o.length&&e.hooks.nodesChange.trigger(o)},i=n=>{const o=n.map(e=>e.id);let i;i=e.multiSelectionActive?o.map(e=>Cc(e,!0)):Ac(e.nodes,o,t.getNode.value),i.length&&e.hooks.nodesChange.trigger(i)},r=n=>{const o=n.map(e=>e.id);let i;i=e.multiSelectionActive?o.map(e=>Cc(e,!0)):Ac(e.edges,o,t.getNode.value),i.length&&e.hooks.edgesChange.trigger(i)},a=e=>{i(e.filter(Ks)),r(e.filter(Qs))},l=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([t,e.maxZoom]),e.minZoom=t},s=t=>{var n;null==(n=e.d3Zoom)||n.scaleExtent([e.minZoom,t]),e.maxZoom=t},c=t=>{var n;null==(n=e.d3Zoom)||n.translateExtent(t),e.translateExtent=t},u=()=>{i([]),r([])},d=t=>{e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t},f=(n,o)=>{if(!e.initialized&&!n.length)return;e.nodes||(e.nodes=[]);const i=n instanceof Function?n(e.nodes):n;e.nodes=Qc(i,t.getNode.value,e.nodes,null!=o?o:e.nodeExtent)},g=n=>{if(!e.initialized&&!n.length)return;const o=n instanceof Function?n(e.edges):n;e.edges=o.reduce((n,o)=>{const i=t.getNode.value(o.source),r=t.getNode.value(o.target),a=!i||"undefined"==typeof i,l=!r||"undefined"==typeof r;if(a&&console.warn(`[vueflow]: Couldn't create edge for source id: ${o.source}; edge id: ${o.id}`),l&&console.warn(`[vueflow]: Couldn't create edge for target id: ${o.target}; edge id: ${o.id}`),a||l)return n;const s=t.getEdge.value(o.id);return n.push(p(h({},ec(o,h(h({},e.defaultEdgeOptions),s))),{sourceNode:i,targetNode:r})),n},[])},m=(t,n)=>{if(!e.initialized&&!t.length||!t)return;const o=t instanceof Function?t([...e.nodes,...e.edges]):t;f(o.filter(qs),n),g(o.filter(Ws))},b=(n,o)=>{const i=n instanceof Function?n(e.nodes):n;e.nodes.push(...Qc(i,t.getNode.value,e.nodes,null!=o?o:e.nodeExtent))},v=n=>{(n instanceof Function?n(e.edges):n).forEach(n=>{const o=Gc(n,e.edges);if(o){const n=t.getNode.value(o.source),i=t.getNode.value(o.target),r=!n||"undefined"==typeof n,a=!i||"undefined"==typeof i;if(r&&console.warn(`[vueflow]: Couldn't create edge for source id: ${o.source}; edge id: ${o.id}`),a&&console.warn(`[vueflow]: Couldn't create edge for target id: ${o.target}; edge id: ${o.id}`),a||r)return;e.edges.push(p(h(h({},e.defaultEdgeOptions),o),{sourceNode:n,targetNode:i}))}})},y=(t,n)=>Wc(t,n,e.edges,v),w=t=>Nc(t,e.nodes,b),O=t=>Nc(t,e.edges,v),j=t=>{var n,o;const i=["modelValue","nodes","edges","maxZoom","minZoom","translateExtent"],r=t instanceof Function?t(e):t;"undefined"!=typeof r.modelValue&&m(r.modelValue,null!=(n=r.nodeExtent)?n:e.nodeExtent),"undefined"!=typeof r.nodes&&f(r.nodes,null!=(o=r.nodeExtent)?o:e.nodeExtent),"undefined"!=typeof r.edges&&g(r.edges),Object.keys(r).forEach(t=>{const n=r[t];!i.includes(t)&&Uc(n)&&(e[t]=n)}),e.d3Zoom?("undefined"!=typeof r.maxZoom&&s(r.maxZoom),"undefined"!=typeof r.minZoom&&l(r.minZoom),"undefined"!=typeof r.translateExtent&&c(r.translateExtent)):B(()=>e.d3Zoom).not.toBeUndefined().then(()=>{"undefined"!=typeof r.maxZoom&&s(r.maxZoom),"undefined"!=typeof r.minZoom&&l(r.minZoom),"undefined"!=typeof r.translateExtent&&c(r.translateExtent)}),e.initialized||(e.initialized=!0)};return{updateNodePosition:n,updateNodeDimensions:o,setElements:m,setNodes:f,setEdges:g,addNodes:b,addEdges:v,updateEdge:y,applyEdgeChanges:O,applyNodeChanges:w,addSelectedElements:a,addSelectedNodes:i,addSelectedEdges:r,setMinZoom:l,setMaxZoom:s,setTranslateExtent:c,resetSelectedElements:u,setInteractive:d,setState:j,$reset:()=>{j(Rc())}}};class Kc{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){return Kc.instance||(Kc.instance=new Kc),Kc.instance}set(e,t){this.flows.set(e,t)}get(e){return this.flows.get(e)}remove(e){this.flows.delete(e)}create(e,t){const n=Rc(t),o=Object(i["reactive"])(n),r=Zc(o),a=qc(o,r),l={};Object.entries(o.hooks).forEach(([e,t])=>{const n="on"+(e.charAt(0).toUpperCase()+e.slice(1));l[n]=t.on}),a.setState(o),t&&(t.modelValue&&a.setElements(t.modelValue),t.nodes&&a.setNodes(t.nodes),t.edges&&a.setEdges(t.edges));const s=Object(i["reactive"])(h(h(h(h({},l),Object(i["toRefs"])(o)),r),a)),c=p(h(h(h(h({},l),r),a),Object(i["toRefs"])(o)),{id:e,store:s});return this.set(e,c),c}getId(){return"vue-flow-"+this.currentId++}}var Jc=e=>{var t;const n=Kc.getInstance(),o=Object(i["getCurrentScope"])(),r=(null==o?void 0:o.vueFlowId)||(null==e?void 0:e.id);let a;if(o){const e=Object(i["inject"])(ma,null);"undefined"!=typeof e&&null!==e&&(a=e)}if(a||r&&(a=n.get(r)),!a||a&&(null==e?void 0:e.id)&&e.id!==a.id){const r=null!=(t=null==e?void 0:e.id)?t:n.getId();a=n.create(r,e),o&&(o.vueFlowId=r,Object(i["onScopeDispose"])(()=>{n.remove(r),a=null}))}else e&&a.setState(e);if(!a)throw new Error("[vueflow]: store instance not found.");return o&&Object(i["provide"])(ma,a),a};const eu=(e,t,n,o,i,r,a,l,s)=>{var c,u;const d=a.elementFromPoint(e.clientX,e.clientY),h=(null==d?void 0:d.classList.contains("target"))||!1,p=(null==d?void 0:d.classList.contains("source"))||!1,f={elementBelow:d,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(d&&(h||p)&&(f.isHoveringHandle=!0,t!==oa.Strict||(n&&p||!n&&h))){const e=null!=(c=d.getAttribute("data-nodeid"))?c:"",t=null!=(u=d.getAttribute("data-handleid"))?u:"",a=n?e:o,h=n?t:i,p=n?o:e,g={source:a,sourceHandle:h,target:p,targetHandle:n?i:t};f.connection=g,f.isValid=r(g,{edges:l,sourceNode:s(a),targetNode:s(p)})||!f.connection.target||!f.connection.source}return f},tu=e=>{null==e||e.classList.remove("vue-flow__handle-valid"),null==e||e.classList.remove("vue-flow__handle-connecting")};var nu=(e=Jc().store)=>{let t;return{onMouseDown:(n,o,i,r,a,l,s,c)=>{var u;const d=n.target.closest(".vue-flow"),h=Gs(n.target);if(!h)return;let p=null!=a?a:()=>!0;const f=e.getNode(i);if(f&&!1===("undefined"==typeof f.connectable?e.nodesConnectable:f.connectable))return;a||f&&(p=null!=(u=r?f.isValidSourcePos:f.isValidTargetPos)?u:()=>!0);const g=h.elementFromPoint(n.clientX,n.clientY),m=null==g?void 0:g.classList.contains("target"),b=null==g?void 0:g.classList.contains("source");if(!d||!m&&!b&&!l)return;const v=null!=l?l:m?"target":"source",y=d.getBoundingClientRect();function w(n){e.connectionPosition.x=n.clientX-y.left,e.connectionPosition.y=n.clientY-y.top;const{connection:a,elementBelow:l,isValid:s,isHoveringHandle:c}=eu(n,e.connectionMode,r,i,o,p,h,e.edges,e.getNode);if(!c)return tu(t);a.source!==a.target&&l&&(t=l,l.classList.add("vue-flow__handle-connecting"),l.classList.toggle("vue-flow__handle-valid",s))}function O(n){const{connection:a,isValid:u}=eu(n,e.connectionMode,r,i,o,p,h,e.edges,e.getNode);e.hooks.connectStop.trigger(n);const d=a.source===a.target;u&&!d&&(s?s(a):e.hooks.connect.trigger(a)),e.hooks.connectEnd.trigger(n),l&&(null==c||c()),tu(t),e.setState({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null,connectionPosition:{x:NaN,y:NaN}}),h.removeEventListener("mousemove",w),h.removeEventListener("mouseup",O)}e.setState({connectionPosition:{x:n.clientX-y.left,y:n.clientY-y.top},connectionNodeId:i,connectionHandleId:o,connectionHandleType:v}),e.hooks.connectStart.trigger({event:n,nodeId:i,handleId:o,handleType:v}),h.addEventListener("mousemove",w),h.addEventListener("mouseup",O)},onClick:(t,n,o,i,r)=>{var a;if(e.connectOnClick)if(e.connectionStartHandle){let n=null!=r?r:()=>!0;const l=e.getNode(o);if(l&&!1===("undefined"==typeof l.connectable?e.nodesConnectable:l.connectable))return;r||l&&(n=null!=(a="target"!==i?l.isValidTargetPos:l.isValidSourcePos)?a:()=>!0);const s=Gs(t.target),{connection:c,isValid:u}=eu(t,e.connectionMode,"target"===e.connectionStartHandle.type,e.connectionStartHandle.nodeId,e.connectionStartHandle.handleId||null,n,s,e.edges,e.getNode),d=c.source===c.target;e.hooks.connectStop.trigger(t),u&&!d&&e.hooks.connect.trigger(c),e.hooks.connectEnd.trigger(t),e.setState({connectionStartHandle:null})}else e.hooks.connectStart.trigger({event:t,nodeId:o,handleId:n,handleType:i}),e.setState({connectionStartHandle:{nodeId:o,type:i,handleId:n}})}}},ou=()=>"undefined"!=typeof window?window:{chrome:!1},iu=(e,t)=>{const n=ou(),o=N(!1,{onBeforeChange(e,t){if(e===t)return!1},onChanged(){t&&"function"==typeof t&&t(o.value)}});return ye(t=>!Hs(t)&&(t.key===e.value||t.keyCode===e.value),e=>{e.preventDefault(),o.value=!0}),ve(t=>!Hs(t)&&(t.key===e.value||t.keyCode===e.value),e=>{e.preventDefault(),o.value=!0}),we(t=>!Hs(t)&&(t.key===e.value||t.keyCode===e.value),e=>{e.preventDefault(),o.value=!1}),"undefined"!=typeof n.addEventListener&&ae(n,"blur",()=>{o.value=!1}),t&&"function"==typeof t&&t(o.value),o};const ru=.1,au=(e,t=0)=>e.transition().duration(t),lu=async e=>{const t=ou();return"screen"in t&&(await B(e.dimensions).toMatch(({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0),e.getNodes.length>0&&await B(e.getNodes).toMatch(e=>!!e.filter(({dimensions:{width:e,height:t}})=>!isNaN(e)&&e>0&&!isNaN(t)&&t>0).length)),!0};var su=(e=Jc().store)=>{const t=Object(i["ref"])(!1);e.hooks.paneReady.on(()=>t.value=!0);const n=async(n,o)=>{t.value||await lu(e),e.d3Selection&&e.d3Zoom&&e.d3Zoom.scaleTo(au(e.d3Selection,null==o?void 0:o.duration),n)},o=async(n,o)=>{t.value||await lu(e),e.d3Selection&&e.d3Zoom&&e.d3Zoom.scaleTo(au(e.d3Selection,o),n)},r=async e=>{await o(1.2,null==e?void 0:e.duration)},a=async e=>{await o(1/1.2,null==e?void 0:e.duration)},l=(t,n,o,i)=>{const{x:r,y:a}=Us({x:-t,y:-n},e.translateExtent),l=aa.translate(-r,-a).scale(o);e.d3Selection&&e.d3Zoom&&e.d3Zoom.transform(au(e.d3Selection,i),l)};return{zoomIn:r,zoomOut:a,zoomTo:n,setTransform:async(n,o)=>{t.value||await lu(e),l(n.x,n.y,n.zoom,null==o?void 0:o.duration)},getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:async(n={padding:ru,includeHiddenNodes:!1,duration:0})=>{var o,i,r;if(t.value||await lu(e),!e.getNodes.length)return;let a=[];n.nodes&&(a=e.nodes.filter(e=>{var t;return null==(t=n.nodes)?void 0:t.includes(e.id)})),(!a||!a.length)&&(a=n.includeHiddenNodes?e.nodes:e.getNodes);const s=cc(a),{x:c,y:u,zoom:d}=mc(s,e.dimensions.width,e.dimensions.height,null!=(o=n.minZoom)?o:e.minZoom,null!=(i=n.maxZoom)?i:e.maxZoom,null!=(r=n.padding)?r:ru,n.offset);l(c,u,d,null==n?void 0:n.duration)},setCenter:async(n,o,i)=>{t.value||await lu(e);const r="undefined"!=typeof(null==i?void 0:i.zoom)?i.zoom:e.maxZoom,a=e.dimensions.width/2-n*r,s=e.dimensions.height/2-o*r;l(a,s,r,null==i?void 0:i.duration)},fitBounds:async(n,o={padding:ru})=>{t.value||await lu(e);const{x:i,y:r,zoom:a}=mc(n,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding);l(i,r,a,null==o?void 0:o.duration)},project:t=>oc(t,e.viewport,e.snapToGrid,e.snapGrid)}};const cu={name:"SelectionPane",inheritAttrs:!1},uu=Object(i["defineComponent"])(p(h({},cu),{setup(e){const{id:t,store:n,deleteKeyCode:o,selectionKeyCode:r,multiSelectionKeyCode:a}=Jc(),l=e=>{n.hooks.paneClick.trigger(e),n.nodesSelectionActive=!1,n.resetSelectedElements()},s=e=>n.hooks.paneContextMenu.trigger(e),c=e=>n.hooks.paneScroll.trigger(e);iu(o,e=>{var t;const o=n.getSelectedNodes,i=n.getSelectedEdges;if(e&&(o||i)){const e=null!=(t=o&&dc(o,n.edges))?t:[],r=o.map(e=>({id:e.id,type:"remove"})),a=[...i,...e].map(e=>({id:e.id,type:"remove"}));n.hooks.nodesChange.trigger(r),n.hooks.edgesChange.trigger(a),n.nodesSelectionActive=!1,n.resetSelectedElements()}}),iu(a,e=>{n.multiSelectionActive=e});const u=iu(r,e=>{n.userSelectionActive&&e||(n.userSelectionActive=e&&n.elementsSelectable)});return(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["unref"])(u)?(Object(i["openBlock"])(),Object(i["createBlock"])(Lc,{key:"user-selection-"+Object(i["unref"])(t)})):Object(i["createCommentVNode"])("",!0),Object(i["unref"])(n).nodesSelectionActive?(Object(i["openBlock"])(),Object(i["createBlock"])(Vc,{key:"nodes-selection-"+Object(i["unref"])(t)})):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:"flow-pane-"+Object(i["unref"])(t),class:"vue-flow__pane vue-flow__container",onClick:l,onContextmenu:s,onWheel:c},null,32))],64))}})),du=["data-id"],hu={name:"Node",inheritAttrs:!1},pu=Object(i["defineComponent"])(p(h({},hu),{props:{id:null,node:null,draggable:{type:Boolean},selectable:{type:Boolean},connectable:{type:Boolean},snapGrid:null},setup(e){var t;const n=e,{store:o}=Jc(),r=Ae(n,"node");Object(i["provide"])(ba,n.id);const a=Object(i["ref"])(),l=()=>r.value.dragging&&(e=>o.hooks.nodeMouseEnter.trigger({event:e,node:r.value})),s=()=>r.value.dragging&&(e=>o.hooks.nodeMouseMove.trigger({event:e,node:r.value})),c=()=>r.value.dragging&&(e=>o.hooks.nodeMouseLeave.trigger({event:e,node:r.value})),u=()=>e=>o.hooks.nodeContextMenu.trigger({event:e,node:r.value}),d=()=>e=>o.hooks.nodeDoubleClick.trigger({event:e,node:r.value}),f=e=>{n.draggable||(n.selectable&&(o.nodesSelectionActive=!1,r.value.selected||o.addSelectedNodes([r.value])),o.hooks.nodeClick.trigger({event:e,node:r.value}))};Object(i["onMounted"])(()=>{Be(a,()=>o.updateNodeDimensions([{id:r.value.id,nodeElement:a.value,forceUpdate:!0}])),Object(i["watch"])([()=>r.value.type,()=>r.value.sourcePosition,()=>r.value.targetPosition],()=>Object(i["nextTick"])(()=>o.updateNodeDimensions([{id:r.value.id,nodeElement:a.value}]))),o.updateNodeDimensions([{id:r.value.id,nodeElement:a.value,forceUpdate:!0}])}),Object(i["watch"])([()=>r.value.position,()=>{var e;return null==(e=o.getNode(r.value.parentNode))?void 0:e.computedPosition},()=>r.value.selected,()=>{var e;return null==(e=o.getNode(r.value.parentNode))?void 0:e.selected}],([e,t])=>{const n=p(h({},e),{z:r.value.dragging||r.value.selected?1e3:0});r.value.computedPosition=t?bc(t,n):n,r.value.handleBounds=Ec(a.value,v.value)},{deep:!0}),o.updateNodePosition({id:r.value.id,diff:{x:0,y:0}});const g=Object(i["inject"])(va),m=Object(i["ref"])(null!=(t=r.value.type)?t:"default");Object(i["watch"])(()=>r.value.type,e=>e&&(m.value=e));const b=Object(i["computed"])(()=>{var e;let t=null!=(e=r.value.template)?e:o.getNodeTypes[m.value];const n=Object(i["getCurrentInstance"])();if("string"==typeof t&&n){const e=Object.keys(n.appContext.components);e&&e.includes(m.value)&&(t=Object(i["resolveComponent"])(m.value,!1))}if("string"!=typeof t)return t;const a=null==g?void 0:g["node-"+m.value];return(null==a?void 0:a({}))?a:(console.warn(`[vueflow]: Node type "${r.value.type}" not found and no node-slot detected. Using fallback type "default".`),m.value="default",o.getNodeTypes.default)}),{scale:v,onDrag:y,onDragStart:w,onDragStop:O}=Ys(a,{handle:r.value.dragHandle,disabled:!n.draggable,grid:n.snapGrid,cancel:"."+o.noDragClassName,enableUserSelectHack:!1,scale:o.viewport.zoom});Object(i["onMounted"])(()=>{Z(()=>o.viewport.zoom,()=>{v.value=o.viewport.zoom},{debounce:5})}),w(({event:e})=>{o.addSelectedNodes([]),o.hooks.nodeDragStart.trigger({event:e,node:r.value}),o.selectNodesOnDrag&&n.selectable?(o.nodesSelectionActive=!1,r.value.selected||o.addSelectedNodes([r.value])):!o.selectNodesOnDrag&&!r.value.selected&&n.selectable&&(o.nodesSelectionActive=!1,o.addSelectedNodes([]))}),y(({event:e,data:{deltaX:t,deltaY:n}})=>{o.updateNodePosition({id:r.value.id,diff:{x:t,y:n},dragging:!0}),o.hooks.nodeDrag.trigger({event:e,node:r.value})}),O(({event:e,data:{deltaX:t,deltaY:i}})=>{if(!r.value.dragging)return n.selectable&&!o.selectNodesOnDrag&&!r.value.selected&&o.addSelectedNodes([r.value]),void o.hooks.nodeClick.trigger({event:e,node:r.value});o.updateNodePosition({id:r.value.id,diff:{x:t,y:i},dragging:!1}),o.hooks.nodeDragStop.trigger({event:e,node:r.value})});const j=Object(i["computed"])(()=>{const e=r.value.class instanceof Function?r.value.class(r.value):r.value.class;return["vue-flow__node","vue-flow__node-"+m.value,o.noPanClassName,{dragging:r.value.dragging,selected:r.value.selected,selectable:n.selectable},e]}),x=Object(i["computed"])(()=>{const e=(r.value.style instanceof Function?r.value.style(r.value):r.value.style)||{},t=r.value.width instanceof Function?r.value.width(r.value):r.value.width,o=r.value.height instanceof Function?r.value.height(r.value):r.value.height;return t&&(e.width="string"==typeof t?t:t+"px"),o&&(e.height="string"==typeof o?o:o+"px"),h({zIndex:r.value.computedPosition.z,transform:`translate(${r.value.computedPosition.x}px,${r.value.computedPosition.y}px)`,pointerEvents:n.selectable||n.draggable?"all":"none"},e)});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref_key:"nodeElement",ref:a,class:Object(i["normalizeClass"])(Object(i["unref"])(j)),style:Object(i["normalizeStyle"])(Object(i["unref"])(x)),"data-id":Object(i["unref"])(r).id,onMouseenter:l,onMousemove:s,onMouseleave:c,onContextmenu:u,onClick:f,onDblclick:d},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(b)),{id:Object(i["unref"])(r).id,type:Object(i["unref"])(r).type,data:Object(i["unref"])(r).data,selected:!!Object(i["unref"])(r).selected,connectable:n.connectable,position:Object(i["unref"])(r).position,"computed-position":Object(i["unref"])(r).computedPosition,dimensions:Object(i["unref"])(r).dimensions,"is-valid-target-pos":Object(i["unref"])(r).isValidTargetPos,"is-valid-source-pos":Object(i["unref"])(r).isValidSourcePos,"parent-node":Object(i["unref"])(r).parentNode,dragging:!!Object(i["unref"])(r).dragging,"z-index":Object(i["unref"])(r).computedPosition.z,"target-position":Object(i["unref"])(r).targetPosition,"source-position":Object(i["unref"])(r).sourcePosition,label:Object(i["unref"])(r).label,"drag-handle":Object(i["unref"])(r).dragHandle,"node-element":a.value},null,8,["id","type","data","selected","connectable","position","computed-position","dimensions","is-valid-target-pos","is-valid-source-pos","parent-node","dragging","z-index","target-position","source-position","label","drag-handle","node-element"]))],46,du))}})),fu={class:"vue-flow__nodes vue-flow__container"},gu={name:"Nodes"},mu=Object(i["defineComponent"])(p(h({},gu),{setup(e){const{store:t}=Jc();return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fu,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(t).getNodes,e=>{var n;return Object(i["openBlock"])(),Object(i["createBlock"])(pu,{id:e.id,key:e.id,node:e,draggable:"undefined"==typeof e.draggable?Object(i["unref"])(t).nodesDraggable:!!e.draggable,selectable:"undefined"==typeof e.selectable?Object(i["unref"])(t).elementsSelectable:!!e.selectable,connectable:"undefined"==typeof e.connectable?Object(i["unref"])(t).nodesConnectable:!!e.connectable,"snap-grid":null!=(n=e.snapGrid)?n:Object(i["unref"])(t).snapToGrid?Object(i["unref"])(t).snapGrid:void 0},null,8,["id","node","draggable","selectable","connectable","snap-grid"])}),128))]))}})),bu={name:"Edge",inheritAttrs:!1},vu=Object(i["defineComponent"])(p(h({},bu),{props:{id:null,edge:null,sourceNode:null,targetNode:null,selectable:{type:Boolean},updatable:{type:Boolean}},setup(e){var t;const n=e,{store:o}=Jc(),r=Ae(n,"edge"),a=Object(i["ref"])(!1),{onMouseDown:l}=nu(),s=e=>{const t={event:e,edge:r.value};n.selectable&&(o.nodesSelectionActive=!1,o.addSelectedEdges([r.value])),o.hooks.edgeClick.trigger(t)},c=e=>o.hooks.edgeContextMenu.trigger({event:e,edge:r.value}),u=e=>o.hooks.edgeDoubleClick.trigger({event:e,edge:r.value}),d=e=>o.hooks.edgeMouseEnter.trigger({event:e,edge:r.value}),h=e=>o.hooks.edgeMouseMove.trigger({event:e,edge:r.value}),p=e=>o.hooks.edgeMouseLeave.trigger({event:e,edge:r.value}),f=()=>a.value=!0,g=()=>a.value=!1,m=e=>v(e,!0),b=e=>v(e,!1),v=(e,t)=>{var n;const i=t?r.value.target:r.value.source,a=null!=(n=t?r.value.targetHandle:r.value.sourceHandle)?n:"";o.hooks.edgeUpdateStart.trigger({event:e,edge:r.value}),l(e,a,i,t,void 0,t?"target":"source",e=>o.hooks.edgeUpdate.trigger({edge:r.value,connection:e}),()=>o.hooks.edgeUpdateEnd.trigger({event:e,edge:r.value}))},y=Object(i["computed"])(()=>{if(o.connectionMode===oa.Strict)return n.targetNode.handleBounds.target;const e=n.targetNode.handleBounds.target,t=n.targetNode.handleBounds.source;return null!=e?e:t}),w=Object(i["computed"])(()=>{if(o.connectionMode===oa.Strict)return n.sourceNode.handleBounds.source;const e=n.sourceNode.handleBounds.target,t=n.sourceNode.handleBounds.source;return null!=t?t:e}),O=Object(i["computed"])(()=>Oc(w.value,r.value.sourceHandle)),j=Object(i["computed"])(()=>Oc(y.value,r.value.targetHandle)),x=Object(i["computed"])(()=>O.value?O.value.position:ea.Bottom),k=Object(i["computed"])(()=>j.value?j.value.position:ea.Top),_=Object(i["computed"])(()=>o.edgeUpdaterRadius);Object(i["onMounted"])(()=>{Object(i["watch"])([x,k,()=>n.sourceNode.position,()=>n.targetNode.position,()=>n.sourceNode.computedPosition,()=>n.targetNode.computedPosition,()=>n.sourceNode.dimensions,()=>n.targetNode.dimensions],()=>{const{sourceX:e,sourceY:t,targetY:o,targetX:i}=jc(n.sourceNode,O.value,x.value,n.targetNode,j.value,k.value);r.value.sourceX!==e&&(r.value.sourceX=e),r.value.sourceY!==t&&(r.value.sourceY=t),r.value.targetX!==i&&(r.value.targetX=i),r.value.targetY!==o&&(r.value.targetY=o)},{immediate:!0,deep:!0})});const E=Object(i["inject"])(va),S=Object(i["ref"])(null!=(t=r.value.type)?t:"default");Object(i["watch"])(()=>r.value.type,e=>e&&(S.value=e));const N=Object(i["computed"])(()=>{var e;let t=null!=(e=r.value.template)?e:o.getEdgeTypes[S.value];const n=Object(i["getCurrentInstance"])();if("string"==typeof t&&n){const e=Object.keys(n.appContext.components);e&&e.includes(S.value)&&(t=Object(i["resolveComponent"])(S.value,!1))}if("string"!=typeof t)return t;const a=null==E?void 0:E["edge-"+S.value];return(null==a?void 0:a({}))?a:(console.warn(`[vueflow]: Edge type "${r.value.type}" not found and no edge-slot detected. Using fallback type "default".`),S.value="default",o.getEdgeTypes.default)}),C=Object(i["computed"])(()=>{const e=r.value.class instanceof Function?r.value.class(r.value):r.value.class;return["vue-flow__edge","vue-flow__edge-"+S.value,o.noPanClassName,{selected:r.value.selected,animated:r.value.animated,inactive:!n.selectable,updating:a.value},e]}),B=()=>r.value.style instanceof Function?r.value.style(r.value):r.value.style;return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{class:Object(i["normalizeClass"])(Object(i["unref"])(C)),onClick:s,onDblClick:u,onContextmenu:c,onMouseenter:d,onMousemove:h,onMouseleave:p},[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(Object(i["unref"])(N)),{id:Object(i["unref"])(r).id,"source-node":n.sourceNode,"target-node":n.targetNode,source:Object(i["unref"])(r).source,target:Object(i["unref"])(r).target,updatable:n.updatable,selected:Object(i["unref"])(r).selected,animated:Object(i["unref"])(r).animated,label:Object(i["unref"])(r).label,"label-style":Object(i["unref"])(r).labelStyle,"label-show-bg":Object(i["unref"])(r).labelShowBg,"label-bg-style":Object(i["unref"])(r).labelBgStyle,"label-bg-padding":Object(i["unref"])(r).labelBgPadding,"label-bg-border-radius":Object(i["unref"])(r).labelBgBorderRadius,data:Object(i["unref"])(r).data,style:Object(i["normalizeStyle"])(B()),"marker-start":`url(#${Object(i["unref"])(yc)(Object(i["unref"])(r).markerStart)})`,"marker-end":`url(#${Object(i["unref"])(yc)(Object(i["unref"])(r).markerEnd)})`,"source-position":Object(i["unref"])(x),"target-position":Object(i["unref"])(k),"source-x":Object(i["unref"])(r).sourceX,"source-y":Object(i["unref"])(r).sourceY,"target-x":Object(i["unref"])(r).targetX,"target-y":Object(i["unref"])(r).targetY,"source-handle-id":Object(i["unref"])(r).sourceHandle,"target-handle-id":Object(i["unref"])(r).targetHandle},null,8,["id","source-node","target-node","source","target","updatable","selected","animated","label","label-style","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","data","style","marker-start","marker-end","source-position","target-position","source-x","source-y","target-x","target-y","source-handle-id","target-handle-id"])),n.updatable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:0,onMousedown:m,onMouseenter:f,onMouseout:g},[Object(i["createVNode"])(Sl,{position:Object(i["unref"])(x),"center-x":Object(i["unref"])(r).sourceX,"center-y":Object(i["unref"])(r).sourceY,radius:Object(i["unref"])(_)},null,8,["position","center-x","center-y","radius"])],32)):Object(i["createCommentVNode"])("",!0),n.updatable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("g",{key:1,onMousedown:b,onMouseenter:f,onMouseout:g},[Object(i["createVNode"])(Sl,{position:Object(i["unref"])(k),"center-x":Object(i["unref"])(r).targetX,"center-y":Object(i["unref"])(r).targetY,radius:Object(i["unref"])(_)},null,8,["position","center-x","center-y","radius"])],32)):Object(i["createCommentVNode"])("",!0)],34))}})),yu=["id","markerWidth","markerHeight","markerUnits","orient"],wu=["stroke","stroke-width","fill"],Ou=["stroke","stroke-width"],ju={name:"Marker"};var xu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(xu||(xu={}));const ku=Object(i["defineComponent"])(p(h({},ju),{props:{id:null,type:null,color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto"},strokeWidth:{default:1}},setup(e){const t=e;return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:""+t.width,markerHeight:""+t.height,markerUnits:t.markerUnits,orient:t.orient},["arrowclosed"===t.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("polyline",{key:0,stroke:t.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":t.strokeWidth,fill:t.color,points:"-5,-4 0,0 -5,4 -5,-4"},null,8,wu)):Object(i["createCommentVNode"])("",!0),"arrow"===t.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("polyline",{key:1,stroke:t.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":t.strokeWidth,fill:"none",points:"-5,-4 0,0 -5,4"},null,8,Ou)):Object(i["createCommentVNode"])("",!0)],8,yu))}})),_u={name:"MarkerDefinitions"},Eu=Object(i["defineComponent"])(p(h({},_u),{props:{defaultColor:{default:""}},setup(e){const t=e,{store:n}=Jc(),o=Object(i["computed"])(()=>{const e=[];return n.edges.reduce((n,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o){const i=yc(o);e.includes(i)||("object"==typeof o?n.push(p(h({},o),{id:i,color:o.color||t.defaultColor})):n.push({id:i,color:t.defaultColor,type:o}),e.push(i))}}),n.sort((e,t)=>e.id.localeCompare(t.id))),[])});return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("defs",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(o),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(ku,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,"stroke-width":e.strokeWidth,orient:e.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))]))}})),Su={name:"Edges"},Nu=Object(i["defineComponent"])(p(h({},Su),{setup(e){const{store:t}=Jc(),n=g(()=>t.connectionNodeId,()=>!!t.connectionNodeId&&t.getNode(t.connectionNodeId)),o=g(()=>t.connectionNodeId,()=>!!(n.value&&("undefined"==typeof n.value.connectable?t.nodesConnectable:n.value.connectable)&&t.connectionNodeId&&t.connectionHandleType)),r=e=>t.getNode(e),a=Object(i["computed"])(()=>kc(t.getEdges,r));return(e,l)=>(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(a),e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:e.level,class:"vue-flow__edges vue-flow__container",style:Object(i["normalizeStyle"])("z-index: "+e.level)},[e.isMaxLevel?(Object(i["openBlock"])(),Object(i["createBlock"])(Eu,{key:0,"default-color":Object(i["unref"])(t).defaultMarkerColor},null,8,["default-color"])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("g",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.edges,e=>(Object(i["openBlock"])(),Object(i["createBlock"])(vu,{id:e.id,key:e.id,edge:e,"source-node":r(e.source),"target-node":r(e.target),selectable:"undefined"==typeof e.selectable?Object(i["unref"])(t).elementsSelectable:e.selectable,updatable:"undefined"==typeof e.updatable?Object(i["unref"])(t).edgesUpdatable:e.updatable},null,8,["id","edge","source-node","target-node","selectable","updatable"]))),128)),Object(i["unref"])(o)&&Object(i["unref"])(n)?(Object(i["openBlock"])(),Object(i["createBlock"])(Pl,{key:0,"source-node":Object(i["unref"])(n)},null,8,["source-node"])):Object(i["createCommentVNode"])("",!0)])],4))),128))}})),Cu={name:"Transform"},Bu=Object(i["defineComponent"])(p(h({},Cu),{setup(e){const{id:t,store:n}=Jc(),o=async e=>{const t=ou();return"screen"in t&&await B(e.dimensions).toMatch(({height:e,width:t})=>!isNaN(t)&&t>0&&!isNaN(e)&&e>0),!0},r=Object(i["ref"])(!1);Object(i["onMounted"])(async()=>{const{zoomIn:e,zoomOut:t,zoomTo:i,setTransform:a,getTransform:l,fitView:s,fitBounds:c,setCenter:u}=su(n),d={fitView:(e={padding:.1})=>s(e),zoomIn:e,zoomOut:t,zoomTo:i,setTransform:a,getTransform:l,setCenter:u,fitBounds:c,project:ic(n),getElements:fc(n),getNodes:hc(n),getEdges:pc(n),toObject:gc(n)};await o(n),r.value=!0,n.instance=d,n.fitViewOnInit&&d.fitView(),n.hooks.paneReady.trigger(d)});const a=Object(i["computed"])(()=>`translate(${n.viewport.x}px,${n.viewport.y}px) scale(${n.viewport.zoom})`);return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:"transformation-pane-"+Object(i["unref"])(t),class:"vue-flow__transformationpane vue-flow__container",style:Object(i["normalizeStyle"])({transform:Object(i["unref"])(a),opacity:r.value?void 0:0})},[(Object(i["openBlock"])(),Object(i["createBlock"])(mu,{key:"node-renderer-"+Object(i["unref"])(t)})),(Object(i["openBlock"])(),Object(i["createBlock"])(Nu,{key:"edge-renderer-"+Object(i["unref"])(t)})),Object(i["renderSlot"])(e.$slots,"default")],4))}})),Pu={name:"Viewport"},Au=Object(i["defineComponent"])(p(h({},Pu),{setup(e){const{id:t,store:n,zoomActivationKeyCode:o,selectionKeyCode:r}=Jc(),a=Oe("viewport",null),l=(e,t)=>e.x!==t.x&&!isNaN(t.x)||e.y!==t.y&&!isNaN(t.y)||e.zoom!==t.k&&!isNaN(t.k),s=e=>({x:e.x,y:e.y,zoom:e.k}),c=(e,t)=>e.target.closest("."+t),u=Zs(n.defaultZoom,n.minZoom,n.maxZoom),d=Object(i["ref"])(p(h({},Us({x:n.defaultPosition[0],y:n.defaultPosition[1]},n.translateExtent)),{zoom:u})),{width:f,height:g}=Pe(a);return Object(i["watch"])([f,g],([e,t])=>{n.dimensions.width=e,n.dimensions.height=t},{immediate:!0}),Object(i["onMounted"])(()=>{const e=ga().scaleExtent([n.minZoom,n.maxZoom]).translateExtent(n.translateExtent),t=Ln(a.value).call(e),i=t.on("wheel.zoom"),u=aa.translate(d.value.x,d.value.y).scale(d.value.zoom);e.transform(t,u),n.setState({d3Zoom:e,d3Selection:t,d3ZoomHandler:i,viewport:{x:u.x,y:u.y,zoom:u.k}});const h=iu(r,t=>{t?e.on("zoom",null):e.on("zoom",e=>{n.setState({viewport:{x:e.transform.x,y:e.transform.y,zoom:e.transform.k}});const t=s(e.transform);n.hooks.move.trigger({event:e,flowTransform:t})})}),p=iu(o);e.on("start",e=>{const t=s(e.transform);d.value=t,n.hooks.moveStart.trigger({event:e,flowTransform:t})}),e.on("end",e=>{if(l(d.value,e.transform)){const t=s(e.transform);d.value=t,n.hooks.moveEnd.trigger({event:e,flowTransform:t})}}),null==t||t.on("wheel",o=>{if(n.panOnScroll&&!p.value){if(c(o,n.noWheelClassName))return;o.preventDefault(),o.stopImmediatePropagation();const i=(null==t?void 0:t.property("__zoom").k)||1;if(o.ctrlKey&&n.zoomOnPinch){const n=Xn(o),r=-o.deltaY*(1===o.deltaMode?.05:o.deltaMode?1:.002)*10,a=i*Math.pow(2,r);return void(t&&e.scaleTo(t,a,n))}const r=1===o.deltaMode?20:1,a=n.panOnScrollMode===ra.Vertical?0:o.deltaX*r,l=n.panOnScrollMode===ra.Horizontal?0:o.deltaY*r;t&&n.panOnScrollSpeed&&(null==e||e.translateBy(t,-a/i*n.panOnScrollSpeed,-l/i*n.panOnScrollSpeed))}else{if(!n.zoomOnScroll&&n.preventScrolling||!n.preventScrolling||c(o,n.noWheelClassName))return null;o.preventDefault()}}).on("wheel.zoom",n.panOnScroll||"undefined"==typeof i?null:i),e.filter(e=>{const t=p.value||n.zoomOnScroll,o=n.zoomOnPinch&&e.ctrlKey;return!(!n.panOnDrag&&!t&&!n.panOnScroll&&!n.zoomOnDoubleClick&&!n.zoomOnPinch||h.value||!n.zoomOnDoubleClick&&"dblclick"===e.type||c(e,n.noWheelClassName)&&"wheel"===e.type||c(e,n.noPanClassName)&&"wheel"!==e.type||!n.zoomOnPinch&&e.ctrlKey&&"wheel"===e.type||!(t||n.panOnScroll||o||"wheel"!==e.type)||!(n.panOnDrag||"mousedown"!==e.type&&"touchstart"!==e.type))&&((!e.ctrlKey||"wheel"===e.type)&&!e.button)})}),(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref:"viewport",key:"viewport-"+Object(i["unref"])(t),class:"vue-flow__viewport vue-flow__container"},[Object(i["createVNode"])(Bu,null,{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"default")]),_:3}),(Object(i["openBlock"])(),Object(i["createBlock"])(uu,{key:"selection-pane-"+Object(i["unref"])(t)}))]))}})),Mu=e=>"undefined"!=typeof e;var Vu=(e,t)=>{const n=Object(i["getCurrentScope"])();null==n||n.run(()=>{const o=()=>{n.run(()=>{let n,o;n=oe([e.modelValue,()=>{var t,n;return null==(n=null==(t=e.modelValue)?void 0:t.value)?void 0:n.length}],([r])=>{r&&Array.isArray(r)&&(o&&o.pause(),n&&n.pause(),t.setElements(r),o=oe([()=>t.edges.value.length,()=>t.nodes.value.length],()=>{e.modelValue.value=[...t.nodes.value,...t.edges.value]},{immediate:!0}),Object(i["nextTick"])(()=>{o&&o.resume(),n&&n.resume()}))},{immediate:!(!e.modelValue||!e.modelValue.value),flush:"post"})})},r=()=>{n.run(()=>{let n,o;n=oe([e.nodes,()=>{var t,n;return null==(n=null==(t=e.nodes)?void 0:t.value)?void 0:n.length}],async([r])=>{r&&Array.isArray(r)&&(o&&o.pause(),n&&n.pause(),t.setNodes(r),o=oe(()=>t.nodes.value.length,()=>e.nodes.value=[...t.nodes.value],{immediate:!0}),Object(i["nextTick"])(()=>{o&&o.resume(),n&&n.resume()}))},{immediate:!(!e.nodes||!e.nodes.value),flush:"post"})})},a=()=>{n.run(()=>{let n,o;n=oe([e.edges,()=>{var t,n;return null==(n=null==(t=e.edges)?void 0:t.value)?void 0:n.length}],async([r])=>{r&&Array.isArray(r)&&(o&&o.pause(),n&&n.pause(),t.setEdges(r),o=oe(()=>t.edges.value.length,()=>e.edges.value=[...t.edges.value],{immediate:!0}),Object(i["nextTick"])(()=>{o&&o.resume(),n&&n.resume()}))},{immediate:!(!e.edges||!e.edges.value),flush:"post"})})},l=()=>{n.run(()=>{var n;Object(i["watch"])([()=>e.maxZoom,e.maxZoom],()=>{e.maxZoom&&Mu(e.maxZoom.value)&&t.setMaxZoom(e.maxZoom.value)},{immediate:Mu(null==(n=e.maxZoom)?void 0:n.value)})})},s=()=>{n.run(()=>{var n;Object(i["watch"])([()=>e.minZoom,e.minZoom],()=>{e.minZoom&&Mu(e.minZoom.value)&&t.setMinZoom(e.minZoom.value)},{immediate:Mu(null==(n=e.minZoom)?void 0:n.value)})})},c=()=>{n.run(()=>{var n;Object(i["watch"])([()=>e.applyDefault,e.applyDefault],()=>{e.applyDefault&&Mu(e.applyDefault.value)&&(t.applyDefault.value=e.applyDefault.value)},{immediate:Mu(null==(n=e.applyDefault)?void 0:n.value)}),Object(i["watch"])(t.applyDefault,()=>{t.applyDefault.value&&(t.onNodesChange(t.applyNodeChanges),t.onEdgesChange(t.applyEdgeChanges))},{immediate:!0})})};o(),r(),a(),l(),s(),c();const u=["id","modelValue","edges","nodes","maxZoom","minZoom","applyDefault"];Object.keys(e).forEach(o=>{if(!u.includes(o)){const r=e[o],a=t[o];n.run(()=>{Object(i["watch"])([()=>r,r],()=>{r&&Mu(r.value)&&(a.value=r.value)},{immediate:Mu(null==r?void 0:r.value)})})}})})};const Du={class:"vue-flow"},$u={name:"VueFlow"};var Tu,zu,Iu;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Tu||(Tu={})),function(e){e.Strict="strict",e.Loose="loose"}(zu||(zu={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(Iu||(Iu={}));const Lu=Object(i["defineComponent"])(p(h({},$u),{props:{id:null,modelValue:null,nodes:null,edges:null,edgeTypes:null,nodeTypes:null,connectionMode:null,connectionLineType:null,connectionLineStyle:{default:void 0},deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,zoomActivationKeyCode:null,snapToGrid:{type:Boolean,default:void 0},snapGrid:null,onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:Boolean,default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:Boolean,default:void 0},minZoom:null,maxZoom:null,defaultZoom:null,defaultPosition:null,translateExtent:null,nodeExtent:null,defaultMarkerColor:null,zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:null,panOnScrollMode:null,zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},edgeUpdaterRadius:null,fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},noDragClassName:null,noWheelClassName:null,noPanClassName:null,defaultEdgeOptions:null},emits:[...Object.keys(ya()),"update:modelValue","update:nodes","update:edges"],setup(e,{emit:t}){const n=Me(e,t),o=Jc(),{id:r,hooks:a,getNodeTypes:l,getEdgeTypes:s}=o,c=f(o,["id","hooks","getNodeTypes","getEdgeTypes"]);return Vu(n,h({id:r,hooks:a,getNodeTypes:l,getEdgeTypes:s},c)),Oa(t,a.value),Object(i["provide"])(va,Object(i["useSlots"])()),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Du,[(Object(i["openBlock"])(),Object(i["createBlock"])(Au,{key:"renderer-"+Object(i["unref"])(r)},{nodes:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object.keys(Object(i["unref"])(l)),t=>Object(i["renderSlot"])(e.$slots,"node-"+t,{key:`node-${t}-${Object(i["unref"])(r)}`})),128))]),edges:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object.keys(Object(i["unref"])(s)),t=>Object(i["renderSlot"])(e.$slots,"edge-"+t,{key:`edge-${t}-${Object(i["unref"])(r)}`})),128))]),"connection-name":Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"connection-line")]),default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"zoom-pane")]),_:3})),Object(i["renderSlot"])(e.$slots,"default")]))}})),Yu=["x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],Xu={name:"MiniMapNode"},Fu=Object(i["defineComponent"])(p(h({},Xu),{props:{id:null,parentNode:null,selected:{type:Boolean},dragging:{type:Boolean},position:null,dimensions:null,borderRadius:null,color:null,shapeRendering:{default:"geometricPrecision"},strokeColor:null,strokeWidth:null},emits:["click","dblClick"],setup(e,{emit:t}){var n;const o=e,r=Object(i["useAttrs"])(),a=null!=(n=r.style)?n:{},l=Object(i["computed"])(()=>o.color||a.background||a.backgroundColor);return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("rect",{class:Object(i["normalizeClass"])(["vue-flow__minimap-node",Object(i["unref"])(r).class]),style:Object(i["normalizeStyle"])(Object(i["unref"])(r).style),x:o.position.x,y:o.position.y,rx:o.borderRadius,ry:o.borderRadius,width:o.dimensions.width,height:o.dimensions.height,fill:Object(i["unref"])(l),stroke:o.strokeColor,"stroke-width":o.strokeWidth,"shape-rendering":o.shapeRendering,onClick:n[0]||(n[0]=e=>t("click")),onDblClick:n[1]||(n[1]=e=>t("dblClick"))},null,46,Yu),Object(i["renderSlot"])(e.$slots,"default")],64))}})),Hu=["width","height","viewBox"],Ru=["d","fill"],Zu={name:"MiniMap"};Object(i["defineComponent"])(p(h({},Zu),{props:{nodeColor:{type:[String,Function],default:"#fff"},nodeStrokeColor:{type:[String,Function],default:"#555"},nodeClassName:{type:[String,Function],default:""},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 242, 243, 0.7)"}},setup(e){var t,n,o,r;const a=e,l=Object(i["useAttrs"])(),s=ou(),c=200,u=150,{store:d}=Jc(),h=null!=(n=null==(t=l.style)?void 0:t.width)?n:c,p=null!=(r=null==(o=l.style)?void 0:o.height)?r:u,f=a.nodeColor instanceof Function?a.nodeColor:()=>a.nodeColor,g=a.nodeStrokeColor instanceof Function?a.nodeStrokeColor:()=>a.nodeStrokeColor,m=a.nodeClassName instanceof Function?a.nodeClassName:()=>a.nodeClassName,b="undefined"==typeof s||s.chrome?"crispEdges":"geometricPrecision",v=Object(i["computed"])(()=>cc(d.getNodes)),y=Object(i["computed"])(()=>({x:-d.viewport.x/d.viewport.zoom,y:-d.viewport.y/d.viewport.zoom,width:d.dimensions.width/d.viewport.zoom,height:d.dimensions.height/d.viewport.zoom})),w=Object(i["computed"])(()=>{const e=d.getNodes&&d.getNodes.length?sc(v.value,y.value):y.value,t=e.width/h,n=e.height/p,o=Math.max(t,n),i=o*h,r=o*p,a=5*o;return{offset:a,x:e.x-(i-e.width)/2-a,y:e.y-(r-e.height)/2-a,width:i+2*a,height:r+2*a}}),O=Object(i["computed"])(()=>w.value.x&&w.value.y?`\n    M${w.value.x-w.value.offset},${w.value.y-w.value.offset}\n    h${w.value.width+2*w.value.offset}\n    v${w.value.height+2*w.value.offset}\n    h${-w.value.width-2*w.value.offset}z\n    M${y.value.x},${y.value.y}\n    h${y.value.width}\n    v${y.value.height}\n    h${-y.value.width}z`:""),j=(e,t)=>{d.hooks.miniMapNodeClick.trigger({event:e,node:t})},x=(e,t)=>{d.hooks.miniMapNodeDoubleClick.trigger({event:e,node:t})};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{width:Object(i["unref"])(h),height:Object(i["unref"])(p),viewBox:`${Object(i["unref"])(w).x||0} ${Object(i["unref"])(w).y||0} ${Object(i["unref"])(w).width||0} ${Object(i["unref"])(w).height||0}`,class:"vue-flow__minimap"},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(d).getNodes,t=>(Object(i["openBlock"])(),Object(i["createBlock"])(Fu,{key:"mini-map-node-"+t.id,id:t.id,position:t.computedPosition,dimensions:t.dimensions,style:Object(i["normalizeStyle"])(t.style),class:Object(i["normalizeClass"])(Object(i["unref"])(m)(t)),color:Object(i["unref"])(f)(t),"border-radius":a.nodeBorderRadius,"stroke-color":Object(i["unref"])(g)(t),"stroke-width":a.nodeStrokeWidth,"shape-rendering":Object(i["unref"])(b),onClick:e=>j(e,t),onDblclick:e=>x(e,t)},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"node-"+t.type,{id:t.id,parentNode:t.parentNode,selected:t.selected,dragging:t.dragging,position:t.computedPosition,dimensions:t.dimensions,style:Object(i["normalizeStyle"])(t.style),class:Object(i["normalizeClass"])(Object(i["unref"])(m)(t)),color:Object(i["unref"])(f)(t),borderRadius:a.nodeBorderRadius,strokeColor:Object(i["unref"])(g)(t),strokeWidth:a.nodeStrokeWidth,shapeRendering:Object(i["unref"])(b)})]),_:2},1032,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","onClick","onDblclick"]))),128)),Object(i["createElementVNode"])("path",{class:"vue-flow__minimap-mask",d:Object(i["unref"])(O),fill:a.maskColor,"fill-rule":"evenodd"},null,8,Ru)],8,Hu))}}));var Uu=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n};const Gu={name:"ControlButton"},Wu={class:"vue-flow__controls-button"};function Qu(e,t,n,o,r,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",Wu,[Object(i["renderSlot"])(e.$slots,"default")])}var qu=Uu(Gu,[["render",Qu]]);const Ku={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ju=Object(i["createElementVNode"])("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),ed=[Ju];function td(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Ku,ed)}const nd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},od=Object(i["createElementVNode"])("path",{d:"M0 0h32v4.2H0z"},null,-1),id=[od];function rd(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",nd,id)}const ad={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ld=Object(i["createElementVNode"])("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),sd=[ld];function cd(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",ad,sd)}const ud={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},dd=Object(i["createElementVNode"])("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),hd=[dd];function pd(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",ud,hd)}const fd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},gd=Object(i["createElementVNode"])("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),md=[gd];function bd(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",fd,md)}const vd={class:"vue-flow__controls"},yd={name:"Controls"},wd=(Object(i["defineComponent"])(p(h({},yd),{props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null},emits:["zoom-in","zoom-out","fit-view","interaction-change"],setup(e,{emit:t}){const n=e,{store:o}=Jc(),{zoomIn:r,zoomOut:a,fitView:l}=su(),s=Object(i["computed"])(()=>o.nodesDraggable&&o.nodesConnectable&&o.elementsSelectable),c=()=>{r(),t("zoom-in")},u=()=>{a(),t("zoom-out")},d=()=>{l(n.fitViewParams),t("fit-view")},h=()=>{o.setInteractive(!s.value),t("interaction-change",!s.value)};return(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",vd,[n.showZoom?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["renderSlot"])(e.$slots,"control-zoom-in",{},()=>[Object(i["createVNode"])(qu,{class:"vue-flow__controls-zoomin",onClick:c},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"icon-zoom-in",{},()=>[Object(i["createVNode"])(Object(i["unref"])(td))])]),_:3})]),Object(i["renderSlot"])(e.$slots,"control-zoom-out",{},()=>[Object(i["createVNode"])(qu,{class:"vue-flow__controls-zoomout",onClick:u},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"icon-zoom-out",{},()=>[Object(i["createVNode"])(Object(i["unref"])(rd))])]),_:3})])],64)):Object(i["createCommentVNode"])("",!0),Object(i["renderSlot"])(e.$slots,"control-fitview",{},()=>[n.showFitView?(Object(i["openBlock"])(),Object(i["createBlock"])(qu,{key:0,class:"vue-flow__controls-fitview",onClick:d},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"icon-fitview",{},()=>[Object(i["createVNode"])(Object(i["unref"])(cd))])]),_:3})):Object(i["createCommentVNode"])("",!0)]),Object(i["renderSlot"])(e.$slots,"control-interactive",{},()=>[n.showInteractive?(Object(i["openBlock"])(),Object(i["createBlock"])(qu,{key:0,class:"vue-flow__controls-interactive",onClick:h},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"icon-unlock",{},()=>[Object(i["unref"])(s)?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(bd),{key:0})):Object(i["createCommentVNode"])("",!0)]),Object(i["renderSlot"])(e.$slots,"icon-lock",{},()=>[Object(i["unref"])(s)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(pd),{key:0}))])]),_:3})):Object(i["createCommentVNode"])("",!0)]),Object(i["renderSlot"])(e.$slots,"default")]))}})),["x","y","width","height"]),Od=["stroke","stroke-width","d"],jd=["cx","cy","r","fill"],xd={key:2,height:"100",width:"100"},kd=["fill"],_d=["x","y","fill"],Ed={name:"Background"};var Sd;(function(e){e.Lines="lines",e.Dots="dots"})(Sd||(Sd={}));Object(i["defineComponent"])(p(h({},Ed),{props:{variant:{default:"dots"},gap:{default:10},size:{default:.4},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0}},setup(e){const t=e,n={[Sd.Dots]:"#81818a",[Sd.Lines]:"#eee"},{store:o}=Jc(),r=Object(i["computed"])(()=>{const e=t.gap&&t.gap*o.viewport.zoom,n=e&&o.viewport.x%e,i=e&&o.viewport.y%e,r=t.size||.4*o.viewport.zoom;return{scaledGap:e,xOffset:n,yOffset:i,size:r}}),a="pattern-"+Math.floor(1e5*Math.random()),l=Object(i["computed"])(()=>t.patternColor?t.patternColor:n[t.variant||Sd.Dots]),s=Object(i["computed"])(()=>`M${r.value.scaledGap/2} 0 V${r.value.scaledGap} M0 ${r.value.scaledGap/2} H${r.value.scaledGap}`);return(e,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:"vue-flow__background",style:Object(i["normalizeStyle"])({height:(t.height>100?100:t.height)+"%",width:(t.width>100?100:t.width)+"%"})},[Object(i["createElementVNode"])("pattern",{id:a,x:Object(i["unref"])(r).xOffset,y:Object(i["unref"])(r).yOffset,width:Object(i["unref"])(r).scaledGap,height:Object(i["unref"])(r).scaledGap,patternUnits:"userSpaceOnUse"},[t.variant===Sd.Lines?(Object(i["openBlock"])(),Object(i["createElementBlock"])("path",{key:0,stroke:Object(i["unref"])(l),"stroke-width":t.size,d:Object(i["unref"])(s)},null,8,Od)):t.variant===Sd.Dots?(Object(i["openBlock"])(),Object(i["createElementBlock"])("circle",{key:1,cx:Object(i["unref"])(r).size,cy:Object(i["unref"])(r).size,r:Object(i["unref"])(r).size,fill:Object(i["unref"])(l)},null,8,jd)):Object(i["createCommentVNode"])("",!0),t.bgColor?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",xd,[Object(i["createElementVNode"])("rect",{width:"100%",height:"100%",fill:t.bgColor},null,8,kd)])):Object(i["createCommentVNode"])("",!0)],8,wd),Object(i["createElementVNode"])("rect",{x:t.x,y:t.y,width:"100%",height:"100%",fill:`url(#${a})`},null,8,_d),Object(i["renderSlot"])(e.$slots,"default")],4))}}))}).call(this,n("c8ba"),n("4362"))},"7d42":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Xt}));var o=n("7a23");
/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,o,i=c(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d="1.14.0";function h(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var p=h(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=h(/Edge/i),g=h(/firefox/i),m=h(/safari/i)&&!h(/chrome/i)&&!h(/android/i),b=h(/iP(ad|od|hone)/i),v=h(/chrome/i)&&h(/android/i),y={capture:!1,passive:!1};function w(e,t,n){e.addEventListener(t,n,!p&&y)}function O(e,t,n){e.removeEventListener(t,n,!p&&y)}function j(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function x(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function k(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&j(e,t):j(e,t))||o&&e===n)return e;if(e===n)break}while(e=x(e))}return null}var _,E=/\s+/g;function S(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(E," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(E," ")}}function N(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"===typeof n?"":"px")}}function C(e,t){var n="";if("string"===typeof e)n=e;else do{var o=N(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function B(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function P(){var e=document.scrollingElement;return e||document.documentElement}function A(e,t,n,o,i){if(e.getBoundingClientRect||e===window){var r,a,l,s,c,u,d;if(e!==window&&e.parentNode&&e!==P()?(r=e.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,c=r.right,u=r.height,d=r.width):(a=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!p))do{if(i&&i.getBoundingClientRect&&("none"!==N(i,"transform")||n&&"static"!==N(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(N(i,"border-top-width")),l-=h.left+parseInt(N(i,"border-left-width")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);if(o&&e!==window){var f=C(i||e),g=f&&f.a,m=f&&f.d;f&&(a/=m,l/=g,d/=g,u/=m,s=a+u,c=l+d)}return{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function M(e,t,n){var o=I(e,!0),i=A(e)[t];while(o){var r=A(o)[n],a=void 0;if(a="top"===n||"left"===n?i>=r:i<=r,!a)return o;if(o===P())break;o=I(o,!1)}return!1}function V(e,t,n,o){var i=0,r=0,a=e.children;while(r<a.length){if("none"!==a[r].style.display&&a[r]!==We.ghost&&(o||a[r]!==We.dragged)&&k(a[r],n.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function D(e,t){var n=e.lastElementChild;while(n&&(n===We.ghost||"none"===N(n,"display")||t&&!j(n,t)))n=n.previousElementSibling;return n||null}function $(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===We.clone||t&&!j(e,t)||n++;return n}function T(e){var t=0,n=0,o=P();if(e)do{var i=C(e),r=i.a,a=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function z(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}function I(e,t){if(!e||!e.getBoundingClientRect)return P();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return P();if(o||t)return n;o=!0}}}while(n=n.parentNode);return P()}function L(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Y(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function X(e,t){return function(){if(!_){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),_=setTimeout((function(){_=void 0}),t)}}}function F(){clearTimeout(_),_=void 0}function H(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function R(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Z="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==N(e,"display")&&e!==We.ghost){t.push({target:e,rect:A(e)});var n=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=C(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(z(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,r=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=A(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=C(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&Y(s,l)&&!Y(a,l)&&(u.top-l.top)/(u.left-l.left)===(a.top-l.top)/(a.left-l.left)&&(t=W(u,s,c,o.options)),Y(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,u,l,t)),t&&(i=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),r):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){N(e,"transition",""),N(e,"transform","");var i=C(this.el),r=i&&i.a,a=i&&i.d,l=(t.left-n.left)/(r||1),s=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!s,N(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=G(e),N(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),N(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){N(e,"transition",""),N(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function G(e){return e.offsetWidth}function W(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Q=[],q={initializeByDefault:!0},K={mount:function(e){for(var t in q)q.hasOwnProperty(t)&&!(t in e)&&(e[t]=q[t]);Q.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Q.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";Q.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](r({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](r({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var i in Q.forEach((function(o){var i=o.pluginName;if(e.options[i]||o.initializeByDefault){var r=new o(e,t,e.options);r.sortable=e,r.options=e.options,e[i]=r,s(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof r&&(e.options[i]=r)}},getEventProperties:function(e,t){var n={};return Q.forEach((function(o){"function"===typeof o.eventProperties&&s(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return Q.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(o=i.optionListeners[t].call(e[i.pluginName],n))})),o}};function J(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,a=e.cloneEl,l=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,h=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[Z],t){var v,y=t.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||p||f?(v=document.createEvent("Event"),v.initEvent(o,!0,!0)):v=new CustomEvent(o,{bubbles:!0,cancelable:!0}),v.to=l||n,v.from=s||n,v.item=i||n,v.clone=a,v.oldIndex=c,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=h,v.originalEvent=g,v.pullMode=m?m.lastPutMode:void 0;var O=r(r({},b),K.getEventProperties(o,t));for(var j in O)v[j]=O[j];n&&n.dispatchEvent(v),y[w]&&y[w].call(t,v)}}var ee=["evt"],te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,i=u(n,ee);K.pluginEvent.bind(We)(e,t,r({dragEl:oe,parentEl:ie,ghostEl:re,rootEl:ae,nextEl:le,lastDownEl:se,cloneEl:ce,cloneHidden:ue,dragStarted:xe,putSortable:me,activeSortable:We.active,originalEvent:o,oldIndex:de,oldDraggableIndex:pe,newIndex:he,newDraggableIndex:fe,hideGhostForTarget:Re,unhideGhostForTarget:Ze,cloneNowHidden:function(){ue=!0},cloneNowShown:function(){ue=!1},dispatchSortableEvent:function(e){ne({sortable:t,name:e,originalEvent:o})}},i))};function ne(e){J(r({putSortable:me,cloneEl:ce,targetEl:oe,rootEl:ae,oldIndex:de,oldDraggableIndex:pe,newIndex:he,newDraggableIndex:fe},e))}var oe,ie,re,ae,le,se,ce,ue,de,he,pe,fe,ge,me,be,ve,ye,we,Oe,je,xe,ke,_e,Ee,Se,Ne=!1,Ce=!1,Be=[],Pe=!1,Ae=!1,Me=[],Ve=!1,De=[],$e="undefined"!==typeof document,Te=b,ze=f||p?"cssFloat":"float",Ie=$e&&!v&&!b&&"draggable"in document.createElement("div"),Le=function(){if($e){if(p)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ye=function(e,t){var n=N(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=V(e,0,t),r=V(e,1,t),a=i&&N(i),l=r&&N(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+A(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a["float"]&&"none"!==a["float"]){var u="left"===a["float"]?"left":"right";return!r||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[ze]||r&&"none"===n[ze]&&s+c>o)?"vertical":"horizontal"},Xe=function(e,t,n){var o=n?e.left:e.top,i=n?e.right:e.bottom,r=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===a||i===l||o+r/2===a+s/2},Fe=function(e,t){var n;return Be.some((function(o){var i=o[Z].options.emptyInsertThreshold;if(i&&!D(o)){var r=A(o),a=e>=r.left-i&&e<=r.right+i,l=t>=r.top-i&&t<=r.bottom+i;return a&&l?n=o:void 0}})),n},He=function(e){function t(e,n){return function(o,i,r,a){var l=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(o,i,r,a),n)(o,i,r,a);var s=(n?o:i).options.group.name;return!0===e||"string"===typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==a(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Re=function(){!Le&&re&&N(re,"display","none")},Ze=function(){!Le&&re&&N(re,"display","")};$e&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var Ue=function(e){if(oe){e=e.touches?e.touches[0]:e;var t=Fe(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Z]._onDragOver(n)}}},Ge=function(e){oe&&oe.parentNode[Z]._isOutsideThisEl(e.target)};function We(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[Z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ye(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==We.supportPointer&&"PointerEvent"in window&&!m,emptyInsertThreshold:5};for(var o in K.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var i in He(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ie,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?w(e,"pointerdown",this._onTapStart):(w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),Be.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,U())}function Qe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function qe(e,t,n,o,i,r,a,l){var s,c,u=e[Z],d=u.options.onMove;return!window.CustomEvent||p||f?(s=document.createEvent("Event"),s.initEvent("move",!0,!0)):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=r||A(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),d&&(c=d.call(u,s,a)),c}function Ke(e){e.draggable=!1}function Je(){Ve=!1}function et(e,t,n){var o=A(V(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function tt(e,t,n){var o=A(D(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function nt(e,t,n,o,i,r,a,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,h=!1;if(!a)if(l&&Ee<c*i){if(!Pe&&(1===_e?s>u+c*r/2:s<d-c*r/2)&&(Pe=!0),Pe)h=!0;else if(1===_e?s<u+Ee:s>d-Ee)return-_e}else if(s>u+c*(1-i)/2&&s<d-c*(1-i)/2)return ot(t);return h=h||a,h&&(s<u+c*r/2||s>d-c*r/2)?s>u+c/2?1:-1:0}function ot(e){return $(oe)<$(e)?1:-1}function it(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;while(n--)o+=t.charCodeAt(n);return o.toString(36)}function rt(e){De.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var o=t[n];o.checked&&De.push(o)}}function at(e){return setTimeout(e,0)}function lt(e){return clearTimeout(e)}We.prototype={constructor:We,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ke=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,oe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,i=o.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(rt(n),!oe&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!m||!l||"SELECT"!==l.tagName.toUpperCase())&&(l=k(l,o.draggable,n,!1),(!l||!l.animated)&&se!==l)){if(de=$(l),pe=$(l,o.draggable),"function"===typeof c){if(c.call(this,e,l,this))return ne({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),te("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=k(s,o.trim(),n,!1),o)return ne({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),te("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());o.handle&&!k(s,o.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;if(n&&!oe&&n.parentNode===r){var s=A(n);if(ae=r,oe=n,ie=oe.parentNode,le=oe.nextSibling,se=n,ge=a.group,We.dragged=oe,be={target:oe,clientX:(t||e).clientX,clientY:(t||e).clientY},Oe=be.clientX-s.left,je=be.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,oe.style["will-change"]="all",o=function(){te("delayEnded",i,{evt:e}),We.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!g&&i.nativeDraggable&&(oe.draggable=!0),i._triggerDragStart(e,t),ne({sortable:i,name:"choose",originalEvent:e}),S(oe,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){B(oe,e.trim(),Ke)})),w(l,"dragover",Ue),w(l,"mousemove",Ue),w(l,"touchmove",Ue),w(l,"mouseup",i._onDrop),w(l,"touchend",i._onDrop),w(l,"touchcancel",i._onDrop),g&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),te("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(f||p))o();else{if(We.eventCanceled)return void this._onDrop();w(l,"mouseup",i._disableDelayedDrag),w(l,"touchend",i._disableDelayedDrag),w(l,"touchcancel",i._disableDelayedDrag),w(l,"mousemove",i._delayedDragTouchMoveHandler),w(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&w(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&Ke(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._disableDelayedDrag),O(e,"touchend",this._disableDelayedDrag),O(e,"touchcancel",this._disableDelayedDrag),O(e,"mousemove",this._delayedDragTouchMoveHandler),O(e,"touchmove",this._delayedDragTouchMoveHandler),O(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,t?"touchmove":"mousemove",this._onTouchMove):(w(oe,"dragend",this),w(ae,"dragstart",this._onDragStart));try{document.selection?at((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ne=!1,ae&&oe){te("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",Ge);var n=this.options;!e&&S(oe,n.dragClass,!1),S(oe,n.ghostClass,!0),We.active=this,e&&this._appendGhost(),ne({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Re();var e=document.elementFromPoint(ve.clientX,ve.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY),e===t)break;t=e}if(oe.parentNode[Z]._isOutsideThisEl(e),t)do{if(t[Z]){var n=void 0;if(n=t[Z]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ze()}},_onTouchMove:function(e){if(be){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=re&&C(re,!0),a=re&&r&&r.a,l=re&&r&&r.d,s=Te&&Se&&T(Se),c=(i.clientX-be.clientX+o.x)/(a||1)+(s?s[0]-Me[0]:0)/(a||1),u=(i.clientY-be.clientY+o.y)/(l||1)+(s?s[1]-Me[1]:0)/(l||1);if(!We.active&&!Ne){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(re){r?(r.e+=c-(ye||0),r.f+=u-(we||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");N(re,"webkitTransform",d),N(re,"mozTransform",d),N(re,"msTransform",d),N(re,"transform",d),ye=c,we=u,ve=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!re){var e=this.options.fallbackOnBody?document.body:ae,t=A(oe,!0,Te,!0,e),n=this.options;if(Te){Se=e;while("static"===N(Se,"position")&&"none"===N(Se,"transform")&&Se!==document)Se=Se.parentNode;Se!==document.body&&Se!==document.documentElement?(Se===document&&(Se=P()),t.top+=Se.scrollTop,t.left+=Se.scrollLeft):Se=P(),Me=T(Se)}re=oe.cloneNode(!0),S(re,n.ghostClass,!1),S(re,n.fallbackClass,!0),S(re,n.dragClass,!0),N(re,"transition",""),N(re,"transform",""),N(re,"box-sizing","border-box"),N(re,"margin",0),N(re,"top",t.top),N(re,"left",t.left),N(re,"width",t.width),N(re,"height",t.height),N(re,"opacity","0.8"),N(re,"position",Te?"absolute":"fixed"),N(re,"zIndex","100000"),N(re,"pointerEvents","none"),We.ghost=re,e.appendChild(re),N(re,"transform-origin",Oe/parseInt(re.style.width)*100+"% "+je/parseInt(re.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,i=n.options;te("dragStart",this,{evt:e}),We.eventCanceled?this._onDrop():(te("setupClone",this),We.eventCanceled||(ce=R(oe),ce.draggable=!1,ce.style["will-change"]="",this._hideClone(),S(ce,this.options.chosenClass,!1),We.clone=ce),n.cloneId=at((function(){te("clone",n),We.eventCanceled||(n.options.removeCloneOnHide||ae.insertBefore(ce,oe),n._hideClone(),ne({sortable:n,name:"clone"}))})),!t&&S(oe,i.dragClass,!0),t?(Ce=!0,n._loopId=setInterval(n._emulateDragOver,50)):(O(document,"mouseup",n._onDrop),O(document,"touchend",n._onDrop),O(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,oe)),w(document,"drop",n),N(oe,"transform","translateZ(0)")),Ne=!0,n._dragStartId=at(n._dragStarted.bind(n,t,e)),w(document,"selectstart",n),xe=!0,m&&N(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,i,a=this.el,l=e.target,s=this.options,c=s.group,u=We.active,d=ge===c,h=s.sort,p=me||u,f=this,g=!1;if(!Ve){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=k(l,s.draggable,a,!0),z("dragOver"),We.eventCanceled)return g;if(oe.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return L(!1);if(Ce=!1,u&&!s.disabled&&(d?h||(o=ie!==ae):me===this||(this.lastPutMode=ge.checkPull(this,u,oe,e))&&c.checkPut(this,u,oe,e))){if(i="vertical"===this._getDirection(e,l),t=A(oe),z("dragOverValid"),We.eventCanceled)return g;if(o)return ie=ae,I(),this._hideClone(),z("revert"),We.eventCanceled||(le?ae.insertBefore(oe,le):ae.appendChild(oe)),L(!0);var m=D(a,s.draggable);if(!m||tt(e,i,this)&&!m.animated){if(m===oe)return L(!1);if(m&&a===e.target&&(l=m),l&&(n=A(l)),!1!==qe(ae,a,oe,t,l,n,e,!!l))return I(),a.appendChild(oe),ie=a,Y(),L(!0)}else if(m&&et(e,i,this)){var b=V(a,0,s,!0);if(b===oe)return L(!1);if(l=b,n=A(l),!1!==qe(ae,a,oe,t,l,n,e,!1))return I(),a.insertBefore(oe,b),ie=a,Y(),L(!0)}else if(l.parentNode===a){n=A(l);var v,y,w=0,O=oe.parentNode!==a,j=!Xe(oe.animated&&oe.toRect||t,l.animated&&l.toRect||n,i),x=i?"top":"left",_=M(l,"top","top")||M(oe,"top","top"),E=_?_.scrollTop:void 0;if(ke!==l&&(v=n[x],Pe=!1,Ae=!j&&s.invertSwap||O),w=nt(e,l,n,i,j?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ae,ke===l),0!==w){var C=$(oe);do{C-=w,y=ie.children[C]}while(y&&("none"===N(y,"display")||y===re))}if(0===w||y===l)return L(!1);ke=l,_e=w;var B=l.nextElementSibling,P=!1;P=1===w;var T=qe(ae,a,oe,t,l,n,e,P);if(!1!==T)return 1!==T&&-1!==T||(P=1===T),Ve=!0,setTimeout(Je,30),I(),P&&!B?a.appendChild(oe):l.parentNode.insertBefore(oe,P?B:l),_&&H(_,0,E-_.scrollTop),ie=oe.parentNode,void 0===v||Ae||(Ee=Math.abs(v-A(l)[x])),Y(),L(!0)}if(a.contains(oe))return L(!1)}return!1}function z(s,c){te(s,f,r({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:h,fromSortable:p,target:l,completed:L,onMove:function(n,o){return qe(ae,a,oe,t,n,A(n),e,o)},changed:Y},c))}function I(){z("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function L(t){return z("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==p&&(S(oe,me?me.options.ghostClass:u.options.ghostClass,!1),S(oe,s.ghostClass,!0)),me!==f&&f!==We.active?me=f:f===We.active&&me&&(me=null),p===f&&(f._ignoreWhileAnimating=l),f.animateAll((function(){z("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(l===oe&&!oe.animated||l===a&&!l.animated)&&(ke=null),s.dragoverBubble||e.rootEl||l===document||(oe.parentNode[Z]._isOutsideThisEl(e.target),!t&&Ue(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function Y(){he=$(oe),fe=$(oe,s.draggable),ne({sortable:f,name:"change",toEl:a,newIndex:he,newDraggableIndex:fe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){O(document,"mousemove",this._onTouchMove),O(document,"touchmove",this._onTouchMove),O(document,"pointermove",this._onTouchMove),O(document,"dragover",Ue),O(document,"mousemove",Ue),O(document,"touchmove",Ue)},_offUpEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._onDrop),O(e,"touchend",this._onDrop),O(e,"pointerup",this._onDrop),O(e,"touchcancel",this._onDrop),O(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;he=$(oe),fe=$(oe,n.draggable),te("drop",this,{evt:e}),ie=oe&&oe.parentNode,he=$(oe),fe=$(oe,n.draggable),We.eventCanceled||(Ne=!1,Ae=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),lt(this.cloneId),lt(this._dragStartId),this.nativeDraggable&&(O(document,"drop",this),O(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&N(document.body,"user-select",""),N(oe,"transform",""),e&&(xe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),re&&re.parentNode&&re.parentNode.removeChild(re),(ae===ie||me&&"clone"!==me.lastPutMode)&&ce&&ce.parentNode&&ce.parentNode.removeChild(ce),oe&&(this.nativeDraggable&&O(oe,"dragend",this),Ke(oe),oe.style["will-change"]="",xe&&!Ne&&S(oe,me?me.options.ghostClass:this.options.ghostClass,!1),S(oe,this.options.chosenClass,!1),ne({sortable:this,name:"unchoose",toEl:ie,newIndex:null,newDraggableIndex:null,originalEvent:e}),ae!==ie?(he>=0&&(ne({rootEl:ie,name:"add",toEl:ie,fromEl:ae,originalEvent:e}),ne({sortable:this,name:"remove",toEl:ie,originalEvent:e}),ne({rootEl:ie,name:"sort",toEl:ie,fromEl:ae,originalEvent:e}),ne({sortable:this,name:"sort",toEl:ie,originalEvent:e})),me&&me.save()):he!==de&&he>=0&&(ne({sortable:this,name:"update",toEl:ie,originalEvent:e}),ne({sortable:this,name:"sort",toEl:ie,originalEvent:e})),We.active&&(null!=he&&-1!==he||(he=de,fe=pe),ne({sortable:this,name:"end",toEl:ie,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){te("nulling",this),ae=oe=ie=re=le=ce=se=ue=be=ve=xe=he=fe=de=pe=ke=_e=me=ge=We.dragged=We.ghost=We.clone=We.active=null,De.forEach((function(e){e.checked=!0})),De.length=ye=we=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":oe&&(this._onDragOver(e),Qe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)e=n[o],k(e,r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||it(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var i=o.children[t];k(i,this.options.draggable,o,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return k(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=K.modifyOption(this,e,t);n[e]="undefined"!==typeof o?o:t,"group"===e&&He(n)},destroy:function(){te("destroy",this);var e=this.el;e[Z]=null,O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart),O(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Be.splice(Be.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ue){if(te("hideClone",this),We.eventCanceled)return;N(ce,"display","none"),this.options.removeCloneOnHide&&ce.parentNode&&ce.parentNode.removeChild(ce),ue=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ue){if(te("showClone",this),We.eventCanceled)return;oe.parentNode!=ae||this.options.group.revertClone?le?ae.insertBefore(ce,le):ae.appendChild(ce):ae.insertBefore(ce,oe),this.options.group.revertClone&&this.animate(oe,ce),N(ce,"display",""),ue=!1}}else this._hideClone()}},$e&&w(document,"touchmove",(function(e){(We.active||Ne)&&e.cancelable&&e.preventDefault()})),We.utils={on:w,off:O,css:N,find:B,is:function(e,t){return!!k(e,t,e,!1)},extend:L,throttle:X,closest:k,toggleClass:S,clone:R,index:$,nextTick:at,cancelNextTick:lt,detectDirection:Ye,getChild:V},We.get=function(e){return e[Z]},We.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(We.utils=r(r({},We.utils),e.utils)),K.mount(e)}))},We.create=function(e,t){return new We(e,t)},We.version=d;var st,ct,ut,dt,ht,pt,ft=[],gt=!1;function mt(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):t.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):(O(document,"pointermove",this._handleFallbackAutoScroll),O(document,"touchmove",this._handleFallbackAutoScroll),O(document,"mousemove",this._handleFallbackAutoScroll)),vt(),bt(),F()},nulling:function(){ht=ct=st=gt=pt=ut=dt=null,ft.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(o,i);if(ht=e,t||this.options.forceAutoScrollFallback||f||p||m){yt(e,this.options,r,t);var a=I(r,!0);!gt||pt&&o===ut&&i===dt||(pt&&vt(),pt=setInterval((function(){var r=I(document.elementFromPoint(o,i),!0);r!==a&&(a=r,bt()),yt(e,n.options,r,t)}),10),ut=o,dt=i)}else{if(!this.options.bubbleScroll||I(r,!0)===P())return void bt();yt(e,this.options,I(r,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}function bt(){ft.forEach((function(e){clearInterval(e.pid)})),ft=[]}function vt(){clearInterval(pt)}var yt=X((function(e,t,n,o){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=P(),u=!1;ct!==n&&(ct=n,bt(),st=t.scroll,i=t.scrollFn,!0===st&&(st=I(n,!0)));var d=0,h=st;do{var p=h,f=A(p),g=f.top,m=f.bottom,b=f.left,v=f.right,y=f.width,w=f.height,O=void 0,j=void 0,x=p.scrollWidth,k=p.scrollHeight,_=N(p),E=p.scrollLeft,S=p.scrollTop;p===c?(O=y<x&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),j=w<k&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(O=y<x&&("auto"===_.overflowX||"scroll"===_.overflowX),j=w<k&&("auto"===_.overflowY||"scroll"===_.overflowY));var C=O&&(Math.abs(v-r)<=l&&E+y<x)-(Math.abs(b-r)<=l&&!!E),B=j&&(Math.abs(m-a)<=l&&S+w<k)-(Math.abs(g-a)<=l&&!!S);if(!ft[d])for(var M=0;M<=d;M++)ft[M]||(ft[M]={});ft[d].vx==C&&ft[d].vy==B&&ft[d].el===p||(ft[d].el=p,ft[d].vx=C,ft[d].vy=B,clearInterval(ft[d].pid),0==C&&0==B||(u=!0,ft[d].pid=setInterval(function(){o&&0===this.layer&&We.active._onTouchMove(ht);var t=ft[this.layer].vy?ft[this.layer].vy*s:0,n=ft[this.layer].vx?ft[this.layer].vx*s:0;"function"===typeof i&&"continue"!==i.call(We.dragged.parentNode[Z],n,t,e,ht,ft[this.layer].el)||H(ft[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=I(h,!1)));gt=u}}),30),wt=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Ot(){}function jt(){}function xt(){return"undefined"!==typeof window?window.console:e.console}Ot.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=V(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:wt},s(Ot,{pluginName:"revertOnSpill"}),jt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:wt},s(jt,{pluginName:"removeOnSpill"}),We.mount(new mt),We.mount(jt,Ot);const kt=xt();function _t(e){const t=Object.create(null);return function(n){const o=t[n];return o||(t[n]=e(n))}}const Et=/-(\w)/g,St=_t(e=>e.replace(Et,(e,t)=>t?t.toUpperCase():""));function Nt(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Ct(e,t,n){const o=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function Bt(e,t){return Object.values(e).indexOf(t)}function Pt(e,t,n,o){if(!e)return[];const i=Object.values(e),r=t.length-o,a=[...t].map((e,t)=>t>=r?i.length:i.indexOf(e));return a}function At(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function Mt(e){return t=>{null!==this.realList&&this["onDrag"+e](t),At.call(this,e,t)}}function Vt(e){return["transition-group","TransitionGroup"].includes(e)}function Dt(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&Vt(t.name)}function $t(e,t){return t?{...t.props,...t.attrs}:e}const Tt=["Start","Add","Remove","Update","End"],zt=["Choose","Unchoose","Sort","Filter","Clone"],It=["Move",...Tt,...zt].map(e=>"on"+e);let Lt=null;const Yt={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Xt=Object(o["defineComponent"])({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Tt.map(e=>e.toLowerCase()),...zt.map(e=>e.toLowerCase())],props:Yt,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=$t(this.$attrs,this.componentData);return e?(this.transitionMode=Dt(e),Object(o["h"])(this.getTag(),t,e)):Object(o["h"])(this.getTag(),t,[])},created(){null!==this.list&&null!==this.modelValue&&kt.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Tt.forEach(t=>{e["on"+t]=Mt.call(this,t)}),zt.forEach(t=>{e["on"+t]=At.bind(this,t)});const t=Object.keys(this.$attrs).reduce((e,t)=>(e[St(t)]=this.$attrs[t],e),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const o=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new We(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Object(o["resolveComponent"])(this.component):this.tag},updateOptions(e){for(var t in e){const n=St(t);-1===It.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Pt(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=Bt(this.getChildrenNodes()||[],e);if(-1===t)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=n=>n.splice(t,0,n.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Lt=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;Nt(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(Ct(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void Nt(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Nt(e.item),Ct(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),i=this.context,r=this.computeFutureIndex(o,e);Object.assign(i,{futureIndex:r});const a=Object.assign({},e,{relatedContext:o,draggedContext:i});return n(a,t)},onDragEnd(){this.computeIndexes(),Lt=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter(e=>"none"!==e.style["display"]);if(0===n.length)return 0;const o=n.indexOf(t.related),i=e.component.getVmIndex(o),r=-1!==n.indexOf(Lt);return r||!t.willInsertAfter?i:i+1}}})}).call(this,n("c8ba"))},"999f":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i={class:"row"},r={class:"col-12"},a={class:"card card-flush pb-0 bgi-position-y-center bgi-no-repeat mb-10",style:{"margin-top":"14px","background-size":"auto calc(100% + 10rem)","background-position-x":"100%","background-image":"url('/metronic8/demo1/assets/media/illustrations/sketchy-1/4.png')"}},l={class:"card-header pt-10",style:{width:"100%"}},s={class:"d-flex align-items-center",style:{width:"100%"}},c=Object(o["createStaticVNode"])('<div class="symbol symbol-circle me-5"><div class="symbol-label bg-transparent text-primary border border-secondary border-dashed"><span class="svg-icon svg-icon-2x svg-icon-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M17.302 11.35L12.002 20.55H21.202C21.802 20.55 22.202 19.85 21.902 19.35L17.302 11.35Z" fill="currentColor"></path><path opacity="0.3" d="M12.002 20.55H2.802C2.202 20.55 1.80202 19.85 2.10202 19.35L6.70203 11.45L12.002 20.55ZM11.302 3.45L6.70203 11.35H17.302L12.702 3.45C12.402 2.85 11.602 2.85 11.302 3.45Z" fill="currentColor"></path></svg></span></div></div>',1),u={key:0,class:"d-flex flex-column",style:{width:"100%"}},d={class:"text-muted fw-bolder",style:{"line-height":"2px"}},h={style:{float:"right"}},p=Object(o["createTextVNode"])(" "),f=Object(o["createElementVNode"])("a",{href:"#"},"Disco Studio",-1),g=Object(o["createElementVNode"])("span",{class:"mx-3"},"|",-1),m=Object(o["createTextVNode"])("Status "),b={class:"mx-3"},v={key:0},y={key:1},w=Object(o["createElementVNode"])("div",{class:"card-body pb-0"},[Object(o["createElementVNode"])("div",{class:"d-flex overflow-auto h-55px"},[Object(o["createElementVNode"])("ul",{class:"nav nav-stretch fs-5 fw-bold nav-line-tabs nav-line-tabs-2x border-transparent",role:"tablist"},[Object(o["createElementVNode"])("li",{class:"nav-item",role:"presentation"},[Object(o["createElementVNode"])("a",{class:"nav-link text-active-primary active","data-bs-toggle":"tab",role:"tab",href:"#kt_scenes_tab_content"}," Scenes ")]),Object(o["createElementVNode"])("li",{class:"nav-item",role:"presentation"},[Object(o["createElementVNode"])("a",{class:"nav-link text-active-primary ms-3","data-bs-toggle":"tab",role:"tab",href:"#kt_animation_tab_content"}," Animation ")]),Object(o["createElementVNode"])("li",{class:"nav-item",role:"presentation"},[Object(o["createElementVNode"])("a",{class:"nav-link text-active-primary ms-3","data-bs-toggle":"tab",role:"tab",href:"#kt_process_tab_content"}," Process ")])])])],-1),O={class:"card card-flush"},j={class:"card-body",style:{}},x={id:"kt_scenes_tab_contents",class:"tab-content"},k={id:"kt_scenes_tab_content",class:"py-0 tab-pane fade active show",role:"tabpanel"},_={class:"row"},E={class:"col-6"},S=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Generator Chain",-1),N={key:0,class:"flex"},C={style:{float:"right"}},B=["onClick"],P=Object(o["createElementVNode"])("br",null,null,-1),A={key:1},M=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Preview",-1),V={key:0,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block",width:"100%"}},D=["src"],$={key:1,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block",width:"100%"}},T=["src"],z={key:2,class:"card-generator",style:{margin:"15px 0 0 0",color:"#fff"}},I={class:"col-6"},L={key:0},Y={style:{color:"#fff","line-height":"36px"}},X={style:{float:"right"}},F=Object(o["createTextVNode"])(" Settings "),H={class:"item-generator"},R={id:"kt_animation_tab_content",class:"py-0 tab-pane fade active show",role:"tabpanel"},Z={style:{width:"100%",height:"600px",position:"relative"},class:"threejs"},U={id:"kt_process_tab_content",class:"py-0 tab-pane fade show",role:"tabpanel"},G={class:"row"},W={class:"col-6"},Q=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Status",-1),q={style:{color:"#fff"}},K=Object(o["createTextVNode"])(" Currently: "),J={key:0},ee={key:1},te=Object(o["createElementVNode"])("br",null,null,-1),ne=Object(o["createElementVNode"])("h3",{style:{color:"#fff"}},"Output",-1),oe=["innerHTML"],ie=Object(o["createElementVNode"])("br",null,null,-1),re=Object(o["createTextVNode"])(""),ae={key:0,class:"col-6"},le=Object(o["createElementVNode"])("h2",{style:{color:"#fff"}},"Output",-1),se={key:0,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block"}},ce=["src"],ue={key:1,class:"card-generator",style:{margin:"15px 0 0 0",display:"inline-block"}},de=["src"],he={key:2,class:"card-generator",style:{margin:"15px 0 0 0",color:"#fff"}},pe={key:0},fe={class:"menu-item menu-accordion","data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},ge=Object(o["createElementVNode"])("div",{class:"menu-content pt-8 pb-2"},[Object(o["createElementVNode"])("span",{class:"menu-section text-muted text-uppercase fs-8 ls-1"},"Projects")],-1),me=Object(o["createElementVNode"])("span",{class:"menu-link"},[Object(o["createElementVNode"])("span",{class:"menu-icon"},[Object(o["createElementVNode"])("i",{class:"bi bi-bag-check-fill fs-2x"})]),Object(o["createElementVNode"])("span",{class:"menu-title"},"My Projects")],-1),be=Object(o["createElementVNode"])("span",{class:"menu-link"},[Object(o["createElementVNode"])("span",{class:"menu-icon"},[Object(o["createElementVNode"])("i",{class:"bi bi-card-list fs-2x"})]),Object(o["createElementVNode"])("span",{class:"menu-title"},"Shared Projects")],-1),ve=Object(o["createElementVNode"])("span",{class:"menu-link"},[Object(o["createElementVNode"])("span",{class:"menu-icon"},[Object(o["createElementVNode"])("i",{class:"bi bi-link-45deg fs-2x"})]),Object(o["createElementVNode"])("span",{class:"menu-title"},"Closed Projects")],-1),ye={class:"menu-item menu-accordion","data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},we=Object(o["createElementVNode"])("div",{class:"menu-content pt-8 pb-2"},[Object(o["createElementVNode"])("span",{class:"menu-section text-muted text-uppercase fs-8 ls-1"},"Generators")],-1),Oe={style:{float:"right"}},je=["onClick"];function xe(e,t,n,xe,ke,_e){var Ee=Object(o["resolveComponent"])("draggable"),Se=Object(o["resolveComponent"])("Vue3LiveForm"),Ne=Object(o["resolveComponent"])("Camera"),Ce=Object(o["resolveComponent"])("Scene"),Be=Object(o["resolveComponent"])("Renderer"),Pe=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",i,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",s,[c,e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",u,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(t){return e.startProject()})},"Run"),p,Object(o["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(t){return e.saveProject()})},"Save")]),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",name:"title",placeholder:"Title...","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.state.project.title=t}),style:{display:"inline-block",width:"200px",color:"white","margin-right":"15px",background:"transparent",border:"1px solid #555"}},null,512),[[o["vModelText"],e.state.project.title]]),f,g,m,Object(o["createElementVNode"])("span",b,[e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",v,"Running "+Object(o["toDisplayString"])(e.state.progressPercentage),1)):Object(o["createCommentVNode"])("",!0),e.state.busy?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,"Idle"))])])])):Object(o["createCommentVNode"])("",!0)])]),w]),Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",E,[S,null!=e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createVNode"])(Ee,{class:"dragArea list-group w-full",list:e.state.project.generators,onChange:e.log},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.project.generators,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"bg-gray-300 m-1 p-3 rounded-md text-center item-generator",key:t.title},[Object(o["createElementVNode"])("h3",null,[Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:function(n){return e.selectGenerator(t)}}," Edit ",8,B)]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.title),1)]),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(t.description),1)])})),128))]})),_:1},8,["list","onChange"])])):Object(o["createCommentVNode"])("",!0),P,e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",A,[M,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.project.generators,(function(t){var n;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.title},[2==t.type&&e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",V,[Object(o["createElementVNode"])("img",{style:{width:"100%"},src:e.apiUrl+"/output/progress.png",alt:""},null,8,D)])):Object(o["createCommentVNode"])("",!0),(null===(n=t.output_path)||void 0===n?void 0:n.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$,[Object(o["createElementVNode"])("img",{style:{width:"100%"},src:e.apiUrl+"/"+t.output_path,alt:""},null,8,T)])):Object(o["createCommentVNode"])("",!0),null==t.output_path?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",z," No preview available. ")):Object(o["createCommentVNode"])("",!0)])})),128))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",I,[null!=e.state.selectedGenerator?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",L,[Object(o["createElementVNode"])("h2",Y,[Object(o["createElementVNode"])("div",X,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[3]||(t[3]=function(t){return e.deleteGenerator(e.state.selectedGenerator)})}," Delete ")]),F]),Object(o["createElementVNode"])("div",H,[Object(o["createVNode"])(Se,{schema:e.state.selectedGenerator.schema,modelValue:e.state.selectedGenerator.settings,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.selectedGenerator.settings=t})},null,8,["schema","modelValue"])])])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("div",Z,[Object(o["createVNode"])(Be,{ref:"renderer",resize:!0,style:{width:"100%",height:"600px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Ne,{ref:"camera",fov:70,near:1,far:1e4},null,512),Object(o["createVNode"])(Ce,{ref:"scene"},null,512)]})),_:1},512)])]),Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("div",G,[Object(o["createElementVNode"])("div",W,[Q,Object(o["createElementVNode"])("p",q,[K,e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",J,"Running "+Object(o["toDisplayString"])(e.state.progressPercentage),1)):Object(o["createCommentVNode"])("",!0),e.state.busy?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ee,"Idle"))]),te,ne,Object(o["createElementVNode"])("div",{style:{color:"#fff"},innerHTML:e.state.output},null,8,oe),ie,Object(o["createElementVNode"])("p",null,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[5]||(t[5]=function(t){return e.startProject()})}," Run"),re,Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:t[6]||(t[6]=function(t){return e.updateStatus()})}," Update ")])]),e.state.project?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ae,[le,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.project.generators,(function(t){var n;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.title},[2==t.type&&e.state.busy?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",se,[Object(o["createElementVNode"])("img",{src:e.apiUrl+"/output/progress.png",alt:""},null,8,ce)])):Object(o["createCommentVNode"])("",!0),(null===(n=t.output_path)||void 0===n?void 0:n.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ue,[Object(o["createElementVNode"])("img",{src:e.apiUrl+"/"+t.output_path,alt:""},null,8,de)])):Object(o["createCommentVNode"])("",!0),null==t.output_path?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",he," No preview available. ")):Object(o["createCommentVNode"])("",!0)])})),128))])):Object(o["createCommentVNode"])("",!0)])])])]),e.state.mounted?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pe,[(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#aside-context"},[Object(o["createElementVNode"])("div",fe,[ge,Object(o["createVNode"])(Pe,{to:"/projects"},{default:Object(o["withCtx"])((function(){return[me]})),_:1}),Object(o["createVNode"])(Pe,{to:"/projects"},{default:Object(o["withCtx"])((function(){return[be]})),_:1}),Object(o["createVNode"])(Pe,{to:"/projects"},{default:Object(o["withCtx"])((function(){return[ve]})),_:1})]),Object(o["createElementVNode"])("div",ye,[we,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.state.generators,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"card-generator",key:t.title},[Object(o["createElementVNode"])("h3",null,[Object(o["createElementVNode"])("div",Oe,[Object(o["createElementVNode"])("button",{class:"btn btn-primary btn-sm",onClick:function(n){return e.addGenerator(t)}}," Add ",8,je)]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.title),1)]),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(t.description),1)])})),128))])]))])):Object(o["createCommentVNode"])("",!0)])])])])}var ke=n("5a89"),_e=n("7929"),Ee={class:"save__controls"},Se=Object(o["defineComponent"])({setup:function(e){var t="example-flow",n=useStorage(t,{nodes:[],edges:[],position:[NaN,NaN],zoom:1}),i=function(){return"randomnode_"+ +new Date},r=Object(_e["c"])().setTransform,a=Object(_e["b"])(),l=(a.nodes,a.edges,a.addNodes),s=a.setNodes,c=a.setEdges,u=a.instance,d=a.dimensions,h=function(){var e;n.value=null===(e=u.value)||void 0===e?void 0:e.toObject()},p=function(){var e=n.value;if(e){var t=e.position,o=t[0],i=void 0===o?0:o,a=t[1],l=void 0===a?0:a;s(n.value.nodes),c(n.value.edges),r({x:i,y:l,zoom:e.zoom||0})}},f=function(){var e={id:"random_node-"+i(),label:"Added node",position:{x:Math.random()*d.value.width,y:Math.random()*d.value.height}};l([e])};return function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ee,[Object(o["createElementVNode"])("button",{onClick:h},"save"),Object(o["createElementVNode"])("button",{onClick:p},"restore"),Object(o["createElementVNode"])("button",{onClick:f},"add node")])}}});const Ne=Se;var Ce=Ne,Be=Object(o["defineComponent"])({setup:function(e){var t=[{id:"1",label:"Node 1",position:{x:100,y:100}},{id:"2",label:"Node 2",position:{x:100,y:200}},{id:"e1-2",source:"1",target:"2"}],n=Object(o["ref"])(t);return function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["unref"])(_e["a"]),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Ce)]})),_:1},8,["modelValue"])}}});const Pe=Be;var Ae=Pe,Me=n("a1e9"),Ve=n("5c40"),De=["readonly","type"],$e=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=function(){n("change")};return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("input",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),class:Object(o["normalizeClass"])({readonly:e.config.readonly}),readonly:e.config.readonly,type:e.config.type,onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(i)&&Object(o["unref"])(i).apply(void 0,e)})},null,42,De)),[[o["vModelDynamic"],e.modelValue[e.config.field]]])}}}),Te=(n("32e4"),n("6b0d")),ze=n.n(Te);const Ie=ze()($e,[["__scopeId","data-v-4077e6ea"]]);var Le=Ie,Ye=["readonly"],Xe=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=function(){n("change")};return function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("label",null,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),readonly:e.config.readonly,type:"checkbox",onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(i)&&Object(o["unref"])(i).apply(void 0,e)})},null,40,Ye),[[o["vModelCheckbox"],e.modelValue[e.config.field]]])])}}});n("c2ea");const Fe=ze()(Xe,[["__scopeId","data-v-18ea1cd1"]]);var He=Fe,Re=["readonly","type"],Ze=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=function(){n("change")};return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("textarea",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),readonly:e.config.readonly,type:"password"===e.config.type?"password":"text",onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(i)&&Object(o["unref"])(i).apply(void 0,e)})},null,40,Re)),[[o["vModelText"],e.modelValue[e.config.field]]])}}});const Ue=Ze;var Ge=Ue,We=["value","id"],Qe=["value","id"],qe=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=function(){n("change")};return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("select",{"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(i)&&Object(o["unref"])(i).apply(void 0,e)})},["string"===typeof e.config.options?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(e.modelValue[e.config.options],(function(t,n){var i;return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:"option-"+n,value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+n},Object(o["toDisplayString"])(null!==(i=t[e.config.optionLabel])&&void 0!==i?i:t),9,We)})),128)):Object(o["createCommentVNode"])("",!0),"string"!==typeof e.config.options&&e.config.options.length>0?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:1},Object(o["renderList"])(e.config.options,(function(t,n){var i;return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:"option-"+n,value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+n},Object(o["toDisplayString"])(null!==(i=t[e.config.optionLabel])&&void 0!==i?i:t),9,Qe)})),128)):Object(o["createCommentVNode"])("",!0)],544)),[[o["vModelSelect"],e.modelValue[e.config.field]]])}}});const Ke=qe;var Je=Ke,et=["value","id"],tt=["for"],nt=["value","id"],ot=["for"],it=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=function(){n("change")};return function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,["string"===typeof e.config.options?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(e.modelValue[e.config.options],(function(t,r){var a;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:"option-"+r,class:"sf-radio-item"},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+r+"-"+e.config.optionValue+"-"+e.config.optionLabel,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.modelValue[e.config.field]=t}),type:"radio",onChange:n[1]||(n[1]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(i)&&Object(o["unref"])(i).apply(void 0,e)})},null,40,et),[[o["vModelRadio"],e.modelValue[e.config.field]]]),Object(o["createElementVNode"])("label",{for:"option-"+r+"-"+e.config.optionValue+"-"+e.config.optionLabel},Object(o["toDisplayString"])(null!==(a=t[e.config.optionLabel])&&void 0!==a?a:t),9,tt)])})),128)):Object(o["createCommentVNode"])("",!0),"string"!==typeof e.config.options&&e.config.options.length>0?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:1},Object(o["renderList"])(e.config.options,(function(t,r){var a;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:"option-"+r,class:"sf-radio-item"},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{value:e.config.optionValue?t[e.config.optionValue]:t,id:"option-"+r+"-"+e.config.optionValue+"-"+e.config.optionLabel,"onUpdate:modelValue":n[2]||(n[2]=function(t){return e.modelValue[e.config.field]=t}),type:"radio",onChange:n[3]||(n[3]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(i)&&Object(o["unref"])(i).apply(void 0,e)})},null,40,nt),[[o["vModelRadio"],e.modelValue[e.config.field]]]),Object(o["createElementVNode"])("label",{for:"option-"+r+"-"+e.config.optionValue+"-"+e.config.optionLabel},Object(o["toDisplayString"])(null!==(a=t[e.config.optionLabel])&&void 0!==a?a:t),9,ot)])})),128)):Object(o["createCommentVNode"])("",!0)],64)}}});n("10b3");const rt=ze()(it,[["__scopeId","data-v-a987d8c8"]]);var at=rt,lt=function(e,t){var n=e.criteria;if(n){var o=n[0],i=n[1],r=n[2],a=!1;switch(i){case"!=":a=t[o]!==r;break;case"==":a=t[o]===r;break}return a}return!0},st=lt,ct={class:"sf-nested-rows"},ut=["onClick"],dt=Object(o["defineComponent"])({props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=e,r=function(){n("change")},a=Object(Me["s"])(!1);Object(Ve["ob"])((function(){a.value=!0}));var l=JSON.parse(JSON.stringify(i.config.columns)),s=Object(Me["s"])(i.modelValue[i.config.field]),c=function(){var e={};for(var t in l)e[l[t]["field"]]="nested"===l[t]["type"]?[]:null;s.value.push(e),n("change")},u=function(e){s.value.splice(e,1),n("change")};return function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ct,[Object(o["createElementVNode"])("table",null,[Object(o["createElementVNode"])("tr",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.config.columns,(function(e,t){var n;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{class:"sf-nested-column",key:"column-label-"+t},Object(o["toDisplayString"])(null!==(n=e.label)&&void 0!==n?n:e.field),1)})),128))]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.modelValue[e.config.field],(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:"row-"+n,class:"sf-nested-row"},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.config.columns,(function(e,t){var i;return Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{key:"column-"+t,class:"sf-nested-column"},[Object(o["unref"])(st)(e,Object(o["unref"])(s)[n])?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(Object(o["unref"])(ft)(e.type)),{key:0,modelValue:Object(o["unref"])(s)[n],"onUpdate:modelValue":function(e){return Object(o["unref"])(s)[n]=e},config:e,readonly:null!==(i=e.readonly)&&void 0!==i&&i,onChange:Object(o["unref"])(r)},null,8,["modelValue","onUpdate:modelValue","config","readonly","onChange"])):Object(o["createCommentVNode"])("",!0)])})),128)),Object(o["createElementVNode"])("td",{class:"sf-nested-delete",onClick:function(e){return Object(o["unref"])(u)(n)},tabindex:"0"},null,8,ut)])})),128))]),Object(o["createElementVNode"])("button",{class:"sf-nested-row add-row",tabindex:"0",onClick:n[0]||(n[0]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o["unref"])(c)&&Object(o["unref"])(c).apply(void 0,e)})},"Add Entry")])}}});n("1ea6"),n("784b");const ht=ze()(dt,[["__scopeId","data-v-6a4fd6b4"]]);var pt=ht,ft=function(e){switch(e){case"text":return Le;case"date":return Le;case"number":return Le;case"password":return Le;case"checkbox":return He;case"boolean":return He;case"textarea":return Ge;case"textbox":return Ge;case"select":return Je;case"radio":return at;case"nested":return pt}},gt={class:"sf-container"},mt={class:"sf-row-label"},bt={class:"sf-row-input"},vt=Object(o["defineComponent"])({props:{schema:{type:Object,required:!1},modelValue:{type:Object,required:!0}},emits:["change"],setup:function(e,t){var n=t.emit,i=e;Object(o["useCssVars"])((function(e){var t,n;return{"4547aaaa":null!==(n=null===(t=null===i||void 0===i?void 0:i.schema)||void 0===t?void 0:t.labelWidth)&&void 0!==n?n:"150px"}}));var r=Object(Me["s"])(!1),a=function(){n("change")};return Object(Ve["ob"])((function(){r.value=!0})),function(t,n){var r;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gt,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===(r=i.schema)||void 0===r?void 0:r.rows,(function(t,i){var r,l;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["sf-row",{"sf-row-flex-column":"nested"===t.type}]),key:t+"-"+String(i)},[Object(o["unref"])(st)(t,e.modelValue)?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("div",mt,Object(o["toDisplayString"])(null!==(r=t.label)&&void 0!==r?r:t.field),1),Object(o["createElementVNode"])("div",bt,[e.modelValue?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(Object(o["unref"])(ft)(t.type)),{key:0,modelValue:e.modelValue,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(o["isRef"])(modelValue)?modelValue.value=e:null}),config:t,readonly:null!==(l=t.readonly)&&void 0!==l&&l,onChange:Object(o["unref"])(a)},null,8,["modelValue","config","readonly","onChange"])):Object(o["createCommentVNode"])("",!0)])],64)):Object(o["createCommentVNode"])("",!0)],2)})),128))])}}});n("daae");const yt=vt;var wt=yt,Ot={class:"row"},jt={class:"col-4 mb-4 mt-4"},xt=Object(o["createElementVNode"])("label",{class:"form-label fw-bold"},"Status:",-1),kt=Object(o["createTextVNode"])("Approved"),_t=Object(o["createTextVNode"])("Pending"),Et=Object(o["createTextVNode"])("In Process"),St=Object(o["createTextVNode"])("Rejected"),Nt={class:"col-4 mb-4 mt-4"},Ct=Object(o["createElementVNode"])("label",{class:"form-label fw-bold"},"Member Type:",-1),Bt={class:"d-flex"},Pt={class:"form-check form-check-sm form-check-custom form-check-solid me-5"},At=Object(o["createElementVNode"])("span",{class:"form-check-label"},"Author",-1),Mt={class:"form-check form-check-sm form-check-custom form-check-solid"},Vt=Object(o["createElementVNode"])("span",{class:"form-check-label"},"Customer",-1),Dt={class:"col-4 mb-4 mt-4"},$t=Object(o["createElementVNode"])("label",{class:"form-label fw-bold"},"Notifications:",-1),Tt={class:"form-check form-switch form-switch-sm form-check-custom form-check-solid"},zt=Object(o["createElementVNode"])("label",{class:"form-check-label"},"Enabled",-1),It=Object(o["createElementVNode"])("div",{class:"d-flex justify-content-end"},[Object(o["createElementVNode"])("button",{type:"reset",class:"btn btn-sm btn-white btn-active-light-primary me-2","data-kt-menu-dismiss":"true"},"Reset"),Object(o["createElementVNode"])("button",{type:"submit",class:"btn btn-sm btn-primary","data-kt-menu-dismiss":"true"},"Apply")],-1);function Lt(e,t,n,i,r,a){var l=Object(o["resolveComponent"])("el-option"),s=Object(o["resolveComponent"])("el-select"),c=Object(o["resolveComponent"])("el-checkbox");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ot,[Object(o["createElementVNode"])("div",jt,[xt,Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(s,{class:"form-select-solid",placeholder:"Select option",modelValue:e.data.status,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data.status=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{label:"Approved",value:"1"},{default:Object(o["withCtx"])((function(){return[kt]})),_:1}),Object(o["createVNode"])(l,{label:"Pending",value:"2"},{default:Object(o["withCtx"])((function(){return[_t]})),_:1}),Object(o["createVNode"])(l,{label:"In Process",value:"3"},{default:Object(o["withCtx"])((function(){return[Et]})),_:1}),Object(o["createVNode"])(l,{label:"Rejected",value:"4"},{default:Object(o["withCtx"])((function(){return[St]})),_:1})]})),_:1},8,["modelValue"])])]),Object(o["createElementVNode"])("div",Nt,[Ct,Object(o["createElementVNode"])("div",Bt,[Object(o["createElementVNode"])("label",Pt,[Object(o["createVNode"])(c,{type:"checkbox",value:"1",modelValue:e.data.author,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.author=t})},null,8,["modelValue"]),At]),Object(o["createElementVNode"])("label",Mt,[Object(o["createVNode"])(c,{type:"checkbox",value:"2",modelValue:e.data.customer,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.customer=t})},null,8,["modelValue"]),Vt])])]),Object(o["createElementVNode"])("div",Dt,[$t,Object(o["createElementVNode"])("div",Tt,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",name:"notifications","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.notifications=t})},null,512),[[o["vModelCheckbox"],e.data.notifications]]),zt])]),It])}var Yt=Object(o["defineComponent"])({name:"filter-timeline",components:{},setup:function(){var e=Object(o["ref"])({status:"1",author:!0,customer:!0,notifications:!0});return{data:e}}});const Xt=ze()(Yt,[["render",Lt]]);var Ft=Xt,Ht={class:"menu-item menu-accordion","data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},Rt=Object(o["createStaticVNode"])('<div class="menu-content pt-8 pb-2"><span class="menu-section text-muted text-uppercase fs-8 ls-1">Projects</span></div><span class="menu-link"><span class="menu-icon"><i class="bi bi-bag-check-fill fs-2x"></i></span><span class="menu-title">My Projects</span></span><span class="menu-link"><span class="menu-icon"><i class="bi bi-card-list fs-2x"></i></span><span class="menu-title">Shared Projects</span></span><span class="menu-link"><span class="menu-icon"><i class="bi bi-link-45deg fs-2x"></i></span><span class="menu-title">Closed Projects</span></span>',4),Zt=[Rt];function Ut(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ht,Zt)}var Gt=Object(o["defineComponent"])({name:"aside_default_menu",components:{},props:{widgetClasses:String},setup:function(){var e=[];return{items:e}}});const Wt=ze()(Gt,[["render",Ut]]);var Qt=Wt,qt=n("16d6"),Kt=n("6c02"),Jt=n("7d42");
/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.16.0
 * @author George Michael Brower
 * @license MIT
 */
class en{constructor(e,t,n,o,i="div"){this.parent=e,this.object=t,this.property=n,this._disabled=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(o),this.$name=document.createElement("div"),this.$name.classList.add("name"),en.nextNameID=en.nextNameID||0,this.$name.id="lil-gui-name-"+ ++en.nextNameID,this.$widget=document.createElement(i),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}listen(e=!0){return this._listening=e,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback),this.updateDisplay()}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class tn extends en{constructor(e,t,n){super(e,t,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function nn(e){let t,n;return(t=e.match(/(#|0x)?([a-f0-9]{6})/i))?n=t[2]:(t=e.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=e.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),!!n&&"#"+n}const on={isPrimitive:!0,match:e=>"string"==typeof e,fromHexString:nn,toHexString:nn},rn={isPrimitive:!0,match:e=>"number"==typeof e,fromHexString:e=>parseInt(e.substring(1),16),toHexString:e=>"#"+e.toString(16).padStart(6,0)},an={isPrimitive:!1,match:Array.isArray,fromHexString(e,t,n=1){const o=rn.fromHexString(e);t[0]=(o>>16&255)/255*n,t[1]=(o>>8&255)/255*n,t[2]=(255&o)/255*n},toHexString:([e,t,n],o=1)=>rn.toHexString(e*(o=255/o)<<16^t*o<<8^n*o<<0)},ln={isPrimitive:!1,match:e=>Object(e)===e,fromHexString(e,t,n=1){const o=rn.fromHexString(e);t.r=(o>>16&255)/255*n,t.g=(o>>8&255)/255*n,t.b=(255&o)/255*n},toHexString:({r:e,g:t,b:n},o=1)=>rn.toHexString(e*(o=255/o)<<16^t*o<<8^n*o<<0)},sn=[on,rn,an,ln];class cn extends en{constructor(e,t,n,o){var i;super(e,t,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(i=this.initialValue,sn.find(e=>e.match(i))),this._rgbScale=o,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const e=nn(this.$text.value);e&&this._setValueFromHexString(e)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class un extends en{constructor(e,t,n){super(e,t,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",e=>{e.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{}),this.$disable=this.$button}}class dn extends en{constructor(e,t,n,o,i,r){super(e,t,n,"number"),this._initInput(),this.min(o),this.max(i);const a=void 0!==r;this.step(a?r:this._getImplicitStep(),a),this.updateDisplay()}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=100*t+"%"}return this._inputFocused||(this.$input.value=e),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=e=>{const t=parseFloat(this.$input.value);isNaN(t)||(this._snapClampSetValue(t+e),this.$input.value=this.getValue())};let t,n,o,i,r,a=!1;const l=e=>{if(a){const o=e.clientX-t,i=e.clientY-n;Math.abs(i)>5?(e.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(o)>5&&s()}if(!a){const t=e.clientY-o;r-=t*this._step*this._arrowKeyMultiplier(e),i+r>this._max?r=this._max-i:i+r<this._min&&(r=this._min-i),this._snapClampSetValue(i+r)}o=e.clientY},s=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",s)};this.$input.addEventListener("input",()=>{const e=parseFloat(this.$input.value);isNaN(e)||this.setValue(this._clamp(e))}),this.$input.addEventListener("keydown",t=>{"Enter"===t.code&&this.$input.blur(),"ArrowUp"===t.code&&(t.preventDefault(),e(this._step*this._arrowKeyMultiplier(t))),"ArrowDown"===t.code&&(t.preventDefault(),e(this._step*this._arrowKeyMultiplier(t)*-1))}),this.$input.addEventListener("wheel",t=>{this._inputFocused&&(t.preventDefault(),e(this._step*this._normalizeMouseWheel(t)))}),this.$input.addEventListener("mousedown",e=>{t=e.clientX,n=o=e.clientY,a=!0,i=this.getValue(),r=0,window.addEventListener("mousemove",l),window.addEventListener("mouseup",s)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=e=>{const t=this.$slider.getBoundingClientRect();let n=(o=e,i=t.left,r=t.right,a=this._min,l=this._max,(o-i)/(r-i)*(l-a)+a);var o,i,r,a,l;this._snapClampSetValue(n)},t=t=>{e(t.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)};let o,i,r=!1;const a=t=>{t.preventDefault(),this._setDraggingStyle(!0),e(t.touches[0].clientX),r=!1},l=t=>{if(r){const e=t.touches[0].clientX-o,n=t.touches[0].clientY-i;Math.abs(e)>Math.abs(n)?a(t):(window.removeEventListener("touchmove",l),window.removeEventListener("touchend",s))}else t.preventDefault(),e(t.touches[0].clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",s)},c=this._callOnFinishChange.bind(this);let u;this.$slider.addEventListener("mousedown",o=>{this._setDraggingStyle(!0),e(o.clientX),window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)}),this.$slider.addEventListener("touchstart",e=>{e.touches.length>1||(this._hasScrollBar?(o=e.touches[0].clientX,i=e.touches[0].clientY,r=!0):a(e),window.addEventListener("touchmove",l),window.addEventListener("touchend",s))}),this.$slider.addEventListener("wheel",e=>{if(Math.abs(e.deltaX)<Math.abs(e.deltaY)&&this._hasScrollBar)return;e.preventDefault();const t=this._normalizeMouseWheel(e)*this._step;this._snapClampSetValue(this.getValue()+t),this.$input.value=this.getValue(),clearTimeout(u),u=setTimeout(c,400)})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle("lil-gui-"+t,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),t+-n}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class hn extends en{constructor(e,t,n,o){super(e,t,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(o)?o:Object.values(o),this._names=Array.isArray(o)?o:Object.keys(o),this._names.forEach(e=>{const t=document.createElement("option");t.innerHTML=e,this.$select.appendChild(t)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=-1===t?e:this._names[t],this}}class pn extends en{constructor(e,t,n){super(e,t,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",e=>{"Enter"===e.code&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let fn=!1;class gn{constructor({parent:e,autoPlace:t=void 0===e,container:n,width:o,title:i="Controls",injectStyles:r=!0,touchStyles:a=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",e=>{"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(i),a&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!fn&&r&&(function(e){const t=document.createElement("style");t.innerHTML=e;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(t,n):document.head.appendChild(t)}('.lil-gui{--background-color:#1f1f1f;--text-color:#ebebeb;--title-background-color:#111;--title-text-color:#ebebeb;--widget-color:#424242;--hover-color:#4f4f4f;--focus-color:#595959;--number-color:#2cc9ff;--string-color:#a2db3c;--font-size:11px;--input-font-size:11px;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;--font-family-mono:Menlo,Monaco,Consolas,"Droid Sans Mono",monospace;--padding:4px;--spacing:4px;--widget-height:20px;--name-width:45%;--slider-knob-width:2px;--slider-input-width:27%;--color-input-width:27%;--slider-input-min-width:45px;--color-input-min-width:45px;--folder-indent:7px;--widget-padding:0 0 0 3px;--widget-border-radius:2px;--checkbox-size:calc(var(--widget-height)*0.75);--scrollbar-width:5px;background-color:var(--background-color);color:var(--text-color);font-family:var(--font-family);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:1;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none}.lil-gui,.lil-gui *{box-sizing:border-box;margin:0;padding:0}.lil-gui.root{display:flex;flex-direction:column;width:var(--width,245px)}.lil-gui.root>.title{background:var(--title-background-color);color:var(--title-text-color)}.lil-gui.root>.children{overflow-x:hidden;overflow-y:auto}.lil-gui.root>.children::-webkit-scrollbar{background:var(--background-color);height:var(--scrollbar-width);width:var(--scrollbar-width)}.lil-gui.root>.children::-webkit-scrollbar-thumb{background:var(--focus-color);border-radius:var(--scrollbar-width)}.lil-gui.force-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}.lil-gui.autoPlace{max-height:100%;position:fixed;right:15px;top:0;z-index:1001}.lil-gui .controller{align-items:center;display:flex;margin:var(--spacing) 0;padding:0 var(--padding)}.lil-gui .controller.disabled{opacity:.5}.lil-gui .controller.disabled,.lil-gui .controller.disabled *{pointer-events:none!important}.lil-gui .controller>.name{flex-shrink:0;line-height:var(--widget-height);min-width:var(--name-width);padding-right:var(--spacing);white-space:pre}.lil-gui .controller .widget{align-items:center;display:flex;min-height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.string input{color:var(--string-color)}.lil-gui .controller.boolean .widget{cursor:pointer}.lil-gui .controller.color .display{border-radius:var(--widget-border-radius);height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.color input[type=color]{cursor:pointer;height:100%;opacity:0;width:100%}.lil-gui .controller.color input[type=text]{flex-shrink:0;font-family:var(--font-family-mono);margin-left:var(--spacing);min-width:var(--color-input-min-width);width:var(--color-input-width)}.lil-gui .controller.option select{max-width:100%;opacity:0;position:absolute;width:100%}.lil-gui .controller.option .display{background:var(--widget-color);border-radius:var(--widget-border-radius);height:var(--widget-height);line-height:var(--widget-height);max-width:100%;overflow:hidden;padding-left:.55em;padding-right:1.75em;pointer-events:none;position:relative;word-break:break-all}.lil-gui .controller.option .display.active{background:var(--focus-color)}.lil-gui .controller.option .display:after{bottom:0;content:"";font-family:lil-gui;padding-right:.375em;position:absolute;right:0;top:0}.lil-gui .controller.option .widget,.lil-gui .controller.option select{cursor:pointer}.lil-gui .controller.number input{color:var(--number-color)}.lil-gui .controller.number.hasSlider input{flex-shrink:0;margin-left:var(--spacing);min-width:var(--slider-input-min-width);width:var(--slider-input-width)}.lil-gui .controller.number .slider{background-color:var(--widget-color);border-radius:var(--widget-border-radius);cursor:ew-resize;height:var(--widget-height);overflow:hidden;padding-right:var(--slider-knob-width);touch-action:pan-y;width:100%}.lil-gui .controller.number .slider.active{background-color:var(--focus-color)}.lil-gui .controller.number .slider.active .fill{opacity:.95}.lil-gui .controller.number .fill{border-right:var(--slider-knob-width) solid var(--number-color);box-sizing:content-box;height:100%}.lil-gui-dragging .lil-gui{--hover-color:var(--widget-color)}.lil-gui-dragging *{cursor:ew-resize!important}.lil-gui-dragging.lil-gui-vertical *{cursor:ns-resize!important}.lil-gui .title{--title-height:calc(var(--widget-height) + var(--spacing)*1.25);-webkit-tap-highlight-color:transparent;text-decoration-skip:objects;cursor:pointer;font-weight:600;height:var(--title-height);line-height:calc(var(--title-height) - 4px);outline:none;padding:0 var(--padding)}.lil-gui .title:before{content:"";display:inline-block;font-family:lil-gui;padding-right:2px}.lil-gui .title:active{background:var(--title-background-color);opacity:.75}.lil-gui.root>.title:focus{text-decoration:none!important}.lil-gui.closed>.title:before{content:""}.lil-gui.closed>.children{opacity:0;transform:translateY(-7px)}.lil-gui.closed:not(.transition)>.children{display:none}.lil-gui.transition>.children{overflow:hidden;pointer-events:none;transition-duration:.3s;transition-property:height,opacity,transform;transition-timing-function:cubic-bezier(.2,.6,.35,1)}.lil-gui .children:empty:before{content:"Empty";display:block;font-style:italic;height:var(--widget-height);line-height:var(--widget-height);margin:var(--spacing) 0;opacity:.5;padding:0 var(--padding)}.lil-gui.root>.children>.lil-gui>.title{border-width:0;border-bottom:1px solid var(--widget-color);border-left:0 solid var(--widget-color);border-right:0 solid var(--widget-color);border-top:1px solid var(--widget-color);transition:border-color .3s}.lil-gui.root>.children>.lil-gui.closed>.title{border-bottom-color:transparent}.lil-gui+.controller{border-top:1px solid var(--widget-color);margin-top:0;padding-top:var(--spacing)}.lil-gui .lil-gui .lil-gui>.title{border:none}.lil-gui .lil-gui .lil-gui>.children{border:none;border-left:2px solid var(--widget-color);margin-left:var(--folder-indent)}.lil-gui .lil-gui .controller{border:none}.lil-gui input{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:0;border-radius:var(--widget-border-radius);color:var(--text-color);font-family:var(--font-family);font-size:var(--input-font-size);height:var(--widget-height);outline:none;width:100%}.lil-gui input:disabled{opacity:1}.lil-gui input[type=number],.lil-gui input[type=text]{padding:var(--widget-padding)}.lil-gui input[type=number]:focus,.lil-gui input[type=text]:focus{background:var(--focus-color)}.lil-gui input::-webkit-inner-spin-button,.lil-gui input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.lil-gui input[type=number]{-moz-appearance:textfield}.lil-gui input[type=checkbox]{appearance:none;-webkit-appearance:none;border-radius:var(--widget-border-radius);cursor:pointer;height:var(--checkbox-size);text-align:center;width:var(--checkbox-size)}.lil-gui input[type=checkbox]:checked:before{content:"";font-family:lil-gui;font-size:var(--checkbox-size);line-height:var(--checkbox-size)}.lil-gui button{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:1px solid var(--widget-color);border-radius:var(--widget-border-radius);color:var(--text-color);cursor:pointer;font-family:var(--font-family);font-size:var(--font-size);height:var(--widget-height);line-height:calc(var(--widget-height) - 4px);outline:none;text-align:center;text-transform:none;width:100%}.lil-gui button:active{background:var(--focus-color)}@font-face{font-family:lil-gui;src:url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff")}@media (pointer:coarse){.lil-gui.allow-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}}@media (hover:hover){.lil-gui .controller.color .display:hover:before{border:1px solid #fff9;border-radius:var(--widget-border-radius);bottom:0;content:" ";display:block;left:0;position:absolute;right:0;top:0}.lil-gui .controller.option .display.focus{background:var(--focus-color)}.lil-gui .controller.option .widget:hover .display{background:var(--hover-color)}.lil-gui .controller.number .slider:hover{background-color:var(--hover-color)}body:not(.lil-gui-dragging) .lil-gui .title:hover{background:var(--title-background-color);opacity:.85}.lil-gui .title:focus{text-decoration:underline var(--focus-color)}.lil-gui input:hover{background:var(--hover-color)}.lil-gui input:active{background:var(--focus-color)}.lil-gui input[type=checkbox]:focus{box-shadow:inset 0 0 0 1px var(--focus-color)}.lil-gui button:hover{background:var(--hover-color);border-color:var(--hover-color)}.lil-gui button:focus{border-color:var(--focus-color)}}'),fn=!0),n?n.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),o&&this.domElement.style.setProperty("--width",o+"px"),this.domElement.addEventListener("keydown",e=>e.stopPropagation()),this.domElement.addEventListener("keyup",e=>e.stopPropagation())}add(e,t,n,o,i){if(Object(n)===n)return new hn(this,e,t,n);const r=e[t];switch(typeof r){case"number":return new dn(this,e,t,n,o,i);case"boolean":return new tn(this,e,t);case"string":return new pn(this,e,t);case"function":return new un(this,e,t)}console.error("gui.add failed\n\tproperty:",t,"\n\tobject:",e,"\n\tvalue:",r)}addColor(e,t,n=1){return new cn(this,e,t,n)}addFolder(e){return new gn({parent:this,title:e})}load(e,t=!0){return e.controllers&&this.controllers.forEach(t=>{t instanceof un||t._name in e.controllers&&t.load(e.controllers[t._name])}),t&&e.folders&&this.folders.forEach(t=>{t._title in e.folders&&t.load(e.folders[t._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(e=>{if(!(e instanceof un)){if(e._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${e._name}"`);t.controllers[e._name]=e.save()}}),e&&this.folders.forEach(e=>{if(e._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${e._title}"`);t.folders[e._title]=e.save()}),t}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const n=e=>{e.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const o=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=o+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(e=>e.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),void 0!==this._onChange&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}}var mn=n("4721");const bn=new ke["Vb"],vn=new ke["Fc"],yn=new ke["Fc"],wn=new ke["Qb"],On={X:new ke["Fc"](1,0,0),Y:new ke["Fc"](0,1,0),Z:new ke["Fc"](0,0,1)},jn={type:"change"},xn={type:"mouseDown"},kn={type:"mouseUp",mode:null},_n={type:"objectChange"};class En extends ke["Fb"]{constructor(e,t){super(),void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),this.visible=!1,this.domElement=t,this.domElement.style.touchAction="none";const n=new Un;this._gizmo=n,this.add(n);const o=new Gn;this._plane=o,this.add(o);const i=this;function r(e,t){let r=t;Object.defineProperty(i,e,{get:function(){return void 0!==r?r:t},set:function(t){r!==t&&(r=t,o[e]=t,n[e]=t,i.dispatchEvent({type:e+"-changed",value:t}),i.dispatchEvent(jn))}}),i[e]=t,o[e]=t,n[e]=t}r("camera",e),r("object",void 0),r("enabled",!0),r("axis",null),r("mode","translate"),r("translationSnap",null),r("rotationSnap",null),r("scaleSnap",null),r("space","world"),r("size",1),r("dragging",!1),r("showX",!0),r("showY",!0),r("showZ",!0);const a=new ke["Fc"],l=new ke["Fc"],s=new ke["Qb"],c=new ke["Qb"],u=new ke["Fc"],d=new ke["Qb"],h=new ke["Fc"],p=new ke["Fc"],f=new ke["Fc"],g=0,m=new ke["Fc"];r("worldPosition",a),r("worldPositionStart",l),r("worldQuaternion",s),r("worldQuaternionStart",c),r("cameraPosition",u),r("cameraQuaternion",d),r("pointStart",h),r("pointEnd",p),r("rotationAxis",f),r("rotationAngle",g),r("eye",m),this._offset=new ke["Fc"],this._startNorm=new ke["Fc"],this._endNorm=new ke["Fc"],this._cameraScale=new ke["Fc"],this._parentPosition=new ke["Fc"],this._parentQuaternion=new ke["Qb"],this._parentQuaternionInv=new ke["Qb"],this._parentScale=new ke["Fc"],this._worldScaleStart=new ke["Fc"],this._worldQuaternionInv=new ke["Qb"],this._worldScale=new ke["Fc"],this._positionStart=new ke["Fc"],this._quaternionStart=new ke["Qb"],this._scaleStart=new ke["Fc"],this._getPointer=Sn.bind(this),this._onPointerDown=Cn.bind(this),this._onPointerHover=Nn.bind(this),this._onPointerMove=Bn.bind(this),this._onPointerUp=Pn.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(void 0===this.object||!0===this.dragging)return;bn.setFromCamera(e,this.camera);const t=An(this._gizmo.picker[this.mode],bn);this.axis=t?t.object.name:null}pointerDown(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){bn.setFromCamera(e,this.camera);const t=An(this._plane,bn,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,xn.mode=this.mode,this.dispatchEvent(xn)}}pointerMove(e){const t=this.axis,n=this.mode,o=this.object;let i=this.space;if("scale"===n?i="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(i="world"),void 0===o||null===t||!1===this.dragging||-1!==e.button)return;bn.setFromCamera(e,this.camera);const r=An(this._plane,bn,!0);if(r){if(this.pointEnd.copy(r.point).sub(this.worldPositionStart),"translate"===n)this._offset.copy(this.pointEnd).sub(this.pointStart),"local"===i&&"XYZ"!==t&&this._offset.applyQuaternion(this._worldQuaternionInv),-1===t.indexOf("X")&&(this._offset.x=0),-1===t.indexOf("Y")&&(this._offset.y=0),-1===t.indexOf("Z")&&(this._offset.z=0),"local"===i&&"XYZ"!==t?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),o.position.copy(this._offset).add(this._positionStart),this.translationSnap&&("local"===i&&(o.position.applyQuaternion(wn.copy(this._quaternionStart).invert()),-1!==t.search("X")&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.position.applyQuaternion(this._quaternionStart)),"world"===i&&(o.parent&&o.position.add(vn.setFromMatrixPosition(o.parent.matrixWorld)),-1!==t.search("X")&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.parent&&o.position.sub(vn.setFromMatrixPosition(o.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),yn.set(e,e,e)}else vn.copy(this.pointStart),yn.copy(this.pointEnd),vn.applyQuaternion(this._worldQuaternionInv),yn.applyQuaternion(this._worldQuaternionInv),yn.divide(vn),-1===t.search("X")&&(yn.x=1),-1===t.search("Y")&&(yn.y=1),-1===t.search("Z")&&(yn.z=1);o.scale.copy(this._scaleStart).multiply(yn),this.scaleSnap&&(-1!==t.search("X")&&(o.scale.x=Math.round(o.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(o.scale.y=Math.round(o.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(o.scale.z=Math.round(o.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){this._offset.copy(this.pointEnd).sub(this.pointStart);const e=20/this.worldPosition.distanceTo(vn.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(vn.copy(this.rotationAxis).cross(this.eye))*e):"X"!==t&&"Y"!==t&&"Z"!==t||(this.rotationAxis.copy(On[t]),vn.copy(On[t]),"local"===i&&vn.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(vn.cross(this.eye).normalize())*e),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(o.quaternion.copy(this._quaternionStart),o.quaternion.multiply(wn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),o.quaternion.copy(wn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),o.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(jn),this.dispatchEvent(_n)}}pointerUp(e){0===e.button&&(this.dragging&&null!==this.axis&&(kn.mode=this.mode,this.dispatchEvent(kn)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(jn),this.dispatchEvent(_n),this.pointStart.copy(this.pointEnd))}getRaycaster(){return bn}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}function Sn(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const t=this.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:e.button}}}function Nn(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e));break}}function Cn(e){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function Bn(e){this.enabled&&this.pointerMove(this._getPointer(e))}function Pn(e){this.enabled&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function An(e,t,n){const o=t.intersectObject(e,!0);for(let i=0;i<o.length;i++)if(o[i].object.visible||n)return o[i];return!1}En.prototype.isTransformControls=!0;const Mn=new ke["G"],Vn=new ke["Fc"](0,1,0),Dn=new ke["Fc"](0,0,0),$n=new ke["ob"],Tn=new ke["Qb"],zn=new ke["Qb"],In=new ke["Fc"],Ln=new ke["ob"],Yn=new ke["Fc"](1,0,0),Xn=new ke["Fc"](0,1,0),Fn=new ke["Fc"](0,0,1),Hn=new ke["Fc"],Rn=new ke["Fc"],Zn=new ke["Fc"];class Un extends ke["Fb"]{constructor(){super(),this.type="TransformControlsGizmo";const e=new ke["qb"]({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new ke["bb"]({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=e.clone();n.opacity=.15;const o=t.clone();o.opacity=.5;const i=e.clone();i.color.setHex(16711680);const r=e.clone();r.color.setHex(65280);const a=e.clone();a.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const s=e.clone();s.color.setHex(65280),s.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const u=e.clone();u.opacity=.25;const d=e.clone();d.color.setHex(16776960),d.opacity=.25;const h=e.clone();h.color.setHex(16776960);const p=e.clone();p.color.setHex(7895160);const f=new ke["v"](0,.04,.1,12);f.translate(0,.05,0);const g=new ke["h"](.08,.08,.08);g.translate(0,.04,0);const m=new ke["j"];m.setAttribute("position",new ke["K"]([0,0,0,1,0,0],3));const b=new ke["v"](.0075,.0075,.5,3);function v(e,t){const n=new ke["uc"](e,.0075,3,64,t*Math.PI*2);return n.rotateY(Math.PI/2),n.rotateX(Math.PI/2),n}function y(){const e=new ke["j"];return e.setAttribute("position",new ke["K"]([0,0,0,1,1,1],3)),e}b.translate(0,.25,0);const w={X:[[new ke["pb"](f,i),[.5,0,0],[0,0,-Math.PI/2]],[new ke["pb"](f,i),[-.5,0,0],[0,0,Math.PI/2]],[new ke["pb"](b,i),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new ke["pb"](f,r),[0,.5,0]],[new ke["pb"](f,r),[0,-.5,0],[Math.PI,0,0]],[new ke["pb"](b,r)]],Z:[[new ke["pb"](f,a),[0,0,.5],[Math.PI/2,0,0]],[new ke["pb"](f,a),[0,0,-.5],[-Math.PI/2,0,0]],[new ke["pb"](b,a),null,[Math.PI/2,0,0]]],XYZ:[[new ke["pb"](new ke["Gb"](.1,0),u.clone()),[0,0,0]]],XY:[[new ke["pb"](new ke["h"](.15,.15,.01),c.clone()),[.15,.15,0]]],YZ:[[new ke["pb"](new ke["h"](.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ke["pb"](new ke["h"](.15,.15,.01),s.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},O={X:[[new ke["pb"](new ke["v"](.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new ke["pb"](new ke["v"](.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,.3,0]],[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new ke["pb"](new ke["Gb"](.2,0),n)]],XY:[[new ke["pb"](new ke["h"](.2,.2,.01),n),[.15,.15,0]]],YZ:[[new ke["pb"](new ke["h"](.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ke["pb"](new ke["h"](.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]]},j={START:[[new ke["pb"](new ke["Gb"](.01,2),o),null,null,null,"helper"]],END:[[new ke["pb"](new ke["Gb"](.01,2),o),null,null,null,"helper"]],DELTA:[[new ke["ab"](y(),o),null,null,null,"helper"]],X:[[new ke["ab"](m,o.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new ke["ab"](m,o.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new ke["ab"](m,o.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},x={XYZE:[[new ke["pb"](v(.5,1),p),null,[0,Math.PI/2,0]]],X:[[new ke["pb"](v(.5,.5),i)]],Y:[[new ke["pb"](v(.5,.5),r),null,[0,0,-Math.PI/2]]],Z:[[new ke["pb"](v(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new ke["pb"](v(.75,1),d),null,[0,Math.PI/2,0]]]},k={AXIS:[[new ke["ab"](m,o.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},_={XYZE:[[new ke["pb"](new ke["kc"](.25,10,8),n)]],X:[[new ke["pb"](new ke["uc"](.5,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ke["pb"](new ke["uc"](.5,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ke["pb"](new ke["uc"](.5,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ke["pb"](new ke["uc"](.75,.1,2,24),n)]]},E={X:[[new ke["pb"](g,i),[.5,0,0],[0,0,-Math.PI/2]],[new ke["pb"](b,i),[0,0,0],[0,0,-Math.PI/2]],[new ke["pb"](g,i),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new ke["pb"](g,r),[0,.5,0]],[new ke["pb"](b,r)],[new ke["pb"](g,r),[0,-.5,0],[0,0,Math.PI]]],Z:[[new ke["pb"](g,a),[0,0,.5],[Math.PI/2,0,0]],[new ke["pb"](b,a),[0,0,0],[Math.PI/2,0,0]],[new ke["pb"](g,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new ke["pb"](new ke["h"](.15,.15,.01),c),[.15,.15,0]]],YZ:[[new ke["pb"](new ke["h"](.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ke["pb"](new ke["h"](.15,.15,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ke["pb"](new ke["h"](.1,.1,.1),u.clone())]]},S={X:[[new ke["pb"](new ke["v"](.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new ke["pb"](new ke["v"](.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,.3,0]],[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new ke["pb"](new ke["v"](.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new ke["pb"](new ke["h"](.2,.2,.01),n),[.15,.15,0]]],YZ:[[new ke["pb"](new ke["h"](.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ke["pb"](new ke["h"](.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ke["pb"](new ke["h"](.2,.2,.2),n),[0,0,0]]]},N={X:[[new ke["ab"](m,o.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new ke["ab"](m,o.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new ke["ab"](m,o.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function C(e){const t=new ke["Fb"];for(const n in e)for(let o=e[n].length;o--;){const i=e[n][o][0].clone(),r=e[n][o][1],a=e[n][o][2],l=e[n][o][3],s=e[n][o][4];i.name=n,i.tag=s,r&&i.position.set(r[0],r[1],r[2]),a&&i.rotation.set(a[0],a[1],a[2]),l&&i.scale.set(l[0],l[1],l[2]),i.updateMatrix();const c=i.geometry.clone();c.applyMatrix4(i.matrix),i.geometry=c,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo["translate"]=C(w)),this.add(this.gizmo["rotate"]=C(x)),this.add(this.gizmo["scale"]=C(E)),this.add(this.picker["translate"]=C(O)),this.add(this.picker["rotate"]=C(_)),this.add(this.picker["scale"]=C(S)),this.add(this.helper["translate"]=C(j)),this.add(this.helper["rotate"]=C(k)),this.add(this.helper["scale"]=C(N)),this.picker["translate"].visible=!1,this.picker["rotate"].visible=!1,this.picker["scale"].visible=!1}updateMatrixWorld(e){const t="scale"===this.mode?"local":this.space,n="local"===t?this.worldQuaternion:zn;this.gizmo["translate"].visible="translate"===this.mode,this.gizmo["rotate"].visible="rotate"===this.mode,this.gizmo["scale"].visible="scale"===this.mode,this.helper["translate"].visible="translate"===this.mode,this.helper["rotate"].visible="rotate"===this.mode,this.helper["scale"].visible="scale"===this.mode;let o=[];o=o.concat(this.picker[this.mode].children),o=o.concat(this.gizmo[this.mode].children),o=o.concat(this.helper[this.mode].children);for(let i=0;i<o.length;i++){const e=o[i];let t;if(e.visible=!0,e.rotation.set(0,0,0),e.position.copy(this.worldPosition),t=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),e.scale.set(1,1,1).multiplyScalar(t*this.size/4),"helper"!==e.tag){if(e.quaternion.copy(n),"translate"===this.mode||"scale"===this.mode){const t=.99,o=.2;"X"===e.name&&Math.abs(Vn.copy(Yn).applyQuaternion(n).dot(this.eye))>t&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"Y"===e.name&&Math.abs(Vn.copy(Xn).applyQuaternion(n).dot(this.eye))>t&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"Z"===e.name&&Math.abs(Vn.copy(Fn).applyQuaternion(n).dot(this.eye))>t&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"XY"===e.name&&Math.abs(Vn.copy(Fn).applyQuaternion(n).dot(this.eye))<o&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"YZ"===e.name&&Math.abs(Vn.copy(Yn).applyQuaternion(n).dot(this.eye))<o&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"XZ"===e.name&&Math.abs(Vn.copy(Xn).applyQuaternion(n).dot(this.eye))<o&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1)}else"rotate"===this.mode&&(Tn.copy(n),Vn.copy(this.eye).applyQuaternion(wn.copy(n).invert()),-1!==e.name.search("E")&&e.quaternion.setFromRotationMatrix($n.lookAt(this.eye,Dn,Xn)),"X"===e.name&&(wn.setFromAxisAngle(Yn,Math.atan2(-Vn.y,Vn.z)),wn.multiplyQuaternions(Tn,wn),e.quaternion.copy(wn)),"Y"===e.name&&(wn.setFromAxisAngle(Xn,Math.atan2(Vn.x,Vn.z)),wn.multiplyQuaternions(Tn,wn),e.quaternion.copy(wn)),"Z"===e.name&&(wn.setFromAxisAngle(Fn,Math.atan2(Vn.y,Vn.x)),wn.multiplyQuaternions(Tn,wn),e.quaternion.copy(wn)));e.visible=e.visible&&(-1===e.name.indexOf("X")||this.showX),e.visible=e.visible&&(-1===e.name.indexOf("Y")||this.showY),e.visible=e.visible&&(-1===e.name.indexOf("Z")||this.showZ),e.visible=e.visible&&(-1===e.name.indexOf("E")||this.showX&&this.showY&&this.showZ),e.material._color=e.material._color||e.material.color.clone(),e.material._opacity=e.material._opacity||e.material.opacity,e.material.color.copy(e.material._color),e.material.opacity=e.material._opacity,this.enabled&&this.axis&&(e.name===this.axis||this.axis.split("").some((function(t){return e.name===t})))&&(e.material.color.setHex(16776960),e.material.opacity=1)}else e.visible=!1,"AXIS"===e.name?(e.position.copy(this.worldPositionStart),e.visible=!!this.axis,"X"===this.axis&&(wn.setFromEuler(Mn.set(0,0,0)),e.quaternion.copy(n).multiply(wn),Math.abs(Vn.copy(Yn).applyQuaternion(n).dot(this.eye))>.9&&(e.visible=!1)),"Y"===this.axis&&(wn.setFromEuler(Mn.set(0,0,Math.PI/2)),e.quaternion.copy(n).multiply(wn),Math.abs(Vn.copy(Xn).applyQuaternion(n).dot(this.eye))>.9&&(e.visible=!1)),"Z"===this.axis&&(wn.setFromEuler(Mn.set(0,Math.PI/2,0)),e.quaternion.copy(n).multiply(wn),Math.abs(Vn.copy(Fn).applyQuaternion(n).dot(this.eye))>.9&&(e.visible=!1)),"XYZE"===this.axis&&(wn.setFromEuler(Mn.set(0,Math.PI/2,0)),Vn.copy(this.rotationAxis),e.quaternion.setFromRotationMatrix($n.lookAt(Dn,Vn,Xn)),e.quaternion.multiply(wn),e.visible=this.dragging),"E"===this.axis&&(e.visible=!1)):"START"===e.name?(e.position.copy(this.worldPositionStart),e.visible=this.dragging):"END"===e.name?(e.position.copy(this.worldPosition),e.visible=this.dragging):"DELTA"===e.name?(e.position.copy(this.worldPositionStart),e.quaternion.copy(this.worldQuaternionStart),vn.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),vn.applyQuaternion(this.worldQuaternionStart.clone().invert()),e.scale.copy(vn),e.visible=this.dragging):(e.quaternion.copy(n),this.dragging?e.position.copy(this.worldPositionStart):e.position.copy(this.worldPosition),this.axis&&(e.visible=-1!==this.axis.search(e.name)))}super.updateMatrixWorld(e)}}Un.prototype.isTransformControlsGizmo=!0;class Gn extends ke["pb"]{constructor(){super(new ke["Kb"](1e5,1e5,2,2),new ke["qb"]({visible:!1,wireframe:!0,side:ke["C"],transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(t="local"),Hn.copy(Yn).applyQuaternion("local"===t?this.worldQuaternion:zn),Rn.copy(Xn).applyQuaternion("local"===t?this.worldQuaternion:zn),Zn.copy(Fn).applyQuaternion("local"===t?this.worldQuaternion:zn),Vn.copy(Rn),this.mode){case"translate":case"scale":switch(this.axis){case"X":Vn.copy(this.eye).cross(Hn),In.copy(Hn).cross(Vn);break;case"Y":Vn.copy(this.eye).cross(Rn),In.copy(Rn).cross(Vn);break;case"Z":Vn.copy(this.eye).cross(Zn),In.copy(Zn).cross(Vn);break;case"XY":In.copy(Zn);break;case"YZ":In.copy(Hn);break;case"XZ":Vn.copy(Zn),In.copy(Rn);break;case"XYZ":case"E":In.set(0,0,0);break}break;case"rotate":default:In.set(0,0,0)}0===In.length()?this.quaternion.copy(this.cameraQuaternion):(Ln.lookAt(vn.set(0,0,0),In,Vn),this.quaternion.setFromRotationMatrix(Ln)),super.updateMatrixWorld(e)}}Gn.prototype.isTransformControlsPlane=!0;var Wn=Object(o["defineComponent"])({name:"studio",components:{FilterTimeline:Ft,AsideDefaultMenu:Qt,Vue3LiveForm:wt,draggable:Jt["a"],Flow:Ae},setup:function(){var e,t=null,n="http://localhost:5000",i=[{type:1,title:"Glid-3-ML",description:"Latent diffusion model",folder:"latent_diffusion"},{type:2,title:"Disco Diffusion",description:"Disco diffusion network",folder:"disco_diffusion"}],r=Object(o["reactive"])({count:0,mounted:!1,project:null,list:[],generators:i,selectedGenerator:null,busy:!1,output:"",progress:0,progressPercentage:"",autoUpdate:!1}),a=null,l=null,s=[],c=4,u=[],d=new ke["Fc"],h=new ke["Vb"],p=new ke["Ec"],f=new ke["Ec"],g=new ke["Ec"],m=new ke["h"](20,20,20),b=200,v={},y={uniform:!0,tension:.5,centripetal:!0,chordal:!0,addPoint:null,removePoint:null,exportSpline:null};return{state:r,timer:t,enabled:!0,dragging:!1,apiUrl:n,transformControl:e,splineHelperObjects:s,raycaster:h,pointer:p,onUpPosition:f,onDownPosition:g,splines:v,params:y,positions:u,splinePointsLength:c,point:d,ARC_SEGMENTS:b,geometry:m,renderer:a,camera:l}},mounted:function(){console.log(location.host),location.host.indexOf("localhost")>-1?this.apiUrl="http://localhost:5000":this.apiUrl="",this.state.mounted=!0;var e=Object(Kt["c"])();this.state.autoUpdate&&(this.timer=setInterval(this.updateStatus,5e3)),this.getProject(e.params.id)},beforeDestroy:function(){this.cancelAutoUpdate()},methods:{deleteGenerator:function(e){this.state.selectedGenerator=null,this.state.project.generators=this.state.project.generators.filter((function(t){return t.id!=e.id})),console.log(this.state.selectedGenerator)},selectGenerator:function(e){this.state.selectedGenerator=e,console.log(this.state.selectedGenerator)},addGenerator:function(e){n("3e8f");var t=Object.assign({},e);t.id=this.state.project.generators.length,fetch("/generators/"+t.folder+"/schema.json").then((function(e){return e.json()})).then((function(e){t.schema=e,console.log(e)})),fetch("/generators/"+t.folder+"/defaults.json").then((function(e){return e.json()})).then((function(e){t.settings=e,console.log(e)})),this.state.project.generators.push(t)},log:function(e){console.log(e),this.array_move(this.state.list,e.oldIndex,e.newIndex),console.log(this.state.list)},array_move:function(e,t,n){if(n>=e.length){var o=n-e.length+1;while(o--)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e},updateStatus:function(){var e=this;qt["a"].post(this.apiUrl+"/api/task/update",{}).then((function(t){var n=t.data;console.log(n),e.state.output=n["output"],e.state.progress=n["progress"],e.state.busy=n["busy"],e.state.progressPercentage=Math.round(100*e.state.progress)+"%"})).catch((function(e){e.response}))},cancelAutoUpdate:function(){clearInterval(this.timer)},startProject:function(){var e=this;qt["a"].post(this.apiUrl+"/api/project/save/"+this.state.project.id.toString(),this.state.project).then((function(t){t.data;qt["a"].post(e.apiUrl+"/api/task/start/"+e.state.project.id.toString(),{}).then((function(t){var n=t.data;console.log(n),e.getProject(e.state.project.id)})).catch((function(e){e.response}))})).catch((function(e){e.response}))},getProject:function(e){var t=this;qt["a"].post(this.apiUrl+"/api/project/"+e.toString(),{}).then((function(e){var n=e.data;t.state.project=n,console.log(n),t.params.addPoint=function(){t.addPoint()},t.params.removePoint=function(){t.removePoint()},t.params.exportSpline=function(){t.exportSpline()},console.log("window",window.innerWidth,window.innerHeight),t.initScene()})).catch((function(e){e.response}))},saveProject:function(){console.log(this.apiUrl),qt["a"].post(this.apiUrl+"/api/project/save/"+this.state.project.id.toString(),this.state.project).then((function(e){e.data;console.log("saved")})).catch((function(e){e.response}))},deleteProject:function(e){console.log("delete"),qt["a"].delete(this.apiUrl+"/api/project/"+e.toString()).then((function(e){e.data})).catch((function(e){e.response}))},initScene:function(){var e=this,t=this.$refs.scene.scene;t.add(new ke["c"](15790320));var n=new ke["mc"](16777215,1.5);n.position.set(0,1500,200),n.angle=.2*Math.PI,n.castShadow=!0,n.shadow.camera.near=200,n.shadow.camera.far=2e3,n.shadow.bias=-222e-6,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,t.add(n);var o=new ke["Kb"](2e3,2e3);o.rotateX(-Math.PI/2);new ke["ec"]({color:0,opacity:.2});var i=new ke["N"](2e3,100);i.position.y=-199,i.material.opacity=.25,i.material.transparent=!0,t.add(i),this.camera=this.$refs.camera.camera,this.renderer=this.$refs.renderer.renderer,this.camera.position.set(0,250,1e3),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.shadowMap.enabled=!0;var r=new gn({container:document.getElementById("kt_animation_tab_content")});r.add(this.params,"uniform").onChange((function(){e.render()})),r.add(this.params,"tension",0,1).step(.01).onChange((function(t){e.splines.uniform.tension=t,e.updateSplineOutline(),e.render()})),r.add(this.params,"centripetal").onChange((function(){e.render()})),r.add(this.params,"chordal").onChange((function(){e.render()})),console.log(1231),r.add(this.params,"addPoint"),r.add(this.params,"removePoint"),r.add(this.params,"exportSpline"),r.open(),console.log(123);var a=new mn["a"](this.camera,this.renderer.domElement);a.damping=.2,a.addEventListener("change",(function(){e.render()})),this.transformControl=new En(this.camera,this.renderer.domElement),this.transformControl.addEventListener("change",(function(){e.render()})),this.transformControl.addEventListener("dragging-changed",(function(e){a.enabled=!e.value})),t.add(this.transformControl),this.transformControl.addEventListener("objectChange",(function(){e.updateSplineOutline()})),document.addEventListener("pointerdown",(function(t){e.onPointerDown(t)})),document.addEventListener("pointerup",(function(){e.onPointerUp()})),document.addEventListener("pointermove",(function(t){e.onPointerMove(t)})),window.addEventListener("resize",(function(){e.onWindowResize()}));for(var l=0;l<this.splinePointsLength;l++)this.addSplineObject(this.positions[l]);this.positions.length=0;for(l=0;l<this.splinePointsLength;l++)this.positions.push(this.splineHelperObjects[l].position);this.geometry=new ke["j"],this.geometry.setAttribute("position",new ke["i"](new Float32Array(3*this.ARC_SEGMENTS),3));var s=new ke["k"](this.positions);for(var c in s.curveType="catmullrom",s.mesh=new ke["ab"](this.geometry.clone(),new ke["bb"]({color:16711680,opacity:.35})),s.mesh.castShadow=!0,this.splines.uniform=s,s=new ke["k"](this.positions),s.curveType="centripetal",s.mesh=new ke["ab"](this.geometry.clone(),new ke["bb"]({color:65280,opacity:.35})),s.mesh.castShadow=!0,this.splines.centripetal=s,s=new ke["k"](this.positions),s.curveType="chordal",s.mesh=new ke["ab"](this.geometry.clone(),new ke["bb"]({color:255,opacity:.35})),s.mesh.castShadow=!0,this.splines.chordal=s,this.splines){var u=this.splines[c];this.$refs.scene.scene.add(u.mesh)}this.load([new ke["Fc"](289.76843686945404,452.51481137238443,56.10018915737797),new ke["Fc"](-53.56300074753207,171.49711742836848,-14.495472686253045),new ke["Fc"](-91.40118730204415,176.4306956436485,-6.958271935582161),new ke["Fc"](-383.785318791128,491.1365363371675,47.869296953772746)]),this.render()},addSplineObject:function(e){var t=new ke["sb"]({color:16777215*Math.random()}),n=new ke["pb"](this.geometry,t);return e?n.position.copy(e):(n.position.x=1e3*Math.random()-500,n.position.y=600*Math.random(),n.position.z=800*Math.random()-400,n.position.z=800*Math.random()-400),n.castShadow=!0,n.receiveShadow=!0,this.$refs.scene.scene.add(n),this.splineHelperObjects.push(n),n},addPoint:function(){this.splinePointsLength++,this.positions.push(this.addSplineObject(null).position),this.updateSplineOutline(),this.render()},removePoint:function(){if(!(this.splinePointsLength<=4)){this.splineHelperObjects.pop();this.splinePointsLength--,this.positions.pop(),this.transformControl.object===this.point&&this.transformControl.detach(),this.$refs.scene.scene.remove(this.point),this.updateSplineOutline(),this.render()}},updateSplineOutline:function(){for(var e in this.splines){for(var t=this.splines[e],n=t.mesh,o=n.geometry.attributes.position,i=0;i<this.ARC_SEGMENTS;i++){var r=i/(this.ARC_SEGMENTS-1);t.getPoint(r,this.point),o.setXYZ(i,this.point.x,this.point.y,this.point.z)}o.needsUpdate=!0}},exportSpline:function(){for(var e=[],t=0;t<this.splinePointsLength;t++){var n=this.splineHelperObjects[t].position;e.push("new Vector3("+n.x+", "+n.y+", "+n.z+")")}console.log(e.join(",\n"));var o="["+e.join(",\n\t")+"]";prompt("copy and paste code",o)},load:function(e){while(e.length>this.positions.length)this.addPoint();while(e.length<this.positions.length)this.removePoint();for(var t=0;t<this.positions.length;t++)this.positions[t].copy(e[t]);this.updateSplineOutline()},render:function(){if("object"===typeof this.$refs.renderer&&null!=this.$refs.renderer){this.splines.uniform.mesh.visible=this.params.uniform,this.splines.centripetal.mesh.visible=this.params.centripetal,this.splines.chordal.mesh.visible=this.params.chordal;var e=this.$refs.scene.scene,t=this.$refs.camera.camera;this.$refs.renderer.renderer.render(e,t)}},onPointerDown:function(e){this.onDownPosition.x=e.clientX,this.onDownPosition.y=e.clientY},onPointerUp:function(){this.onUpPosition.x=event.clientX,this.onUpPosition.y=event.clientY,0===this.onDownPosition.distanceTo(this.onUpPosition)&&this.transformControl.detach()},onPointerMove:function(e){if(null!=this.$refs.renderer){var t=this.$refs.renderer.renderer,n=t.domElement.getBoundingClientRect();this.pointer.x=(e.clientX-n.left)/(n.right-n.left)*2-1,this.pointer.y=-(e.clientY-n.top)/(n.bottom-n.top)*2+1,this.raycaster.setFromCamera(this.pointer,this.camera);var o=this.raycaster.intersectObjects(this.splineHelperObjects,!1);if(o.length>0){var i=o[0].object;console.log("intersected"),i!==this.transformControl.object&&this.transformControl.attach(i)}}},onWindowResize:function(){console.log("resize");var e=this.$refs.camera.camera;null!=e&&(e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),this.render())}}});const Qn=ze()(Wn,[["render",xe]]);t["default"]=Qn},"9e48":function(e,t,n){},b9a3:function(e,t,n){},c2ea:function(e,t,n){"use strict";n("b9a3")},ca93:function(e,t,n){},daae:function(e,t,n){"use strict";n("0d74")}}]);
//# sourceMappingURL=chunk-7bc90552.a9f4daee.js.map